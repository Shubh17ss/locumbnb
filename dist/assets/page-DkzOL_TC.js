import{r as y,j as e,s as q,R as $,u as z}from"./index-Cg48h7fn.js";import{u as B}from"./useProfileCompletion-CUiJFVy2.js";const U={legalFirstName:"",legalMiddleName:"",legalLastName:"",dba:"",email:"",phone:"",alternatePhone:"",address:"",city:"",state:"",zipCode:""},_=r=>r?Object.values(r).some(j=>(j??"").toString().trim()!==""):!1,H=r=>["legalFirstName","legalMiddleName","legalLastName","dba","email","phone","alternatePhone","address","city","state","zipCode"].every(o=>(r[o]??"").toString().trim()===""),Y=({data:r,onUpdate:j})=>{const o=y.useMemo(()=>r?{...U,...r}:{...U},[]),[f,p]=y.useState(o),[c,w]=y.useState({}),N=y.useRef(!1),d=y.useRef(!1);y.useEffect(()=>{!r||!_(r)||d.current||(!N.current||H(f))&&(p({...U,...r}),N.current=!0)},[r]);const b=(s,n)=>{switch(s){case"email":return n?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(n)?"":"Invalid email format":"Email is required";case"phone":{const t=n.replace(/\D/g,"");return n?/^\d{10}$/.test(t)?"":"Invalid phone number":"Phone number is required"}case"legalFirstName":case"legalLastName":return n.trim()?"":"This field is required";case"address":case"city":case"state":case"zipCode":return n.trim()?"":"This field is required";default:return""}},D=s=>["legalFirstName","legalLastName","email","phone","address","city","state","zipCode"].every(t=>{const x=(s[t]??"").toString();return x.trim()!==""&&!b(t,x)}),v=s=>{const{name:n,value:t}=s.target;d.current=!0,p(l=>({...l,[n]:t}));const x=b(n,t);w(l=>({...l,[n]:x}))};y.useEffect(()=>{const s=window.setTimeout(()=>{const n=D(f);j(f,n)},400);return()=>window.clearTimeout(s)},[f,j]),y.useEffect(()=>{const s=async()=>{if(!(r&&(r.legalFirstName||r.email))&&!d.current&&!(f.legalFirstName||f.email))try{const{data:{user:t}}=await q.auth.getUser();if(!t)return;const x={},l=t.user_metadata?.full_name||t.user_metadata?.name||"";if(l){const m=l.trim().split(/\s+/);m.length===1?x.legalFirstName=m[0]:m.length===2?(x.legalFirstName=m[0],x.legalLastName=m[1]):m.length>=3&&(x.legalFirstName=m[0],x.legalMiddleName=m.slice(1,-1).join(" "),x.legalLastName=m[m.length-1])}t.email&&(x.email=t.email),Object.keys(x).length>0&&p(m=>({...m,...x}))}catch(t){console.error("Error prefilling from auth:",t)}},n=window.setTimeout(s,800);return()=>window.clearTimeout(n)},[r]);const u=["AL","AK","AZ","AR","CA","CO","CT","DE","FL","GA","HI","ID","IL","IN","IA","KS","KY","LA","ME","MD","MA","MI","MN","MS","MO","MT","NE","NV","NH","NJ","NM","NY","NC","ND","OH","OK","OR","PA","RI","SC","SD","TN","TX","UT","VT","VA","WA","WV","WI","WY"];return e.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:[e.jsxs("div",{className:"mb-6",children:[e.jsx("h3",{className:"text-lg font-bold text-gray-900 mb-2",children:"Personal Identifiers"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Provide your legal name and contact information as they appear on official documents."})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"text-sm font-semibold text-gray-900 mb-3",children:"Legal Name"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["First Name ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"text",name:"legalFirstName",value:f.legalFirstName,onChange:v,className:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-teal-500",placeholder:"John"}),c.legalFirstName&&e.jsx("p",{className:"text-xs text-red-600 mt-1",children:c.legalFirstName})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Middle Name"}),e.jsx("input",{type:"text",name:"legalMiddleName",value:f.legalMiddleName,onChange:v,className:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-teal-500",placeholder:"Michael"})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Last Name ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"text",name:"legalLastName",value:f.legalLastName,onChange:v,className:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-teal-500",placeholder:"Smith"}),c.legalLastName&&e.jsx("p",{className:"text-xs text-red-600 mt-1",children:c.legalLastName})]})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"DBA (Doing Business As)"}),e.jsx("input",{type:"text",name:"dba",value:f.dba,onChange:v,className:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-teal-500",placeholder:"Optional - if applicable"}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Enter your business name if you operate under a different name"})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-sm font-semibold text-gray-900 mb-3",children:"Contact Information"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Email Address ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"email",name:"email",value:f.email,onChange:v,className:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-teal-500",placeholder:"john.smith@example.com"}),c.email&&e.jsx("p",{className:"text-xs text-red-600 mt-1",children:c.email})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Phone Number ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"tel",name:"phone",value:f.phone,onChange:v,className:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-teal-500",placeholder:"(555) 123-4567"}),c.phone&&e.jsx("p",{className:"text-xs text-red-600 mt-1",children:c.phone})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Alternate Phone"}),e.jsx("input",{type:"tel",name:"alternatePhone",value:f.alternatePhone,onChange:v,className:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-teal-500",placeholder:"(555) 987-6543"})]})]})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-sm font-semibold text-gray-900 mb-3",children:"Mailing Address"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Street Address ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"text",name:"address",value:f.address,onChange:v,className:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-teal-500",placeholder:"123 Main Street, Apt 4B"}),c.address&&e.jsx("p",{className:"text-xs text-red-600 mt-1",children:c.address})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["City ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"text",name:"city",value:f.city,onChange:v,className:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-teal-500",placeholder:"San Francisco"}),c.city&&e.jsx("p",{className:"text-xs text-red-600 mt-1",children:c.city})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["State ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs("select",{name:"state",value:f.state,onChange:v,className:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-teal-500",children:[e.jsx("option",{value:"",children:"Select State"}),u.map(s=>e.jsx("option",{value:s,children:s},s))]}),c.state&&e.jsx("p",{className:"text-xs text-red-600 mt-1",children:c.state})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["ZIP Code ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"text",name:"zipCode",value:f.zipCode,onChange:v,className:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-teal-500",placeholder:"94102",maxLength:10}),c.zipCode&&e.jsx("p",{className:"text-xs text-red-600 mt-1",children:c.zipCode})]})]})]})]})]}),e.jsx("div",{className:"mt-6 p-3 bg-gray-50 rounded-lg border border-gray-200",children:e.jsxs("p",{className:"text-xs text-gray-600",children:[e.jsx("i",{className:"ri-information-line mr-1"}),"Information is self-reported and not verified by the platform. Facilities will verify independently."]})})]})},F={npiNumber:"",deaNumber:"",specialty:"",subspecialty:"",yearsExperience:"",boardCertified:null,boardCertificationDetails:""},V=["Anesthesiology","Cardiology","Dermatology","Emergency Medicine","Family Medicine","Gastroenterology","General Surgery","Hematology","Hospitalist","Infectious Disease","Internal Medicine","Nephrology","Neurology","Neurosurgery","Obstetrics & Gynecology","Oncology","Ophthalmology","Orthopedic Surgery","Otolaryngology","Pathology","Pediatrics","Physical Medicine & Rehabilitation","Plastic Surgery","Psychiatry","Pulmonology","Radiology","Rheumatology","Urology","Other"],Q=r=>r.replace(/\D/g,""),R=r=>Q(r).slice(0,10),W=({data:r,onUpdate:j})=>{const o=y.useMemo(()=>r?{...F,...r}:{...F},[]),[f,p]=y.useState(o),c=y.useRef(!1);y.useEffect(()=>{if(!r||c.current)return;const d={...F,...r};p(d);const b=w(d);j(d,b,!0)},[r]);const w=d=>!(!R(d.npiNumber)||!d.specialty?.trim()||String(d.yearsExperience??"").trim()===""||d.boardCertified!==!0&&d.boardCertified!==!1||d.boardCertified===!0&&!d.boardCertificationDetails.trim()),N=(d,b)=>{c.current=!0,p(D=>{const v={...D,[d]:b};d==="boardCertified"&&b===!1&&(v.boardCertificationDetails="");const u=w(v);return j(v,u),v})};return e.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:[e.jsxs("div",{className:"mb-6",children:[e.jsx("h3",{className:"text-lg font-bold text-gray-900 mb-2",children:"Professional Information"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Provide your identifiers and specialty information (used for credentialing)."})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"text-sm font-semibold text-gray-900 mb-3",children:"Identifiers"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["NPI Number ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"text",inputMode:"numeric",value:f.npiNumber,onChange:d=>N("npiNumber",R(d.target.value)),className:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-teal-500",placeholder:"10-digit NPI"}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Digits only (10 max). Saved as you type."})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"DEA Number"}),e.jsx("input",{type:"text",value:f.deaNumber,onChange:d=>N("deaNumber",d.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-teal-500",placeholder:"Optional"})]})]})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-sm font-semibold text-gray-900 mb-3",children:"Specialty"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Primary Specialty ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs("select",{value:f.specialty,onChange:d=>N("specialty",d.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-teal-500",children:[e.jsx("option",{value:"",children:"Select Specialty"}),V.map(d=>e.jsx("option",{value:d,children:d},d))]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Subspecialty"}),e.jsx("input",{type:"text",value:f.subspecialty,onChange:d=>N("subspecialty",d.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-teal-500",placeholder:"Optional"})]})]})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-sm font-semibold text-gray-900 mb-3",children:"Experience & Board Certification"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Years of Experience ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"number",value:f.yearsExperience,onChange:d=>N("yearsExperience",d.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-teal-500",placeholder:"e.g., 7",min:0,max:80})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Board Certified? ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs("select",{value:f.boardCertified===null?"":f.boardCertified?"yes":"no",onChange:d=>{d.target.value===""?N("boardCertified",null):N("boardCertified",d.target.value==="yes")},className:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-teal-500",children:[e.jsx("option",{value:"",children:"Select"}),e.jsx("option",{value:"yes",children:"Yes"}),e.jsx("option",{value:"no",children:"No"})]})]})]}),f.boardCertified===!0&&e.jsxs("div",{className:"mt-4",children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Board Certification Details ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("textarea",{value:f.boardCertificationDetails,onChange:d=>N("boardCertificationDetails",d.target.value),rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-teal-500",placeholder:"e.g., American Board of Pediatrics (PCCM), certified 2019"})]})]})]})]})},K=({data:r,onUpdate:j})=>{const[o,f]=y.useState(r?.licenses||[{id:"1",state:"",licenseNumber:"",issueDate:"",expirationDate:"",status:"Active"}]),[p,c]=y.useState({}),w=["AL","AK","AZ","AR","CA","CO","CT","DE","FL","GA","HI","ID","IL","IN","IA","KS","KY","LA","ME","MD","MA","MI","MN","MS","MO","MT","NE","NV","NH","NJ","NM","NY","NC","ND","OH","OK","OR","PA","RI","SC","SD","TN","TX","UT","VT","VA","WA","WV","WI","WY"],N=["Active","Inactive","Pending","Expired"],d=s=>{const n={};return s.state||(n.state="State is required"),s.licenseNumber.trim()||(n.licenseNumber="License number is required"),s.expirationDate?new Date(s.expirationDate)<new Date&&s.status==="Active"&&(n.expirationDate="Expired license cannot be marked as Active"):n.expirationDate="Expiration date is required",s.status||(n.status="Status is required"),n},b=(s,n,t)=>{const x=o.map(m=>m.id===s?{...m,[n]:t}:m);f(x);const l=x.find(m=>m.id===s);if(l){const m=d(l);c(a=>({...a,[s]:m}))}},D=()=>{const s={id:Date.now().toString(),state:"",licenseNumber:"",issueDate:"",expirationDate:"",status:"Active"};f([...o,s])},v=s=>{o.length>1&&(f(o.filter(n=>n.id!==s)),c(n=>{const t={...n};return delete t[s],t}))},u=s=>s.length===0?!1:s.some(n=>{const t=d(n);return n.state&&n.licenseNumber.trim()&&n.expirationDate&&n.status&&Object.keys(t).length===0});return y.useEffect(()=>{const s=setTimeout(()=>{const n=u(o);j({licenses:o},n)},500);return()=>clearTimeout(s)},[o,j]),e.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:[e.jsxs("div",{className:"mb-6",children:[e.jsx("h3",{className:"text-lg font-bold text-gray-900 mb-2",children:"Medical Licensure"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Add all active state medical licenses. Multi-state licenses are supported."})]}),e.jsxs("div",{className:"space-y-6",children:[o.map((s,n)=>e.jsxs("div",{className:"p-4 border border-gray-200 rounded-lg bg-gray-50",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("h4",{className:"text-sm font-semibold text-gray-900",children:["License ",n+1]}),o.length>1&&e.jsxs("button",{onClick:()=>v(s.id),className:"text-red-600 hover:text-red-700 text-sm font-medium whitespace-nowrap",children:[e.jsx("i",{className:"ri-delete-bin-line mr-1"}),"Remove"]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["State ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs("select",{value:s.state,onChange:t=>b(s.id,"state",t.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-teal-500 bg-white",children:[e.jsx("option",{value:"",children:"Select State"}),w.map(t=>e.jsx("option",{value:t,children:t},t))]}),p[s.id]?.state&&e.jsx("p",{className:"text-xs text-red-600 mt-1",children:p[s.id].state})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["License Number ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"text",value:s.licenseNumber,onChange:t=>b(s.id,"licenseNumber",t.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-teal-500 bg-white",placeholder:"e.g., MD123456"}),p[s.id]?.licenseNumber&&e.jsx("p",{className:"text-xs text-red-600 mt-1",children:p[s.id].licenseNumber})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Issue Date"}),e.jsx("input",{type:"date",value:s.issueDate,onChange:t=>b(s.id,"issueDate",t.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-teal-500 bg-white"})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Expiration Date ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"date",value:s.expirationDate,onChange:t=>b(s.id,"expirationDate",t.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-teal-500 bg-white"}),p[s.id]?.expirationDate&&e.jsx("p",{className:"text-xs text-red-600 mt-1",children:p[s.id].expirationDate})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Status ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("select",{value:s.status,onChange:t=>b(s.id,"status",t.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-teal-500 bg-white",children:N.map(t=>e.jsx("option",{value:t,children:t},t))}),p[s.id]?.status&&e.jsx("p",{className:"text-xs text-red-600 mt-1",children:p[s.id].status})]})]})]},s.id)),e.jsxs("button",{onClick:D,className:"w-full py-3 border-2 border-dashed border-gray-300 rounded-lg text-sm font-medium text-gray-600 hover:border-teal-500 hover:text-teal-600 transition-colors whitespace-nowrap",children:[e.jsx("i",{className:"ri-add-line mr-2"}),"Add Another License"]})]}),e.jsx("div",{className:"mt-6 p-3 bg-gray-50 rounded-lg border border-gray-200",children:e.jsxs("p",{className:"text-xs text-gray-600",children:[e.jsx("i",{className:"ri-information-line mr-1"}),"Enter your active license details. Facilities will verify independently."]})})]})},G=({data:r,onUpdate:j})=>{const[o,f]=y.useState({cv:r?.cv||null,npdbReport:r?.npdbReport||null,deaCertificate:r?.deaCertificate||null,boardCertificates:r?.boardCertificates||[],otherDocuments:r?.otherDocuments||[]}),[p,c]=y.useState({}),[w,N]=y.useState(null),d=l=>{if(l===0)return"0 Bytes";const m=1024,a=["Bytes","KB","MB","GB"],i=Math.floor(Math.log(l)/Math.log(m));return Math.round(l/Math.pow(m,i)*100)/100+" "+a[i]},b=(l,m)=>{if(l.size>10485760)return"File size must be less than 10MB";const i=l.name.split(".").pop()?.toLowerCase();return!i||!m.includes(i)?`Only ${m.join(", ")} files are allowed`:null},D=async(l,m,a)=>{console.log("=== UPLOAD START ==="),console.log("File:",l.name,"Type:",m,"Size:",l.size);const i=b(l,a);if(i){console.error("Validation error:",i),alert(i);return}c(P=>({...P,[m]:!0}));try{console.log("Getting user...");const{data:{user:P},error:C}=await q.auth.getUser();if(C)throw console.error("Auth error:",C),new Error(`Authentication error: ${C.message}`);if(!P)throw console.error("No user found"),new Error("User not authenticated. Please log in again.");console.log("User authenticated:",P.id);const A=Date.now(),k=l.name.split(".").pop(),E=`${P.id}/${m}/${A}_${l.name}`;console.log("Uploading to path:",E);const g=q.storage.from("physician-documents").upload(E,l,{cacheControl:"3600",upsert:!1}),h=new Promise((M,T)=>setTimeout(()=>T(new Error("Upload timeout - please try again")),3e4)),{data:I,error:L}=await Promise.race([g,h]);if(L)throw console.error("Storage upload error:",L),new Error(`Upload failed: ${L.message}`);console.log("Upload successful:",I);const{data:S}=q.storage.from("physician-documents").getPublicUrl(E);console.log("Public URL:",S.publicUrl);const O={id:A.toString(),name:l.name,size:l.size,uploadDate:new Date().toISOString(),url:S.publicUrl};console.log("Updating local state..."),f(m==="boardCertificates"||m==="otherDocuments"?M=>({...M,[m]:[...M[m],O]}):M=>({...M,[m]:O})),console.log("=== UPLOAD COMPLETE ==="),alert(`${l.name} uploaded successfully!`)}catch(P){console.error("=== UPLOAD FAILED ==="),console.error("Error details:",P),alert(`Upload failed: ${P.message||"Unknown error occurred"}`)}finally{c(P=>({...P,[m]:!1}))}},v=(l,m,a)=>{const i=l.target.files?.[0];i&&D(i,m,a),l.target.value=""},u=(l,m,a)=>{l.preventDefault(),N(null);const i=l.dataTransfer.files[0];i&&D(i,m,a)},s=(l,m)=>{f(l==="boardCertificates"||l==="otherDocuments"?a=>({...a,[l]:a[l].filter(i=>i.id!==m)}):a=>({...a,[l]:null}))},n=l=>l.cv!==null&&l.npdbReport!==null;y.useEffect(()=>{const l=n(o);j(o,l)},[o]);const t=(l,m,a,i,P=!1,C=null)=>{const A=p[l],k=w===l;return e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[m," ",P&&e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("p",{className:"text-xs text-gray-500 mb-2",children:a}),C?e.jsxs("div",{className:"flex items-center justify-between p-4 bg-green-50 border border-green-200 rounded-lg",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"w-10 h-10 bg-green-100 rounded-lg flex items-center justify-center",children:e.jsx("i",{className:"ri-file-text-line text-green-600 text-xl"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-900",children:C.name}),e.jsxs("p",{className:"text-xs text-gray-500",children:[d(C.size)," • Uploaded"," ",new Date(C.uploadDate).toLocaleDateString()]})]})]}),e.jsxs("button",{onClick:()=>s(l),className:"text-red-600 hover:text-red-700 text-sm font-medium whitespace-nowrap",children:[e.jsx("i",{className:"ri-delete-bin-line mr-1"}),"Remove"]})]}):e.jsx("div",{onDragOver:E=>{E.preventDefault(),N(l)},onDragLeave:()=>N(null),onDrop:E=>u(E,l,i),className:`border-2 border-dashed rounded-lg p-6 text-center transition-colors ${k?"border-teal-500 bg-teal-50":"border-gray-300 hover:border-gray-400"}`,children:A?e.jsxs("div",{className:"flex flex-col items-center",children:[e.jsx("div",{className:"w-12 h-12 border-4 border-teal-500 border-t-transparent rounded-full animate-spin mb-3"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Uploading..."})]}):e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"w-12 h-12 bg-gray-100 rounded-lg flex items-center justify-center mx-auto mb-3",children:e.jsx("i",{className:"ri-upload-cloud-line text-gray-400 text-2xl"})}),e.jsx("p",{className:"text-sm text-gray-700 mb-1",children:"Drag and drop your file here, or"}),e.jsxs("label",{className:"inline-block px-4 py-2 bg-teal-600 text-white text-sm font-medium rounded-lg hover:bg-teal-700 transition-colors cursor-pointer whitespace-nowrap",children:["Browse Files",e.jsx("input",{type:"file",accept:i.map(E=>`.${E}`).join(","),onChange:E=>v(E,l,i),className:"hidden"})]}),e.jsxs("p",{className:"text-xs text-gray-500 mt-2",children:["Accepted formats: ",i.join(", ").toUpperCase()," (Max 10MB)"]})]})})]})},x=(l,m,a,i,P)=>{const C=p[l],A=w===l;return e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:m}),e.jsx("p",{className:"text-xs text-gray-500 mb-2",children:a}),P&&P.length>0&&e.jsx("div",{className:"space-y-2 mb-3",children:P.map(k=>e.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 border border-gray-200 rounded-lg",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"w-8 h-8 bg-gray-100 rounded flex items-center justify-center",children:e.jsx("i",{className:"ri-file-text-line text-gray-600"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-900",children:k.name}),e.jsx("p",{className:"text-xs text-gray-500",children:d(k.size)})]})]}),e.jsx("button",{onClick:()=>s(l,k.id),className:"text-red-600 hover:text-red-700 text-sm whitespace-nowrap",children:e.jsx("i",{className:"ri-close-line"})})]},k.id))}),e.jsx("div",{onDragOver:k=>{k.preventDefault(),N(l)},onDragLeave:()=>N(null),onDrop:k=>u(k,l,i),className:`border-2 border-dashed rounded-lg p-4 text-center transition-colors ${A?"border-teal-500 bg-teal-50":"border-gray-300 hover:border-gray-400"}`,children:C?e.jsxs("div",{className:"flex items-center justify-center",children:[e.jsx("div",{className:"w-8 h-8 border-4 border-teal-500 border-t-transparent rounded-full animate-spin mr-3"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Uploading..."})]}):e.jsxs(e.Fragment,{children:[e.jsx("i",{className:"ri-upload-cloud-line text-gray-400 text-xl mb-2"}),e.jsxs("p",{className:"text-sm text-gray-700 mb-2",children:["Drag and drop or"," ",e.jsxs("label",{className:"text-teal-600 hover:text-teal-700 font-medium cursor-pointer whitespace-nowrap",children:["browse",e.jsx("input",{type:"file",accept:i.map(k=>`.${k}`).join(","),onChange:k=>v(k,l,i),className:"hidden"})]})]}),e.jsxs("p",{className:"text-xs text-gray-500",children:[i.join(", ").toUpperCase()," (Max 10MB)"]})]})})]})};return e.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:[e.jsxs("div",{className:"mb-6",children:[e.jsx("h3",{className:"text-lg font-bold text-gray-900 mb-2",children:"Document Uploads"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Upload required credentials and supporting documents. All files are securely stored."})]}),e.jsxs("div",{className:"space-y-6",children:[t("cv","Curriculum Vitae (CV)","Upload your most recent CV or resume",["pdf","doc","docx"],!0,o.cv),t("npdbReport","NPDB Report","National Practitioner Data Bank report (self-query)",["pdf"],!0,o.npdbReport),t("deaCertificate","DEA Certificate","Drug Enforcement Administration certificate (if applicable)",["pdf","jpg","jpeg","png"],!1,o.deaCertificate),x("boardCertificates","Board Certificates","Upload all relevant board certification documents",["pdf","jpg","jpeg","png"],o.boardCertificates),x("otherDocuments","Other Supporting Documents","Additional credentials, certifications, or supporting materials",["pdf","doc","docx","jpg","jpeg","png"],o.otherDocuments)]}),e.jsx("div",{className:"mt-6 p-3 bg-gray-50 rounded-lg border border-gray-200",children:e.jsxs("p",{className:"text-xs text-gray-600",children:[e.jsx("i",{className:"ri-lock-line mr-1"}),"All documents are encrypted and stored securely. Documents are transmitted to facilities only after you apply to an assignment."]})})]})},J=({data:r,onUpdate:j})=>{const[o,f]=y.useState({facilityQuestionnaire:r?.facilityQuestionnaire||[],insuranceQuestionnaire:r?.insuranceQuestionnaire||[]}),[p,c]=y.useState("facility"),w={version:"1.0",questions:[{id:"malpractice-history",text:"Have you ever had a malpractice claim or settlement?",type:"yes-no",required:!0,requiresDetails:!0},{id:"license-discipline",text:"Has any medical license ever been suspended, revoked, or subject to disciplinary action?",type:"yes-no",required:!0,requiresDetails:!0},{id:"hospital-privileges",text:"Have you ever been denied hospital privileges or had privileges suspended or revoked?",type:"yes-no",required:!0,requiresDetails:!0},{id:"dea-action",text:"Has your DEA registration ever been suspended, revoked, or subject to disciplinary action?",type:"yes-no",required:!0,requiresDetails:!0},{id:"criminal-history",text:"Have you ever been convicted of a felony or misdemeanor (excluding minor traffic violations)?",type:"yes-no",required:!0,requiresDetails:!0},{id:"health-limitations",text:"Do you have any physical or mental health conditions that would limit your ability to perform clinical duties?",type:"yes-no",required:!0,requiresDetails:!0},{id:"peer-review",text:"Have you ever been subject to peer review action resulting in restriction of privileges?",type:"yes-no",required:!0,requiresDetails:!0}]},N={version:"1.0",questions:[{id:"current-coverage",text:"Do you currently have malpractice insurance coverage?",type:"yes-no",required:!0},{id:"coverage-type",text:"What type of malpractice coverage do you have?",type:"multiple-choice",required:!0,options:["Claims-Made","Occurrence","Tail Coverage","No Current Coverage","Other"]},{id:"coverage-limits",text:"What are your current coverage limits?",type:"multiple-choice",required:!0,options:["$1M / $3M","$2M / $4M","$3M / $5M","Other","Not Applicable"]},{id:"carrier-name",text:"Current insurance carrier name",type:"text",required:!1},{id:"policy-expiration",text:"Policy expiration date",type:"date",required:!1},{id:"claims-history",text:"Number of malpractice claims in the past 10 years",type:"multiple-choice",required:!0,options:["0","1","2","3","4 or more"]},{id:"tail-coverage-needed",text:"Will you need tail coverage for assignments?",type:"yes-no",required:!0}]},d=(u,s)=>o[u==="facility"?"facilityQuestionnaire":"insuranceQuestionnaire"]?.find(t=>t.questionId===s),b=(u,s,n,t)=>{const x=u==="facility"?"facilityQuestionnaire":"insuranceQuestionnaire",l={...o},m=l[x].findIndex(i=>i.questionId===s),a={questionId:s,answer:n,details:t};m>=0?l[x][m]=a:l[x].push(a),f(l)},D=u=>{const s=w.questions.every(t=>{if(!t.required)return!0;const x=u.facilityQuestionnaire.find(l=>l.questionId===t.id);return!x||!x.answer?!1:t.requiresDetails&&x.answer==="Yes"?x.details&&x.details.trim()!=="":!0}),n=N.questions.every(t=>{if(!t.required)return!0;const x=u.insuranceQuestionnaire.find(l=>l.questionId===t.id);return x&&x.answer});return s&&n};y.useEffect(()=>{const u=D(o);j(o,u)},[o]);const v=(u,s)=>{const n=d(s,u.id);return e.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg border border-gray-200",children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-900 mb-3",children:[u.text,u.required&&e.jsx("span",{className:"text-red-500 ml-1",children:"*"})]}),u.type==="yes-no"&&e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex space-x-4",children:[e.jsxs("label",{className:"flex items-center cursor-pointer",children:[e.jsx("input",{type:"radio",name:u.id,value:"Yes",checked:n?.answer==="Yes",onChange:t=>b(s,u.id,t.target.value),className:"w-4 h-4 text-teal-600 focus:ring-teal-500"}),e.jsx("span",{className:"ml-2 text-sm text-gray-700",children:"Yes"})]}),e.jsxs("label",{className:"flex items-center cursor-pointer",children:[e.jsx("input",{type:"radio",name:u.id,value:"No",checked:n?.answer==="No",onChange:t=>b(s,u.id,t.target.value),className:"w-4 h-4 text-teal-600 focus:ring-teal-500"}),e.jsx("span",{className:"ml-2 text-sm text-gray-700",children:"No"})]})]}),u.requiresDetails&&n?.answer==="Yes"&&e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Please provide details:"}),e.jsx("textarea",{value:n?.details||"",onChange:t=>b(s,u.id,n.answer,t.target.value),rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-teal-500",placeholder:"Provide brief details..."})]})]}),u.type==="text"&&e.jsx("input",{type:"text",value:n?.answer||"",onChange:t=>b(s,u.id,t.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-teal-500",placeholder:"Enter your answer..."}),u.type==="date"&&e.jsx("input",{type:"date",value:n?.answer||"",onChange:t=>b(s,u.id,t.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-teal-500"}),u.type==="multiple-choice"&&u.options&&e.jsxs("select",{value:n?.answer||"",onChange:t=>b(s,u.id,t.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-teal-500",children:[e.jsx("option",{value:"",children:"Select an option"}),u.options.map(t=>e.jsx("option",{value:t,children:t},t))]})]},u.id)};return e.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:[e.jsxs("div",{className:"mb-6",children:[e.jsx("h3",{className:"text-lg font-bold text-gray-900 mb-2",children:"Standard Questionnaires"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Complete these standard questionnaires once. Your responses will be reusable across all assignments."})]}),e.jsxs("div",{className:"flex space-x-1 mb-6 border-b border-gray-200",children:[e.jsx("button",{onClick:()=>c("facility"),className:`px-4 py-2 text-sm font-medium transition-colors whitespace-nowrap ${p==="facility"?"text-teal-600 border-b-2 border-teal-600":"text-gray-600 hover:text-gray-900"}`,children:"Facility Questionnaire"}),e.jsx("button",{onClick:()=>c("insurance"),className:`px-4 py-2 text-sm font-medium transition-colors whitespace-nowrap ${p==="insurance"?"text-teal-600 border-b-2 border-teal-600":"text-gray-600 hover:text-gray-900"}`,children:"Insurance Questionnaire"})]}),e.jsxs("div",{className:"space-y-4",children:[p==="facility"&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"p-3 bg-blue-50 border border-blue-200 rounded-lg mb-4",children:e.jsxs("p",{className:"text-xs text-blue-800",children:[e.jsx("i",{className:"ri-information-line mr-1"}),e.jsxs("strong",{children:["Version ",w.version]})," - These questions are required by facilities for credentialing purposes."]})}),w.questions.map(u=>v(u,"facility"))]}),p==="insurance"&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"p-3 bg-blue-50 border border-blue-200 rounded-lg mb-4",children:e.jsxs("p",{className:"text-xs text-blue-800",children:[e.jsx("i",{className:"ri-information-line mr-1"}),e.jsxs("strong",{children:["Version ",N.version]})," - These questions help insurance providers prepare accurate quotes."]})}),N.questions.map(u=>v(u,"insurance"))]})]}),e.jsx("div",{className:"mt-6 p-3 bg-gray-50 rounded-lg border border-gray-200",children:e.jsxs("p",{className:"text-xs text-gray-600",children:[e.jsx("i",{className:"ri-shield-check-line mr-1"}),"Your responses are versioned and reusable. You can update them anytime, and changes will apply to future applications."]})})]})},Z=({data:r,onUpdate:j})=>{const[o,f]=y.useState(r||{fullLegalName:"",attestationDate:"",timestamp:"",ipAddress:"",deviceInfo:"",signatureVersion:"1.0",agreed:!1}),[p,c]=y.useState(!1),[w,N]=y.useState({});y.useEffect(()=>{const s=()=>{const t=navigator.userAgent,x=navigator.platform,l=navigator.language;return`${x} | ${t.substring(0,100)} | Lang: ${l}`},n=async()=>{try{return"IP captured server-side"}catch{return"IP capture pending"}};if(!o.deviceInfo){const t=s();n().then(x=>{f(l=>({...l,deviceInfo:t,ipAddress:x}))})}},[]);const d=s=>s.trim()?s.trim().split(/\s+/).length<2?(N(t=>({...t,fullLegalName:"Please enter your full legal name (first and last name)"})),!1):(N(t=>{const x={...t};return delete x.fullLegalName,x}),!0):(N(t=>({...t,fullLegalName:"Full legal name is required"})),!1),b=s=>{const n=s.target.value;f(t=>({...t,fullLegalName:n})),w.fullLegalName&&N(t=>{const x={...t};return delete x.fullLegalName,x})},D=s=>{f(n=>({...n,agreed:s.target.checked}))},v=()=>{if(!d(o.fullLegalName))return;if(!o.agreed){N(l=>({...l,agreed:"You must agree to the attestation"}));return}const s=new Date,n=s.toISOString(),t=s.toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit",second:"2-digit",timeZoneName:"short"}),x={...o,attestationDate:t,timestamp:n};f(x),c(!0)},u=s=>s.fullLegalName.trim()!==""&&s.agreed&&s.timestamp!==""&&s.attestationDate!=="";return y.useEffect(()=>{const s=u(o);j(o,s)},[o]),p&&o.timestamp?e.jsx("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:e.jsxs("div",{className:"text-center py-8",children:[e.jsx("div",{className:"w-16 h-16 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-4",children:e.jsx("i",{className:"ri-checkbox-circle-fill text-green-600 text-3xl"})}),e.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-2",children:"Digital Attestation Complete"}),e.jsx("p",{className:"text-sm text-gray-600 mb-6",children:"Your signature has been recorded and will be automatically attached to all applications."}),e.jsxs("div",{className:"max-w-2xl mx-auto bg-gray-50 rounded-lg border border-gray-200 p-6 text-left",children:[e.jsx("h4",{className:"text-sm font-semibold text-gray-900 mb-4",children:"Signature Details"}),e.jsxs("div",{className:"space-y-3 text-sm",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-600",children:"Signed by:"}),e.jsx("span",{className:"font-medium text-gray-900",children:o.fullLegalName})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-600",children:"Date & Time:"}),e.jsx("span",{className:"font-medium text-gray-900",children:o.attestationDate})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-600",children:"Signature Version:"}),e.jsxs("span",{className:"font-medium text-gray-900",children:["v",o.signatureVersion]})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-600",children:"IP Address:"}),e.jsx("span",{className:"font-medium text-gray-900 text-xs",children:o.ipAddress})]}),e.jsxs("div",{className:"border-t border-gray-200 pt-3 mt-3",children:[e.jsx("span",{className:"text-gray-600 block mb-1",children:"Device Information:"}),e.jsx("span",{className:"font-medium text-gray-900 text-xs break-all",children:o.deviceInfo})]})]})]}),e.jsxs("button",{onClick:()=>c(!1),className:"mt-6 px-6 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors whitespace-nowrap",children:[e.jsx("i",{className:"ri-edit-line mr-2"}),"Edit Signature"]})]})}):e.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:[e.jsxs("div",{className:"mb-6",children:[e.jsx("h3",{className:"text-lg font-bold text-gray-900 mb-2",children:"Digital Attestation & Signature"}),e.jsx("p",{className:"text-sm text-gray-600",children:"This legally binding attestation will be automatically attached to all your applications."})]}),e.jsxs("div",{className:"mb-6 p-5 bg-gray-50 rounded-lg border border-gray-200",children:[e.jsx("h4",{className:"text-sm font-semibold text-gray-900 mb-4",children:"I hereby attest and agree to the following:"}),e.jsxs("div",{className:"space-y-4 text-sm text-gray-700",children:[e.jsxs("div",{className:"flex items-start space-x-3",children:[e.jsx("div",{className:"w-6 h-6 flex items-center justify-center flex-shrink-0 mt-0.5",children:e.jsx("i",{className:"ri-checkbox-circle-line text-teal-600 text-lg"})}),e.jsxs("p",{children:[e.jsx("strong",{children:"Accuracy:"})," All information I have provided in my profile is true and accurate to the best of my knowledge."]})]}),e.jsxs("div",{className:"flex items-start space-x-3",children:[e.jsx("div",{className:"w-6 h-6 flex items-center justify-center flex-shrink-0 mt-0.5",children:e.jsx("i",{className:"ri-checkbox-circle-line text-teal-600 text-lg"})}),e.jsxs("p",{children:[e.jsx("strong",{children:"Responsibility to Update:"})," I am responsible for keeping all information in my profile current and accurate. I will promptly update any changes to my credentials, licenses, or professional status."]})]}),e.jsxs("div",{className:"flex items-start space-x-3",children:[e.jsx("div",{className:"w-6 h-6 flex items-center justify-center flex-shrink-0 mt-0.5",children:e.jsx("i",{className:"ri-checkbox-circle-line text-teal-600 text-lg"})}),e.jsxs("p",{children:[e.jsx("strong",{children:"Authorization to Transmit:"})," I authorize the platform to transmit my profile information, credentials, and documents to facilities only upon my submission of an application to a specific assignment."]})]}),e.jsxs("div",{className:"flex items-start space-x-3",children:[e.jsx("div",{className:"w-6 h-6 flex items-center justify-center flex-shrink-0 mt-0.5",children:e.jsx("i",{className:"ri-checkbox-circle-line text-teal-600 text-lg"})}),e.jsxs("p",{children:[e.jsx("strong",{children:"Non-Circumvention Agreement:"})," I agree not to bypass the platform or contact facilities directly outside of the platform for assignments discovered through this marketplace. All communications and agreements must be conducted through the platform."]})]}),e.jsxs("div",{className:"flex items-start space-x-3",children:[e.jsx("div",{className:"w-6 h-6 flex items-center justify-center flex-shrink-0 mt-0.5",children:e.jsx("i",{className:"ri-checkbox-circle-line text-teal-600 text-lg"})}),e.jsxs("p",{children:[e.jsx("strong",{children:"Violation Consequences:"})," I acknowledge that violations of platform terms, including circumvention, misrepresentation, or failure to maintain accurate credentials, may result in immediate suspension or permanent removal from the platform."]})]})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Type your full legal name to sign",e.jsx("span",{className:"text-red-500 ml-1",children:"*"})]}),e.jsx("input",{type:"text",value:o.fullLegalName,onChange:b,onBlur:()=>d(o.fullLegalName),placeholder:"First Middle Last",className:`w-full px-4 py-3 border rounded-lg text-sm focus:outline-none focus:ring-2 ${w.fullLegalName?"border-red-300 focus:ring-red-500":"border-gray-300 focus:ring-teal-500"}`}),w.fullLegalName&&e.jsxs("p",{className:"text-xs text-red-600 mt-1",children:[e.jsx("i",{className:"ri-error-warning-line mr-1"}),w.fullLegalName]}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"This must match your legal name exactly as it appears on your medical license."})]}),e.jsxs("div",{className:"flex items-start space-x-3 p-4 bg-yellow-50 border border-yellow-200 rounded-lg",children:[e.jsx("input",{type:"checkbox",id:"attestation-agree",checked:o.agreed,onChange:D,className:"w-4 h-4 text-teal-600 focus:ring-teal-500 border-gray-300 rounded mt-0.5 cursor-pointer"}),e.jsxs("label",{htmlFor:"attestation-agree",className:"text-sm text-gray-700 cursor-pointer",children:["I have read and agree to all statements above. I understand this digital signature is legally binding and will be attached to all my applications.",e.jsx("span",{className:"text-red-500 ml-1",children:"*"})]})]}),w.agreed&&e.jsxs("p",{className:"text-xs text-red-600 mt-1",children:[e.jsx("i",{className:"ri-error-warning-line mr-1"}),w.agreed]}),e.jsxs("button",{onClick:v,disabled:!o.fullLegalName.trim()||!o.agreed,className:`w-full px-6 py-3 text-sm font-medium rounded-lg transition-colors whitespace-nowrap ${o.fullLegalName.trim()&&o.agreed?"bg-teal-600 text-white hover:bg-teal-700":"bg-gray-300 text-gray-500 cursor-not-allowed"}`,children:[e.jsx("i",{className:"ri-quill-pen-line mr-2"}),"Sign Digital Attestation"]})]}),e.jsx("div",{className:"mt-6 p-4 bg-blue-50 border border-blue-200 rounded-lg",children:e.jsxs("p",{className:"text-xs text-blue-800",children:[e.jsx("i",{className:"ri-information-line mr-1"}),e.jsx("strong",{children:"Legal Notice:"})," Your digital signature, including timestamp, IP address, and device information, will be securely stored and version-controlled. This signature serves as your legally binding agreement and will be automatically appended to all facility applications you submit through this platform."]})})]})},X=({data:r,onUpdate:j})=>{const o={travelPreferences:{preferredAirlines:[],seatPreference:"",mealPreference:"",specialNeeds:""},loyaltyPrograms:[],tsaPrecheck:"",globalEntry:"",hotelPreferences:{preferredBrands:[],roomType:"",floorPreference:"",specialRequests:""},optInThirdPartyServices:!1},f=a=>({...o,...a,travelPreferences:{...o.travelPreferences,...a?.travelPreferences??{}},hotelPreferences:{...o.hotelPreferences,...a?.hotelPreferences??{}},loyaltyPrograms:Array.isArray(a?.loyaltyPrograms)?a.loyaltyPrograms:[]}),[p,c]=y.useState(f(r)),[w,N]=y.useState({airline:"",number:""}),d=$.useRef(!1);y.useEffect(()=>{!r||d.current||(d.current=!0,c(f(r)))},[r]);const b=["American Airlines","Delta Air Lines","United Airlines","Southwest Airlines","JetBlue Airways","Alaska Airlines","Spirit Airlines","Frontier Airlines"],D=["Marriott","Hilton","Hyatt","IHG (Holiday Inn, etc.)","Choice Hotels","Wyndham","Best Western","Independent Hotels"],v=["Window","Aisle","Middle","No Preference"],u=["Standard","Vegetarian","Vegan","Gluten-Free","Kosher","Halal","No Preference"],s=["King Bed","Queen Bed","Two Queens","Suite","No Preference"],n=["High Floor","Low Floor","Ground Floor","No Preference"],t=a=>{c(i=>{const P=i.travelPreferences.preferredAirlines,C=P.includes(a)?P.filter(A=>A!==a):[...P,a];return{...i,travelPreferences:{...i.travelPreferences,preferredAirlines:C}}})},x=a=>{c(i=>{const P=i.hotelPreferences.preferredBrands,C=P.includes(a)?P.filter(A=>A!==a):[...P,a];return{...i,hotelPreferences:{...i.hotelPreferences,preferredBrands:C}}})},l=()=>{w.airline.trim()&&w.number.trim()&&(c(a=>({...a,loyaltyPrograms:[...a.loyaltyPrograms,{...w}]})),N({airline:"",number:""}))},m=a=>{c(i=>({...i,loyaltyPrograms:i.loyaltyPrograms.filter((P,C)=>C!==a)}))};return y.useEffect(()=>{j(p,!0)},[p]),e.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:[e.jsxs("div",{className:"mb-6",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[e.jsx("h3",{className:"text-lg font-bold text-gray-900",children:"Travel & Accommodation Preferences"}),e.jsx("span",{className:"px-3 py-1 bg-blue-100 text-blue-700 text-xs font-semibold rounded-full",children:"OPTIONAL"})]}),e.jsx("p",{className:"text-sm text-gray-600",children:"These preferences help third‑party vendors provide better service. This information is only shared if you opt in to third‑party services."})]}),e.jsx("div",{className:"mb-6 p-4 bg-yellow-50 border border-yellow-200 rounded-lg",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("input",{type:"checkbox",id:"opt-in-services",checked:p.optInThirdPartyServices,onChange:a=>c(i=>({...i,optInThirdPartyServices:a.target.checked})),className:"w-4 h-4 text-teal-600 focus:ring-teal-500 border-gray-300 rounded mt-0.5 cursor-pointer"}),e.jsxs("label",{htmlFor:"opt-in-services",className:"text-sm text-gray-700 cursor-pointer",children:[e.jsx("strong",{children:"I want to share these preferences with third‑party service providers"}),e.jsx("br",{}),e.jsx("span",{className:"text-xs text-gray-600",children:"Your preferences will only be transmitted when you request travel or accommodation services for specific assignments."})]})]})}),e.jsxs("div",{className:"mb-6 pb-6 border-b border-gray-200",children:[e.jsxs("h4",{className:"text-sm font-semibold text-gray-900 mb-4",children:[e.jsx("i",{className:"ri-flight-takeoff-line mr-2 text-teal-600"}),"Flight Preferences"]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Preferred Airlines"}),e.jsx("div",{className:"grid grid-cols-2 gap-2",children:b.map(a=>e.jsxs("button",{type:"button",onClick:()=>t(a),className:`px-3 py-2 text-sm rounded-lg border transition-colors text-left ${p.travelPreferences.preferredAirlines.includes(a)?"bg-teal-50 border-teal-500 text-teal-700":"bg-white border-gray-300 text-gray-700 hover:border-gray-400"}`,children:[p.travelPreferences.preferredAirlines.includes(a)&&e.jsx("i",{className:"ri-checkbox-circle-fill mr-2"}),a]},a))})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Seat Preference"}),e.jsxs("select",{value:p.travelPreferences.seatPreference,onChange:a=>c(i=>({...i,travelPreferences:{...i.travelPreferences,seatPreference:a.target.value}})),className:"w-full px-4 py-2 border border-gray-300 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-teal-500",children:[e.jsx("option",{value:"",children:"Select preference"}),v.map(a=>e.jsx("option",{value:a,children:a},a))]})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Meal Preference"}),e.jsxs("select",{value:p.travelPreferences.mealPreference,onChange:a=>c(i=>({...i,travelPreferences:{...i.travelPreferences,mealPreference:a.target.value}})),className:"w-full px-4 py-2 border border-gray-300 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-teal-500",children:[e.jsx("option",{value:"",children:"Select preference"}),u.map(a=>e.jsx("option",{value:a,children:a},a))]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Special Travel Needs"}),e.jsx("textarea",{value:p.travelPreferences.specialNeeds,onChange:a=>c(i=>({...i,travelPreferences:{...i.travelPreferences,specialNeeds:a.target.value}})),placeholder:"E.g., wheelchair assistance, extra legroom, etc.",rows:3,className:"w-full px-4 py-2 border border-gray-300 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-teal-500"})]})]}),e.jsxs("div",{className:"mb-6 pb-6 border-b border-gray-200",children:[e.jsxs("h4",{className:"text-sm font-semibold text-gray-900 mb-4",children:[e.jsx("i",{className:"ri-vip-crown-line mr-2 text-teal-600"}),"Airline Loyalty Programs"]}),p.loyaltyPrograms.length>0&&e.jsx("div",{className:"mb-4 space-y-2",children:p.loyaltyPrograms.map((a,i)=>e.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg border border-gray-200",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-900",children:a.airline}),e.jsx("p",{className:"text-xs text-gray-600",children:a.number})]}),e.jsx("button",{type:"button",onClick:()=>m(i),className:"text-red-600 hover:text-red-700",children:e.jsx("i",{className:"ri-delete-bin-line text-lg"})})]},i))}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[e.jsx("input",{type:"text",value:w.airline,onChange:a=>N(i=>({...i,airline:a.target.value})),placeholder:"Airline name",className:"px-4 py-2 border border-gray-300 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-teal-500"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("input",{type:"text",value:w.number,onChange:a=>N(i=>({...i,number:a.target.value})),placeholder:"Loyalty number",className:"flex-1 px-4 py-2 border border-gray-300 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-teal-500"}),e.jsx("button",{type:"button",onClick:l,disabled:!w.airline.trim()||!w.number.trim(),className:`px-4 py-2 rounded-lg text-sm font-medium transition-colors whitespace-nowrap ${w.airline.trim()&&w.number.trim()?"bg-teal-600 text-white hover:bg-teal-700":"bg-gray-300 text-gray-500 cursor-not-allowed"}`,children:e.jsx("i",{className:"ri-add-line"})})]})]})]}),e.jsxs("div",{className:"mb-6 pb-6 border-b border-gray-200",children:[e.jsxs("h4",{className:"text-sm font-semibold text-gray-900 mb-4",children:[e.jsx("i",{className:"ri-shield-check-line mr-2 text-teal-600"}),"Trusted Traveler Programs"]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"TSA PreCheck Number"}),e.jsx("input",{type:"text",value:p.tsaPrecheck,onChange:a=>c(i=>({...i,tsaPrecheck:a.target.value})),placeholder:"Enter TSA PreCheck number",className:"w-full px-4 py-2 border border-gray-300 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-teal-500"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Global Entry Number"}),e.jsx("input",{type:"text",value:p.globalEntry,onChange:a=>c(i=>({...i,globalEntry:a.target.value})),placeholder:"Enter Global Entry number",className:"w-full px-4 py-2 border border-gray-300 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-teal-500"})]})]})]}),e.jsxs("div",{children:[e.jsxs("h4",{className:"text-sm font-semibold text-gray-900 mb-4",children:[e.jsx("i",{className:"ri-hotel-line mr-2 text-teal-600"}),"Hotel Preferences"]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Preferred Hotel Brands"}),e.jsx("div",{className:"grid grid-cols-2 gap-2",children:D.map(a=>e.jsxs("button",{type:"button",onClick:()=>x(a),className:`px-3 py-2 text-sm rounded-lg border transition-colors text-left ${p.hotelPreferences.preferredBrands.includes(a)?"bg-teal-50 border-teal-500 text-teal-700":"bg-white border-gray-300 text-gray-700 hover:border-gray-400"}`,children:[p.hotelPreferences.preferredBrands.includes(a)&&e.jsx("i",{className:"ri-checkbox-circle-fill mr-2"}),a]},a))})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Room Type"}),e.jsxs("select",{value:p.hotelPreferences.roomType,onChange:a=>c(i=>({...i,hotelPreferences:{...i.hotelPreferences,roomType:a.target.value}})),className:"w-full px-4 py-2 border border-gray-300 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-teal-500",children:[e.jsx("option",{value:"",children:"Select preference"}),s.map(a=>e.jsx("option",{value:a,children:a},a))]})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Floor Preference"}),e.jsxs("select",{value:p.hotelPreferences.floorPreference,onChange:a=>c(i=>({...i,hotelPreferences:{...i.hotelPreferences,floorPreference:a.target.value}})),className:"w-full px-4 py-2 border border-gray-300 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-teal-500",children:[e.jsx("option",{value:"",children:"Select preference"}),n.map(a=>e.jsx("option",{value:a,children:a},a))]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Special Requests"}),e.jsx("textarea",{value:p.hotelPreferences.specialRequests,onChange:a=>c(i=>({...i,hotelPreferences:{...i.hotelPreferences,specialRequests:a.target.value}})),placeholder:"E.g., quiet room, away from elevator, hypoallergenic bedding, etc.",rows:3,className:"w-full px-4 py-2 border border-gray-300 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-teal-500"})]})]}),e.jsx("div",{className:"mt-6 p-4 bg-blue-50 border border-blue-200 rounded-lg",children:e.jsxs("p",{className:"text-xs text-blue-800",children:[e.jsx("i",{className:"ri-information-line mr-1"}),e.jsx("strong",{children:"Privacy Notice:"})," These preferences are stored securely and will only be shared with third‑party service providers when you explicitly request travel or accommodation services for a specific assignment. You can update or remove these preferences at any time."]})})]})};function ee(r){if(!r)return null;const j=r.address&&typeof r.address=="object"?{address:r.address.line1??"",city:r.address.city??"",state:r.address.state??"",zipCode:r.address.zipCode??""}:null,o=r.address&&typeof r.address=="string"?{address:r.address,city:r.city??"",state:r.state??"",zipCode:r.zipCode??r.zip_code??""}:{address:r.address??"",city:r.city??"",state:r.state??"",zipCode:r.zipCode??r.zip_code??""};return{legalFirstName:r.legalFirstName??r.firstName??r.first_name??"",legalMiddleName:r.legalMiddleName??r.middleName??r.middle_name??"",legalLastName:r.legalLastName??r.lastName??r.last_name??"",dba:r.dba??"",email:r.email??"",phone:r.phone??r.phoneNumber??r.phone_number??"",alternatePhone:r.alternatePhone??"",...j??o}}function te(r){return r?{npiNumber:r.npiNumber??r.npi_number??"",deaNumber:r.deaNumber??r.dea_number??"",specialty:r.specialty??"",subspecialty:r.subspecialty??"",yearsExperience:r.yearsExperience??r.years_experience??"",boardCertified:r.boardCertified??r.board_certified??null,boardCertificationDetails:r.boardCertificationDetails??r.board_certification_details??""}:null}function ae(){const r=z(),{profile:j,updateProfile:o,updateCompletionStatus:f,refetch:p}=B(),[c,w]=y.useState({personalIdentifiers:null,professionalInformation:null,licensure:null,documentUploads:null,questionnaires:null,digitalSignature:null,optionalPreferences:null}),[N,d]=y.useState({personalIdentifiers:!1,professionalInformation:!1,licensure:!1,documentUploads:!1,questionnaires:!1,digitalSignature:!1,optionalPreferences:!0}),[b,D]=y.useState(0),[v,u]=y.useState(!1),[s,n]=y.useState(null),t=y.useMemo(()=>[{id:"personalIdentifiers",name:"Personal Identifiers",icon:"ri-user-line",required:!0},{id:"professionalInformation",name:"Professional Information",icon:"ri-stethoscope-line",required:!0},{id:"licensure",name:"Licensure",icon:"ri-shield-check-line",required:!0},{id:"documentUploads",name:"Document Uploads",icon:"ri-file-upload-line",required:!0},{id:"questionnaires",name:"Standard Questionnaires",icon:"ri-questionnaire-line",required:!0},{id:"digitalSignature",name:"Digital Attestation & Signature",icon:"ri-quill-pen-line",required:!0},{id:"optionalPreferences",name:"Travel & Accommodation Preferences",icon:"ri-flight-takeoff-line",required:!1}],[]),x=()=>{const g=t.filter(I=>I.required),h=g.filter(I=>N[I.id]).length;return Math.round(h/g.length*100)};y.useEffect(()=>{(async()=>{const{data:{session:h}}=await q.auth.getSession();if(!h){r("/login",{replace:!0});return}const{data:I,error:L}=await q.from("users").select("role").eq("id",h.user.id).maybeSingle();L&&console.warn("Role lookup error (non-fatal):",L);const S=I?.role||h.user.user_metadata?.role;n(S)})()},[r]),y.useEffect(()=>{if(!j)return;const g=ee(j.personalIdentifiers),h=te(j.professionalInformation);w({personalIdentifiers:g,professionalInformation:h,licensure:j.licenses,documentUploads:j.documents,questionnaires:j.questionnaires,digitalSignature:j.digitalSignature,optionalPreferences:j.travelPreferences||null}),d({personalIdentifiers:!!j.completionStatus?.personalIdentifiers,professionalInformation:!!j.completionStatus?.professionalInformation,licensure:!!j.completionStatus?.licensure,documentUploads:!!j.completionStatus?.documentUploads,questionnaires:!!j.completionStatus?.questionnaires,digitalSignature:!!j.completionStatus?.digitalSignature,optionalPreferences:!0})},[j]);const l=async(g,h,I,L=!1)=>{if(w(S=>({...S,[g]:h})),d(S=>({...S,[g]:I})),!L)try{const S={};g==="personalIdentifiers"&&(S.personalIdentifiers=h),g==="professionalInformation"&&(S.professionalInformation=h),g==="licensure"&&(S.licenses=h),g==="documentUploads"&&(S.documents=h),g==="questionnaires"&&(S.questionnaires=h),g==="digitalSignature"&&(S.digitalSignature=h),g==="optionalPreferences"&&(S.optionalPreferences=h),await o(S),g!=="optionalPreferences"&&await f(g,I)}catch(S){console.error("Error saving section:",S)}},m=async()=>{const g=t[b].id,h=c[g],I=N[g];h&&await l(g,h,I),b<t.length-1&&(D(b+1),window.scrollTo({top:0,behavior:"smooth"}))},a=()=>{b>0&&(D(b-1),window.scrollTo({top:0,behavior:"smooth"}))},i=async()=>{u(!0),await new Promise(g=>setTimeout(g,400)),u(!1),s==="facility"?r("/facility-dashboard",{replace:!0}):r("/physician-dashboard",{replace:!0})},P=async()=>{if(x()===100){u(!0);try{const{data:{user:h}}=await q.auth.getUser();if(!h){console.error("No user found when submitting profile"),u(!1);return}await q.from("physician_profiles").update({is_complete:!0,completion_percentage:100,updated_at:new Date().toISOString()}).eq("user_id",h.id),await p(),sessionStorage.removeItem("oauth_login_completed"),u(!1),s==="facility"?r("/facility-dashboard",{replace:!0}):r("/physician-dashboard",{replace:!0})}catch(h){console.error("Error submitting profile:",h),u(!1)}}},C=x(),A=t[b],k=b===t.length-1,E=C===100;return e.jsxs("div",{className:"min-h-screen bg-gray-50",children:[e.jsx("div",{className:"bg-white border-b border-gray-200",children:e.jsxs("div",{className:"max-w-5xl mx-auto px-4 py-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Complete your professional profile"}),e.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"This information is required before you can apply to assignments."})]}),e.jsx("button",{onClick:i,disabled:v,className:"px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors whitespace-nowrap cursor-pointer",children:v?"Saving...":"Save & Exit"})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsxs("span",{className:"text-sm font-medium text-gray-700",children:["Profile completion: ",C,"%"]}),e.jsxs("span",{className:"text-sm text-gray-500",children:[t.filter(g=>g.required).filter(g=>N[g.id]).length,"/",t.filter(g=>g.required).length," required sections complete"]})]}),e.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:e.jsx("div",{className:"bg-teal-600 h-2 rounded-full transition-all duration-300",style:{width:`${C}%`}})})]})]})}),e.jsx("div",{className:"max-w-5xl mx-auto px-4 py-8",children:e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-8",children:[e.jsx("div",{className:"lg:col-span-1",children:e.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-4 sticky top-6",children:[e.jsx("h2",{className:"text-sm font-semibold text-gray-900 mb-4",children:"Sections"}),e.jsx("nav",{className:"space-y-1",children:t.map((g,h)=>{const I=N[g.id];return e.jsxs("button",{onClick:()=>D(h),className:`w-full flex items-center gap-3 p-3 rounded-lg text-left transition-colors cursor-pointer ${h===b?"bg-teal-50 border border-teal-200":"hover:bg-gray-50"}`,children:[e.jsx("div",{className:`w-6 h-6 flex items-center justify-center rounded-full flex-shrink-0 ${I?"bg-green-500":"bg-gray-200"}`,children:I&&e.jsx("i",{className:"ri-check-line text-white text-lg"})}),e.jsx("div",{className:"flex-1 min-w-0",children:e.jsxs("div",{className:"flex items-center justify-between gap-2",children:[e.jsx("span",{className:`text-sm font-medium truncate ${h===b?"text-teal-700":"text-gray-900"}`,children:g.name}),!g.required&&e.jsx("span",{className:"text-xs text-blue-600 flex-shrink-0",children:"Optional"})]})})]},g.id)})})]})}),e.jsxs("div",{className:"lg:col-span-3",children:[A.id==="personalIdentifiers"&&e.jsx(Y,{data:c.personalIdentifiers,onUpdate:(g,h)=>l("personalIdentifiers",g,h)}),A.id==="professionalInformation"&&e.jsx(W,{data:c.professionalInformation,onUpdate:(g,h,I)=>l("professionalInformation",g,h,I)}),A.id==="licensure"&&e.jsx(K,{data:c.licensure,onUpdate:(g,h)=>l("licensure",g,h)}),A.id==="documentUploads"&&e.jsx(G,{data:c.documentUploads,onUpdate:(g,h)=>l("documentUploads",g,h)}),A.id==="questionnaires"&&e.jsx(J,{data:c.questionnaires,onUpdate:(g,h)=>l("questionnaires",g,h)}),A.id==="digitalSignature"&&e.jsx(Z,{data:c.digitalSignature,onUpdate:(g,h)=>l("digitalSignature",g,h)}),A.id==="optionalPreferences"&&e.jsx(X,{data:c.optionalPreferences,onUpdate:(g,h)=>l("optionalPreferences",g,h)}),e.jsxs("div",{className:"flex items-center justify-between mt-6",children:[e.jsxs("button",{onClick:a,disabled:b===0,className:`px-6 py-3 text-sm font-medium rounded-lg transition-colors whitespace-nowrap cursor-pointer ${b===0?"bg-gray-100 text-gray-400 cursor-not-allowed":"bg-white text-gray-700 border border-gray-300 hover:bg-gray-50"}`,children:[e.jsx("i",{className:"ri-arrow-left-line mr-2"}),"Previous"]}),k?e.jsxs("button",{onClick:P,disabled:!E||v,className:`px-6 py-3 text-sm font-medium rounded-lg transition-colors whitespace-nowrap cursor-pointer ${!E||v?"bg-gray-200 text-gray-500 cursor-not-allowed":"bg-teal-600 text-white hover:bg-teal-700"}`,children:[v?"Submitting...":"Submit Profile",e.jsx("i",{className:"ri-check-line ml-2"})]}):e.jsxs("button",{onClick:m,className:"px-6 py-3 bg-teal-600 text-white text-sm font-medium rounded-lg hover:bg-teal-700 transition-colors whitespace-nowrap cursor-pointer",children:["Next",e.jsx("i",{className:"ri-arrow-right-line ml-2"})]})]})]})]})})]})}export{ae as default};
//# sourceMappingURL=page-DkzOL_TC.js.map
