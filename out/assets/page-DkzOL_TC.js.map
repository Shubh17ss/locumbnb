{"version":3,"file":"page-DkzOL_TC.js","sources":["../../src/pages/profile-completion/components/PersonalIdentifiersSection.tsx","../../src/pages/profile-completion/components/ProfessionalInformationSection.tsx","../../src/pages/profile-completion/components/LicensureSection.tsx","../../src/pages/profile-completion/components/DocumentUploadsSection.tsx","../../src/pages/profile-completion/components/StandardQuestionnairesSection.tsx","../../src/pages/profile-completion/components/DigitalAttestationSection.tsx","../../src/pages/profile-completion/components/OptionalPreferencesSection.tsx","../../src/pages/profile-completion/page.tsx"],"sourcesContent":["import React, { useEffect, useMemo, useRef, useState } from 'react';\nimport { supabase } from '../../../utils/supabaseClient';\n\ninterface PersonalIdentifiersData {\n  legalFirstName: string;\n  legalMiddleName: string;\n  legalLastName: string;\n  dba: string;\n  email: string;\n  phone: string;\n  alternatePhone: string;\n  address: string;\n  city: string;\n  state: string;\n  zipCode: string;\n}\n\ninterface PersonalIdentifiersSectionProps {\n  data: PersonalIdentifiersData | null;\n  onUpdate: (data: PersonalIdentifiersData, isComplete: boolean) => void;\n}\n\nconst EMPTY_DATA: PersonalIdentifiersData = {\n  legalFirstName: '',\n  legalMiddleName: '',\n  legalLastName: '',\n  dba: '',\n  email: '',\n  phone: '',\n  alternatePhone: '',\n  address: '',\n  city: '',\n  state: '',\n  zipCode: '',\n};\n\nconst hasAnyValue = (d: PersonalIdentifiersData | null | undefined) => {\n  if (!d) return false;\n  return Object.values(d).some((v) => (v ?? '').toString().trim() !== '');\n};\n\nconst isEffectivelyEmpty = (d: PersonalIdentifiersData) => {\n  // Treat \"empty\" as no meaningful user input yet (so we can safely hydrate/prefill once)\n  const keys: (keyof PersonalIdentifiersData)[] = [\n    'legalFirstName',\n    'legalMiddleName',\n    'legalLastName',\n    'dba',\n    'email',\n    'phone',\n    'alternatePhone',\n    'address',\n    'city',\n    'state',\n    'zipCode',\n  ];\n  return keys.every((k) => (d[k] ?? '').toString().trim() === '');\n};\n\nconst PersonalIdentifiersSection: React.FC<PersonalIdentifiersSectionProps> = ({\n  data,\n  onUpdate,\n}) => {\n  const initial = useMemo<PersonalIdentifiersData>(() => {\n    return data ? { ...EMPTY_DATA, ...data } : { ...EMPTY_DATA };\n  }, []); // IMPORTANT: init only once to avoid reset loops\n\n  const [formData, setFormData] = useState<PersonalIdentifiersData>(initial);\n\n  const [errors, setErrors] = useState<\n    Partial<Record<keyof PersonalIdentifiersData, string>>\n  >({});\n\n  // Prevent \"save -> parent reloads data -> child resets fields\" loop\n  const hydratedFromDbRef = useRef(false);\n  const dirtyRef = useRef(false);\n\n  // Hydrate once from DB when data arrives (ONLY if user hasn't typed yet)\n  useEffect(() => {\n    if (!data || !hasAnyValue(data)) return;\n\n    // If user already typed, do not overwrite their in-progress edits\n    if (dirtyRef.current) return;\n\n    // Hydrate only once OR when the form is still empty\n    if (!hydratedFromDbRef.current || isEffectivelyEmpty(formData)) {\n      setFormData({ ...EMPTY_DATA, ...data });\n      hydratedFromDbRef.current = true;\n    }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [data]);\n\n  const validateField = (name: keyof PersonalIdentifiersData, value: string): string => {\n    switch (name) {\n      case 'email':\n        if (!value) return 'Email is required';\n        if (!/^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/.test(value)) return 'Invalid email format';\n        return '';\n      case 'phone': {\n        const digits = value.replace(/\\D/g, '');\n        if (!value) return 'Phone number is required';\n        if (!/^\\d{10}$/.test(digits)) return 'Invalid phone number';\n        return '';\n      }\n      case 'legalFirstName':\n      case 'legalLastName':\n        if (!value.trim()) return 'This field is required';\n        return '';\n      case 'address':\n      case 'city':\n      case 'state':\n      case 'zipCode':\n        if (!value.trim()) return 'This field is required';\n        return '';\n      default:\n        return '';\n    }\n  };\n\n  const checkCompletion = (d: PersonalIdentifiersData): boolean => {\n    const requiredFields: (keyof PersonalIdentifiersData)[] = [\n      'legalFirstName',\n      'legalLastName',\n      'email',\n      'phone',\n      'address',\n      'city',\n      'state',\n      'zipCode',\n    ];\n\n    return requiredFields.every((field) => {\n      const value = (d[field] ?? '').toString();\n      return value.trim() !== '' && !validateField(field, value);\n    });\n  };\n\n  const handleChange = (\n    e: React.ChangeEvent<HTMLInputElement | HTMLSelectElement>\n  ) => {\n    const { name, value } = e.target;\n\n    dirtyRef.current = true;\n\n    setFormData((prev) => {\n      const next = { ...prev, [name]: value } as PersonalIdentifiersData;\n      return next;\n    });\n\n    const error = validateField(name as keyof PersonalIdentifiersData, value);\n    setErrors((prev) => ({ ...prev, [name]: error }));\n  };\n\n  // ✅ Auto-save to parent (debounced)\n  // This is what makes the section actually persist.\n  useEffect(() => {\n    const timer = window.setTimeout(() => {\n      const isComplete = checkCompletion(formData);\n      onUpdate(formData, isComplete);\n    }, 400);\n\n    return () => window.clearTimeout(timer);\n  }, [formData, onUpdate]);\n\n  // Pre-fill name and email from Google OAuth if available (only if form is still empty for those)\n  useEffect(() => {\n    const prefillFromAuth = async () => {\n      // If DB data exists, do not prefill\n      if (data && (data.legalFirstName || data.email)) return;\n\n      // If user already typed, do not prefill\n      if (dirtyRef.current) return;\n\n      // If form already has name/email, skip\n      if (formData.legalFirstName || formData.email) return;\n\n      try {\n        const {\n          data: { user },\n        } = await supabase.auth.getUser();\n\n        if (!user) return;\n\n        const updates: Partial<PersonalIdentifiersData> = {};\n\n        const fullName =\n          user.user_metadata?.full_name || user.user_metadata?.name || '';\n\n        if (fullName) {\n          const nameParts = fullName.trim().split(/\\s+/);\n          if (nameParts.length === 1) {\n            updates.legalFirstName = nameParts[0];\n          } else if (nameParts.length === 2) {\n            updates.legalFirstName = nameParts[0];\n            updates.legalLastName = nameParts[1];\n          } else if (nameParts.length >= 3) {\n            updates.legalFirstName = nameParts[0];\n            updates.legalMiddleName = nameParts.slice(1, -1).join(' ');\n            updates.legalLastName = nameParts[nameParts.length - 1];\n          }\n        }\n\n        if (user.email) updates.email = user.email;\n\n        if (Object.keys(updates).length > 0) {\n          setFormData((prev) => ({ ...prev, ...updates }));\n        }\n      } catch (error) {\n        console.error('Error prefilling from auth:', error);\n      }\n    };\n\n    const t = window.setTimeout(prefillFromAuth, 800);\n    return () => window.clearTimeout(t);\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [data]);\n\n  const US_STATES = [\n    'AL', 'AK', 'AZ', 'AR', 'CA', 'CO', 'CT', 'DE', 'FL', 'GA',\n    'HI', 'ID', 'IL', 'IN', 'IA', 'KS', 'KY', 'LA', 'ME', 'MD',\n    'MA', 'MI', 'MN', 'MS', 'MO', 'MT', 'NE', 'NV', 'NH', 'NJ',\n    'NM', 'NY', 'NC', 'ND', 'OH', 'OK', 'OR', 'PA', 'RI', 'SC',\n    'SD', 'TN', 'TX', 'UT', 'VT', 'VA', 'WA', 'WV', 'WI', 'WY',\n  ];\n\n  return (\n    <div className=\"bg-white rounded-lg border border-gray-200 p-6\">\n      <div className=\"mb-6\">\n        <h3 className=\"text-lg font-bold text-gray-900 mb-2\">Personal Identifiers</h3>\n        <p className=\"text-sm text-gray-600\">\n          Provide your legal name and contact information as they appear on official documents.\n        </p>\n      </div>\n\n      <div className=\"space-y-6\">\n        {/* Legal Name */}\n        <div>\n          <h4 className=\"text-sm font-semibold text-gray-900 mb-3\">Legal Name</h4>\n          <div className=\"grid grid-cols-1 md:grid-cols-3 gap-4\">\n            <div>\n              <label className=\"block text-sm font-medium text-gray-700 mb-1\">\n                First Name <span className=\"text-red-500\">*</span>\n              </label>\n              <input\n                type=\"text\"\n                name=\"legalFirstName\"\n                value={formData.legalFirstName}\n                onChange={handleChange}\n                className=\"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-teal-500\"\n                placeholder=\"John\"\n              />\n              {errors.legalFirstName && (\n                <p className=\"text-xs text-red-600 mt-1\">{errors.legalFirstName}</p>\n              )}\n            </div>\n\n            <div>\n              <label className=\"block text-sm font-medium text-gray-700 mb-1\">\n                Middle Name\n              </label>\n              <input\n                type=\"text\"\n                name=\"legalMiddleName\"\n                value={formData.legalMiddleName}\n                onChange={handleChange}\n                className=\"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-teal-500\"\n                placeholder=\"Michael\"\n              />\n            </div>\n\n            <div>\n              <label className=\"block text-sm font-medium text-gray-700 mb-1\">\n                Last Name <span className=\"text-red-500\">*</span>\n              </label>\n              <input\n                type=\"text\"\n                name=\"legalLastName\"\n                value={formData.legalLastName}\n                onChange={handleChange}\n                className=\"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-teal-500\"\n                placeholder=\"Smith\"\n              />\n              {errors.legalLastName && (\n                <p className=\"text-xs text-red-600 mt-1\">{errors.legalLastName}</p>\n              )}\n            </div>\n          </div>\n        </div>\n\n        {/* DBA */}\n        <div>\n          <label className=\"block text-sm font-medium text-gray-700 mb-1\">\n            DBA (Doing Business As)\n          </label>\n          <input\n            type=\"text\"\n            name=\"dba\"\n            value={formData.dba}\n            onChange={handleChange}\n            className=\"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-teal-500\"\n            placeholder=\"Optional - if applicable\"\n          />\n          <p className=\"text-xs text-gray-500 mt-1\">\n            Enter your business name if you operate under a different name\n          </p>\n        </div>\n\n        {/* Contact Information */}\n        <div>\n          <h4 className=\"text-sm font-semibold text-gray-900 mb-3\">Contact Information</h4>\n          <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n            <div>\n              <label className=\"block text-sm font-medium text-gray-700 mb-1\">\n                Email Address <span className=\"text-red-500\">*</span>\n              </label>\n              <input\n                type=\"email\"\n                name=\"email\"\n                value={formData.email}\n                onChange={handleChange}\n                className=\"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-teal-500\"\n                placeholder=\"john.smith@example.com\"\n              />\n              {errors.email && (\n                <p className=\"text-xs text-red-600 mt-1\">{errors.email}</p>\n              )}\n            </div>\n\n            <div>\n              <label className=\"block text-sm font-medium text-gray-700 mb-1\">\n                Phone Number <span className=\"text-red-500\">*</span>\n              </label>\n              <input\n                type=\"tel\"\n                name=\"phone\"\n                value={formData.phone}\n                onChange={handleChange}\n                className=\"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-teal-500\"\n                placeholder=\"(555) 123-4567\"\n              />\n              {errors.phone && (\n                <p className=\"text-xs text-red-600 mt-1\">{errors.phone}</p>\n              )}\n            </div>\n\n            <div>\n              <label className=\"block text-sm font-medium text-gray-700 mb-1\">\n                Alternate Phone\n              </label>\n              <input\n                type=\"tel\"\n                name=\"alternatePhone\"\n                value={formData.alternatePhone}\n                onChange={handleChange}\n                className=\"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-teal-500\"\n                placeholder=\"(555) 987-6543\"\n              />\n            </div>\n          </div>\n        </div>\n\n        {/* Address */}\n        <div>\n          <h4 className=\"text-sm font-semibold text-gray-900 mb-3\">Mailing Address</h4>\n          <div className=\"space-y-4\">\n            <div>\n              <label className=\"block text-sm font-medium text-gray-700 mb-1\">\n                Street Address <span className=\"text-red-500\">*</span>\n              </label>\n              <input\n                type=\"text\"\n                name=\"address\"\n                value={formData.address}\n                onChange={handleChange}\n                className=\"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-teal-500\"\n                placeholder=\"123 Main Street, Apt 4B\"\n              />\n              {errors.address && (\n                <p className=\"text-xs text-red-600 mt-1\">{errors.address}</p>\n              )}\n            </div>\n\n            <div className=\"grid grid-cols-1 md:grid-cols-3 gap-4\">\n              <div>\n                <label className=\"block text-sm font-medium text-gray-700 mb-1\">\n                  City <span className=\"text-red-500\">*</span>\n                </label>\n                <input\n                  type=\"text\"\n                  name=\"city\"\n                  value={formData.city}\n                  onChange={handleChange}\n                  className=\"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-teal-500\"\n                  placeholder=\"San Francisco\"\n                />\n                {errors.city && (\n                  <p className=\"text-xs text-red-600 mt-1\">{errors.city}</p>\n                )}\n              </div>\n\n              <div>\n                <label className=\"block text-sm font-medium text-gray-700 mb-1\">\n                  State <span className=\"text-red-500\">*</span>\n                </label>\n                <select\n                  name=\"state\"\n                  value={formData.state}\n                  onChange={handleChange}\n                  className=\"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-teal-500\"\n                >\n                  <option value=\"\">Select State</option>\n                  {US_STATES.map((st) => (\n                    <option key={st} value={st}>\n                      {st}\n                    </option>\n                  ))}\n                </select>\n                {errors.state && (\n                  <p className=\"text-xs text-red-600 mt-1\">{errors.state}</p>\n                )}\n              </div>\n\n              <div>\n                <label className=\"block text-sm font-medium text-gray-700 mb-1\">\n                  ZIP Code <span className=\"text-red-500\">*</span>\n                </label>\n                <input\n                  type=\"text\"\n                  name=\"zipCode\"\n                  value={formData.zipCode}\n                  onChange={handleChange}\n                  className=\"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-teal-500\"\n                  placeholder=\"94102\"\n                  maxLength={10}\n                />\n                {errors.zipCode && (\n                  <p className=\"text-xs text-red-600 mt-1\">{errors.zipCode}</p>\n                )}\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n\n      <div className=\"mt-6 p-3 bg-gray-50 rounded-lg border border-gray-200\">\n        <p className=\"text-xs text-gray-600\">\n          <i className=\"ri-information-line mr-1\"></i>\n          Information is self-reported and not verified by the platform. Facilities will verify independently.\n        </p>\n      </div>\n    </div>\n  );\n};\n\nexport { PersonalIdentifiersSection };\nexport default PersonalIdentifiersSection;\n","import React, { useEffect, useMemo, useRef, useState } from 'react';\n\ninterface ProfessionalInformationData {\n  npiNumber: string;\n  deaNumber: string;\n  specialty: string;\n  subspecialty: string;\n  yearsExperience: string;\n  boardCertified: boolean | null;\n  boardCertificationDetails: string;\n}\n\ninterface ProfessionalInformationSectionProps {\n  data: ProfessionalInformationData | null;\n  onUpdate: (data: ProfessionalInformationData, isComplete: boolean, skipSave?: boolean) => void;\n}\n\nconst EMPTY_DATA: ProfessionalInformationData = {\n  npiNumber: '',\n  deaNumber: '',\n  specialty: '',\n  subspecialty: '',\n  yearsExperience: '',\n  boardCertified: null,\n  boardCertificationDetails: '',\n};\n\nconst SPECIALTIES = [\n  'Anesthesiology',\n  'Cardiology',\n  'Dermatology',\n  'Emergency Medicine',\n  'Family Medicine',\n  'Gastroenterology',\n  'General Surgery',\n  'Hematology',\n  'Hospitalist',\n  'Infectious Disease',\n  'Internal Medicine',\n  'Nephrology',\n  'Neurology',\n  'Neurosurgery',\n  'Obstetrics & Gynecology',\n  'Oncology',\n  'Ophthalmology',\n  'Orthopedic Surgery',\n  'Otolaryngology',\n  'Pathology',\n  'Pediatrics',\n  'Physical Medicine & Rehabilitation',\n  'Plastic Surgery',\n  'Psychiatry',\n  'Pulmonology',\n  'Radiology',\n  'Rheumatology',\n  'Urology',\n  'Other',\n];\n\nconst onlyDigits = (v: string) => v.replace(/\\D/g, '');\nconst clampNpi = (v: string) => onlyDigits(v).slice(0, 10);\n\nconst ProfessionalInformationSection: React.FC<ProfessionalInformationSectionProps> = ({\n  data,\n  onUpdate,\n}) => {\n  const initial = useMemo<ProfessionalInformationData>(() => {\n    return data ? { ...EMPTY_DATA, ...data } : { ...EMPTY_DATA };\n  }, []);\n\n  const [formData, setFormData] = useState<ProfessionalInformationData>(initial);\n  const dirtyRef = useRef(false);\n\n  // Hydrate once from parent data (don't overwrite user typing)\n  useEffect(() => {\n    if (!data) return;\n    if (dirtyRef.current) return;\n    const hydrated = { ...EMPTY_DATA, ...data };\n    setFormData(hydrated);\n    // Notify parent of completion status after hydrating from DB (skipSave=true so no redundant DB write)\n    const isComplete = validate(hydrated);\n    onUpdate(hydrated, isComplete, true);\n  // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [data]);\n\n  const validate = (d: ProfessionalInformationData) => {\n    const npi = clampNpi(d.npiNumber);\n    if (!npi) return false; // required\n    if (!d.specialty?.trim()) return false;\n    if (String(d.yearsExperience ?? '').trim() === '') return false;\n    if (d.boardCertified !== true && d.boardCertified !== false) return false;\n    if (d.boardCertified === true && !d.boardCertificationDetails.trim()) return false;\n    return true;\n  };\n\n  // ✅ IMPORTANT: This updates parent immediately (no waiting 400ms)\n  const updateField = <K extends keyof ProfessionalInformationData>(\n    key: K,\n    value: ProfessionalInformationData[K]\n  ) => {\n    dirtyRef.current = true;\n\n    setFormData((prev) => {\n      const next: ProfessionalInformationData = {\n        ...prev,\n        [key]: value,\n      } as ProfessionalInformationData;\n\n      // If they switch Board Certified to \"No\", clear details\n      if (key === 'boardCertified' && value === false) {\n        next.boardCertificationDetails = '';\n      }\n\n      const isComplete = validate(next);\n      onUpdate(next, isComplete); // ✅ immediate push to parent\n      return next;\n    });\n  };\n\n  return (\n    <div className=\"bg-white rounded-lg border border-gray-200 p-6\">\n      <div className=\"mb-6\">\n        <h3 className=\"text-lg font-bold text-gray-900 mb-2\">Professional Information</h3>\n        <p className=\"text-sm text-gray-600\">\n          Provide your identifiers and specialty information (used for credentialing).\n        </p>\n      </div>\n\n      <div className=\"space-y-6\">\n        {/* Identifiers */}\n        <div>\n          <h4 className=\"text-sm font-semibold text-gray-900 mb-3\">Identifiers</h4>\n          <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n            <div>\n              <label className=\"block text-sm font-medium text-gray-700 mb-1\">\n                NPI Number <span className=\"text-red-500\">*</span>\n              </label>\n              <input\n                type=\"text\"\n                inputMode=\"numeric\"\n                value={formData.npiNumber}\n                onChange={(e) => updateField('npiNumber', clampNpi(e.target.value))}\n                className=\"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-teal-500\"\n                placeholder=\"10-digit NPI\"\n              />\n              <p className=\"text-xs text-gray-500 mt-1\">Digits only (10 max). Saved as you type.</p>\n            </div>\n\n            <div>\n              <label className=\"block text-sm font-medium text-gray-700 mb-1\">DEA Number</label>\n              <input\n                type=\"text\"\n                value={formData.deaNumber}\n                onChange={(e) => updateField('deaNumber', e.target.value)}\n                className=\"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-teal-500\"\n                placeholder=\"Optional\"\n              />\n            </div>\n          </div>\n        </div>\n\n        {/* Specialty */}\n        <div>\n          <h4 className=\"text-sm font-semibold text-gray-900 mb-3\">Specialty</h4>\n          <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n            <div>\n              <label className=\"block text-sm font-medium text-gray-700 mb-1\">\n                Primary Specialty <span className=\"text-red-500\">*</span>\n              </label>\n              <select\n                value={formData.specialty}\n                onChange={(e) => updateField('specialty', e.target.value)}\n                className=\"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-teal-500\"\n              >\n                <option value=\"\">Select Specialty</option>\n                {SPECIALTIES.map((s) => (\n                  <option key={s} value={s}>\n                    {s}\n                  </option>\n                ))}\n              </select>\n            </div>\n\n            <div>\n              <label className=\"block text-sm font-medium text-gray-700 mb-1\">Subspecialty</label>\n              <input\n                type=\"text\"\n                value={formData.subspecialty}\n                onChange={(e) => updateField('subspecialty', e.target.value)}\n                className=\"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-teal-500\"\n                placeholder=\"Optional\"\n              />\n            </div>\n          </div>\n        </div>\n\n        {/* Experience + Board */}\n        <div>\n          <h4 className=\"text-sm font-semibold text-gray-900 mb-3\">Experience & Board Certification</h4>\n\n          <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n            <div>\n              <label className=\"block text-sm font-medium text-gray-700 mb-1\">\n                Years of Experience <span className=\"text-red-500\">*</span>\n              </label>\n              <input\n                type=\"number\"\n                value={formData.yearsExperience}\n                onChange={(e) => updateField('yearsExperience', e.target.value)}\n                className=\"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-teal-500\"\n                placeholder=\"e.g., 7\"\n                min={0}\n                max={80}\n              />\n            </div>\n\n            <div>\n              <label className=\"block text-sm font-medium text-gray-700 mb-1\">\n                Board Certified? <span className=\"text-red-500\">*</span>\n              </label>\n              <select\n                value={formData.boardCertified === null ? '' : formData.boardCertified ? 'yes' : 'no'}\n                onChange={(e) => {\n                  if (e.target.value === '') updateField('boardCertified', null);\n                  else updateField('boardCertified', e.target.value === 'yes');\n                }}\n                className=\"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-teal-500\"\n              >\n                <option value=\"\">Select</option>\n                <option value=\"yes\">Yes</option>\n                <option value=\"no\">No</option>\n              </select>\n            </div>\n          </div>\n\n          {formData.boardCertified === true && (\n            <div className=\"mt-4\">\n              <label className=\"block text-sm font-medium text-gray-700 mb-1\">\n                Board Certification Details <span className=\"text-red-500\">*</span>\n              </label>\n              <textarea\n                value={formData.boardCertificationDetails}\n                onChange={(e) => updateField('boardCertificationDetails', e.target.value)}\n                rows={3}\n                className=\"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-teal-500\"\n                placeholder=\"e.g., American Board of Pediatrics (PCCM), certified 2019\"\n              />\n            </div>\n          )}\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport { ProfessionalInformationSection };\nexport default ProfessionalInformationSection;","import React, { useState, useEffect } from 'react';\n\ninterface License {\n  id: string;\n  state: string;\n  licenseNumber: string;\n  issueDate: string;\n  expirationDate: string;\n  status: string;\n}\n\ninterface LicensureData {\n  licenses: License[];\n}\n\ninterface LicensureSectionProps {\n  data: LicensureData | null;\n  onUpdate: (data: LicensureData, isComplete: boolean) => void;\n}\n\nconst LicensureSection: React.FC<LicensureSectionProps> = ({ data, onUpdate }) => {\n  const [licenses, setLicenses] = useState<License[]>(\n    data?.licenses || [\n      {\n        id: '1',\n        state: '',\n        licenseNumber: '',\n        issueDate: '',\n        expirationDate: '',\n        status: 'Active',\n      },\n    ]\n  );\n\n  const [errors, setErrors] = useState<Record<string, Partial<Record<keyof License, string>>>>({});\n\n  const US_STATES = [\n    'AL', 'AK', 'AZ', 'AR', 'CA', 'CO', 'CT', 'DE', 'FL', 'GA',\n    'HI', 'ID', 'IL', 'IN', 'IA', 'KS', 'KY', 'LA', 'ME', 'MD',\n    'MA', 'MI', 'MN', 'MS', 'MO', 'MT', 'NE', 'NV', 'NH', 'NJ',\n    'NM', 'NY', 'NC', 'ND', 'OH', 'OK', 'OR', 'PA', 'RI', 'SC',\n    'SD', 'TN', 'TX', 'UT', 'VT', 'VA', 'WA', 'WV', 'WI', 'WY',\n  ];\n\n  const LICENSE_STATUS = ['Active', 'Inactive', 'Pending', 'Expired'];\n\n  const validateLicense = (license: License): Partial<Record<keyof License, string>> => {\n    const licenseErrors: Partial<Record<keyof License, string>> = {};\n\n    if (!license.state) {\n      licenseErrors.state = 'State is required';\n    }\n\n    if (!license.licenseNumber.trim()) {\n      licenseErrors.licenseNumber = 'License number is required';\n    }\n\n    if (!license.expirationDate) {\n      licenseErrors.expirationDate = 'Expiration date is required';\n    } else {\n      const expDate = new Date(license.expirationDate);\n      const today = new Date();\n      if (expDate < today && license.status === 'Active') {\n        licenseErrors.expirationDate = 'Expired license cannot be marked as Active';\n      }\n    }\n\n    if (!license.status) {\n      licenseErrors.status = 'Status is required';\n    }\n\n    return licenseErrors;\n  };\n\n  const handleLicenseChange = (\n    id: string,\n    field: keyof License,\n    value: string\n  ) => {\n    const updatedLicenses = licenses.map((license) =>\n      license.id === id ? { ...license, [field]: value } : license\n    );\n    setLicenses(updatedLicenses);\n\n    // Validate the changed license\n    const changedLicense = updatedLicenses.find((l) => l.id === id);\n    if (changedLicense) {\n      const licenseErrors = validateLicense(changedLicense);\n      setErrors((prev) => ({ ...prev, [id]: licenseErrors }));\n    }\n  };\n\n  const addLicense = () => {\n    const newLicense: License = {\n      id: Date.now().toString(),\n      state: '',\n      licenseNumber: '',\n      issueDate: '',\n      expirationDate: '',\n      status: 'Active',\n    };\n    setLicenses([...licenses, newLicense]);\n  };\n\n  const removeLicense = (id: string) => {\n    if (licenses.length > 1) {\n      setLicenses(licenses.filter((license) => license.id !== id));\n      setErrors((prev) => {\n        const newErrors = { ...prev };\n        delete newErrors[id];\n        return newErrors;\n      });\n    }\n  };\n\n  const checkCompletion = (licensesData: License[]): boolean => {\n    if (licensesData.length === 0) return false;\n\n    // At least one license must be complete and valid\n    return licensesData.some((license) => {\n      const licenseErrors = validateLicense(license);\n      return (\n        license.state &&\n        license.licenseNumber.trim() &&\n        license.expirationDate &&\n        license.status &&\n        Object.keys(licenseErrors).length === 0\n      );\n    });\n  };\n\n  useEffect(() => {\n    const timer = setTimeout(() => {\n      const isComplete = checkCompletion(licenses);\n      onUpdate({ licenses }, isComplete);\n    }, 500);\n\n    return () => clearTimeout(timer);\n  }, [licenses, onUpdate]);\n\n  return (\n    <div className=\"bg-white rounded-lg border border-gray-200 p-6\">\n      <div className=\"mb-6\">\n        <h3 className=\"text-lg font-bold text-gray-900 mb-2\">Medical Licensure</h3>\n        <p className=\"text-sm text-gray-600\">\n          Add all active state medical licenses. Multi-state licenses are supported.\n        </p>\n      </div>\n\n      <div className=\"space-y-6\">\n        {licenses.map((license, index) => (\n          <div\n            key={license.id}\n            className=\"p-4 border border-gray-200 rounded-lg bg-gray-50\"\n          >\n            <div className=\"flex items-center justify-between mb-4\">\n              <h4 className=\"text-sm font-semibold text-gray-900\">\n                License {index + 1}\n              </h4>\n              {licenses.length > 1 && (\n                <button\n                  onClick={() => removeLicense(license.id)}\n                  className=\"text-red-600 hover:text-red-700 text-sm font-medium whitespace-nowrap\"\n                >\n                  <i className=\"ri-delete-bin-line mr-1\"></i>\n                  Remove\n                </button>\n              )}\n            </div>\n\n            <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n              <div>\n                <label className=\"block text-sm font-medium text-gray-700 mb-1\">\n                  State <span className=\"text-red-500\">*</span>\n                </label>\n                <select\n                  value={license.state}\n                  onChange={(e) =>\n                    handleLicenseChange(license.id, 'state', e.target.value)\n                  }\n                  className=\"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-teal-500 bg-white\"\n                >\n                  <option value=\"\">Select State</option>\n                  {US_STATES.map((state) => (\n                    <option key={state} value={state}>\n                      {state}\n                    </option>\n                  ))}\n                </select>\n                {errors[license.id]?.state && (\n                  <p className=\"text-xs text-red-600 mt-1\">\n                    {errors[license.id].state}\n                  </p>\n                )}\n              </div>\n\n              <div>\n                <label className=\"block text-sm font-medium text-gray-700 mb-1\">\n                  License Number <span className=\"text-red-500\">*</span>\n                </label>\n                <input\n                  type=\"text\"\n                  value={license.licenseNumber}\n                  onChange={(e) =>\n                    handleLicenseChange(license.id, 'licenseNumber', e.target.value)\n                  }\n                  className=\"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-teal-500 bg-white\"\n                  placeholder=\"e.g., MD123456\"\n                />\n                {errors[license.id]?.licenseNumber && (\n                  <p className=\"text-xs text-red-600 mt-1\">\n                    {errors[license.id].licenseNumber}\n                  </p>\n                )}\n              </div>\n\n              <div>\n                <label className=\"block text-sm font-medium text-gray-700 mb-1\">\n                  Issue Date\n                </label>\n                <input\n                  type=\"date\"\n                  value={license.issueDate}\n                  onChange={(e) =>\n                    handleLicenseChange(license.id, 'issueDate', e.target.value)\n                  }\n                  className=\"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-teal-500 bg-white\"\n                />\n              </div>\n\n              <div>\n                <label className=\"block text-sm font-medium text-gray-700 mb-1\">\n                  Expiration Date <span className=\"text-red-500\">*</span>\n                </label>\n                <input\n                  type=\"date\"\n                  value={license.expirationDate}\n                  onChange={(e) =>\n                    handleLicenseChange(license.id, 'expirationDate', e.target.value)\n                  }\n                  className=\"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-teal-500 bg-white\"\n                />\n                {errors[license.id]?.expirationDate && (\n                  <p className=\"text-xs text-red-600 mt-1\">\n                    {errors[license.id].expirationDate}\n                  </p>\n                )}\n              </div>\n\n              <div>\n                <label className=\"block text-sm font-medium text-gray-700 mb-1\">\n                  Status <span className=\"text-red-500\">*</span>\n                </label>\n                <select\n                  value={license.status}\n                  onChange={(e) =>\n                    handleLicenseChange(license.id, 'status', e.target.value)\n                  }\n                  className=\"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-teal-500 bg-white\"\n                >\n                  {LICENSE_STATUS.map((status) => (\n                    <option key={status} value={status}>\n                      {status}\n                    </option>\n                  ))}\n                </select>\n                {errors[license.id]?.status && (\n                  <p className=\"text-xs text-red-600 mt-1\">\n                    {errors[license.id].status}\n                  </p>\n                )}\n              </div>\n            </div>\n          </div>\n        ))}\n\n        <button\n          onClick={addLicense}\n          className=\"w-full py-3 border-2 border-dashed border-gray-300 rounded-lg text-sm font-medium text-gray-600 hover:border-teal-500 hover:text-teal-600 transition-colors whitespace-nowrap\"\n        >\n          <i className=\"ri-add-line mr-2\"></i>\n          Add Another License\n        </button>\n      </div>\n\n      <div className=\"mt-6 p-3 bg-gray-50 rounded-lg border border-gray-200\">\n        <p className=\"text-xs text-gray-600\">\n          <i className=\"ri-information-line mr-1\"></i>\n          Enter your active license details. Facilities will verify independently.\n        </p>\n      </div>\n    </div>\n  );\n};\n\nexport { LicensureSection };","import React, { useState, useEffect } from 'react';\nimport { supabase } from '../../../utils/supabaseClient';\n\ninterface UploadedDocument {\n  id: string;\n  name: string;\n  size: number;\n  uploadDate: string;\n  url: string;\n}\n\ninterface DocumentUploadsData {\n  cv: UploadedDocument | null;\n  npdbReport: UploadedDocument | null;\n  deaCertificate: UploadedDocument | null;\n  boardCertificates: UploadedDocument[];\n  otherDocuments: UploadedDocument[];\n}\n\ninterface DocumentUploadsSectionProps {\n  data: DocumentUploadsData | null;\n  onUpdate: (data: DocumentUploadsData, isComplete: boolean) => void;\n}\n\nconst DocumentUploadsSection: React.FC<DocumentUploadsSectionProps> = ({\n  data,\n  onUpdate,\n}) => {\n  const [documents, setDocuments] = useState<DocumentUploadsData>({\n    cv: data?.cv || null,\n    npdbReport: data?.npdbReport || null,\n    deaCertificate: data?.deaCertificate || null,\n    boardCertificates: data?.boardCertificates || [],\n    otherDocuments: data?.otherDocuments || [],\n  });\n\n  const [uploading, setUploading] = useState<Record<string, boolean>>({});\n  const [dragOver, setDragOver] = useState<string | null>(null);\n\n  const formatFileSize = (bytes: number): string => {\n    if (bytes === 0) return '0 Bytes';\n    const k = 1024;\n    const sizes = ['Bytes', 'KB', 'MB', 'GB'];\n    const i = Math.floor(Math.log(bytes) / Math.log(k));\n    return Math.round(bytes / Math.pow(k, i) * 100) / 100 + ' ' + sizes[i];\n  };\n\n  const validateFile = (file: File, allowedTypes: string[]): string | null => {\n    const maxSize = 10 * 1024 * 1024; // 10MB\n\n    if (file.size > maxSize) {\n      return 'File size must be less than 10MB';\n    }\n\n    const fileExtension = file.name.split('.').pop()?.toLowerCase();\n    if (!fileExtension || !allowedTypes.includes(fileExtension)) {\n      return `Only ${allowedTypes.join(', ')} files are allowed`;\n    }\n\n    return null;\n  };\n\n  const handleFileUpload = async (\n    file: File,\n    documentType: keyof DocumentUploadsData,\n    allowedTypes: string[]\n  ) => {\n    console.log('=== UPLOAD START ===');\n    console.log('File:', file.name, 'Type:', documentType, 'Size:', file.size);\n    \n    const error = validateFile(file, allowedTypes);\n    if (error) {\n      console.error('Validation error:', error);\n      alert(error);\n      return;\n    }\n\n    setUploading((prev) => ({ ...prev, [documentType]: true }));\n\n    try {\n      // Get current user\n      console.log('Getting user...');\n      const { data: { user }, error: userError } = await supabase.auth.getUser();\n      \n      if (userError) {\n        console.error('Auth error:', userError);\n        throw new Error(`Authentication error: ${userError.message}`);\n      }\n      \n      if (!user) {\n        console.error('No user found');\n        throw new Error('User not authenticated. Please log in again.');\n      }\n      \n      console.log('User authenticated:', user.id);\n\n      // Create unique file path\n      const timestamp = Date.now();\n      const fileExt = file.name.split('.').pop();\n      const fileName = `${user.id}/${documentType}/${timestamp}_${file.name}`;\n      \n      console.log('Uploading to path:', fileName);\n\n      // Upload to Supabase Storage with timeout\n      const uploadPromise = supabase.storage\n        .from('physician-documents')\n        .upload(fileName, file, {\n          cacheControl: '3600',\n          upsert: false\n        });\n\n      // Add 30 second timeout\n      const timeoutPromise = new Promise((_, reject) => \n        setTimeout(() => reject(new Error('Upload timeout - please try again')), 30000)\n      );\n\n      const { data: uploadData, error: uploadError } = await Promise.race([\n        uploadPromise,\n        timeoutPromise\n      ]) as any;\n\n      if (uploadError) {\n        console.error('Storage upload error:', uploadError);\n        throw new Error(`Upload failed: ${uploadError.message}`);\n      }\n\n      console.log('Upload successful:', uploadData);\n\n      // Get public URL\n      const { data: urlData } = supabase.storage\n        .from('physician-documents')\n        .getPublicUrl(fileName);\n\n      console.log('Public URL:', urlData.publicUrl);\n\n      const uploadedDoc: UploadedDocument = {\n        id: timestamp.toString(),\n        name: file.name,\n        size: file.size,\n        uploadDate: new Date().toISOString(),\n        url: urlData.publicUrl,\n      };\n\n      console.log('Updating local state...');\n\n      if (documentType === 'boardCertificates' || documentType === 'otherDocuments') {\n        setDocuments((prev) => ({\n          ...prev,\n          [documentType]: [...(prev[documentType] as UploadedDocument[]), uploadedDoc],\n        }));\n      } else {\n        setDocuments((prev) => ({\n          ...prev,\n          [documentType]: uploadedDoc,\n        }));\n      }\n\n      console.log('=== UPLOAD COMPLETE ===');\n      alert(`${file.name} uploaded successfully!`);\n      \n    } catch (error: any) {\n      console.error('=== UPLOAD FAILED ===');\n      console.error('Error details:', error);\n      alert(`Upload failed: ${error.message || 'Unknown error occurred'}`);\n    } finally {\n      setUploading((prev) => ({ ...prev, [documentType]: false }));\n    }\n  };\n\n  const handleFileSelect = (\n    e: React.ChangeEvent<HTMLInputElement>,\n    documentType: keyof DocumentUploadsData,\n    allowedTypes: string[]\n  ) => {\n    const file = e.target.files?.[0];\n    if (file) {\n      handleFileUpload(file, documentType, allowedTypes);\n    }\n    e.target.value = '';\n  };\n\n  const handleDrop = (\n    e: React.DragEvent<HTMLDivElement>,\n    documentType: keyof DocumentUploadsData,\n    allowedTypes: string[]\n  ) => {\n    e.preventDefault();\n    setDragOver(null);\n\n    const file = e.dataTransfer.files[0];\n    if (file) {\n      handleFileUpload(file, documentType, allowedTypes);\n    }\n  };\n\n  const removeDocument = (\n    documentType: keyof DocumentUploadsData,\n    documentId?: string\n  ) => {\n    if (documentType === 'boardCertificates' || documentType === 'otherDocuments') {\n      setDocuments((prev) => ({\n        ...prev,\n        [documentType]: prev[documentType].filter((doc) => doc.id !== documentId),\n      }));\n    } else {\n      setDocuments((prev) => ({\n        ...prev,\n        [documentType]: null,\n      }));\n    }\n  };\n\n  const checkCompletion = (data: DocumentUploadsData): boolean => {\n    // CV and NPDB Report are required\n    return data.cv !== null && data.npdbReport !== null;\n  };\n\n  useEffect(() => {\n    const isComplete = checkCompletion(documents);\n    onUpdate(documents, isComplete);\n  }, [documents]);\n\n  const renderUploadArea = (\n    documentType: keyof DocumentUploadsData,\n    label: string,\n    description: string,\n    allowedTypes: string[],\n    required: boolean = false,\n    currentDoc: UploadedDocument | null = null\n  ) => {\n    const isUploading = uploading[documentType];\n    const isDragOver = dragOver === documentType;\n\n    return (\n      <div>\n        <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n          {label} {required && <span className=\"text-red-500\">*</span>}\n        </label>\n        <p className=\"text-xs text-gray-500 mb-2\">{description}</p>\n\n        {currentDoc ? (\n          <div className=\"flex items-center justify-between p-4 bg-green-50 border border-green-200 rounded-lg\">\n            <div className=\"flex items-center space-x-3\">\n              <div className=\"w-10 h-10 bg-green-100 rounded-lg flex items-center justify-center\">\n                <i className=\"ri-file-text-line text-green-600 text-xl\"></i>\n              </div>\n              <div>\n                <p className=\"text-sm font-medium text-gray-900\">{currentDoc.name}</p>\n                <p className=\"text-xs text-gray-500\">\n                  {formatFileSize(currentDoc.size)} • Uploaded{' '}\n                  {new Date(currentDoc.uploadDate).toLocaleDateString()}\n                </p>\n              </div>\n            </div>\n            <button\n              onClick={() => removeDocument(documentType)}\n              className=\"text-red-600 hover:text-red-700 text-sm font-medium whitespace-nowrap\"\n            >\n              <i className=\"ri-delete-bin-line mr-1\"></i>\n              Remove\n            </button>\n          </div>\n        ) : (\n          <div\n            onDragOver={(e) => {\n              e.preventDefault();\n              setDragOver(documentType);\n            }}\n            onDragLeave={() => setDragOver(null)}\n            onDrop={(e) => handleDrop(e, documentType, allowedTypes)}\n            className={`border-2 border-dashed rounded-lg p-6 text-center transition-colors ${\n              isDragOver\n                ? 'border-teal-500 bg-teal-50'\n                : 'border-gray-300 hover:border-gray-400'\n            }`}\n          >\n            {isUploading ? (\n              <div className=\"flex flex-col items-center\">\n                <div className=\"w-12 h-12 border-4 border-teal-500 border-t-transparent rounded-full animate-spin mb-3\"></div>\n                <p className=\"text-sm text-gray-600\">Uploading...</p>\n              </div>\n            ) : (\n              <>\n                <div className=\"w-12 h-12 bg-gray-100 rounded-lg flex items-center justify-center mx-auto mb-3\">\n                  <i className=\"ri-upload-cloud-line text-gray-400 text-2xl\"></i>\n                </div>\n                <p className=\"text-sm text-gray-700 mb-1\">\n                  Drag and drop your file here, or\n                </p>\n                <label className=\"inline-block px-4 py-2 bg-teal-600 text-white text-sm font-medium rounded-lg hover:bg-teal-700 transition-colors cursor-pointer whitespace-nowrap\">\n                  Browse Files\n                  <input\n                    type=\"file\"\n                    accept={allowedTypes.map((type) => `.${type}`).join(',')}\n                    onChange={(e) => handleFileSelect(e, documentType, allowedTypes)}\n                    className=\"hidden\"\n                  />\n                </label>\n                <p className=\"text-xs text-gray-500 mt-2\">\n                  Accepted formats: {allowedTypes.join(', ').toUpperCase()} (Max 10MB)\n                </p>\n              </>\n            )}\n          </div>\n        )}\n      </div>\n    );\n  };\n\n  const renderMultipleUploadArea = (\n    documentType: 'boardCertificates' | 'otherDocuments',\n    label: string,\n    description: string,\n    allowedTypes: string[],\n    currentDocs: UploadedDocument[]\n  ) => {\n    const isUploading = uploading[documentType];\n    const isDragOver = dragOver === documentType;\n\n    return (\n      <div>\n        <label className=\"block text-sm font-medium text-gray-700 mb-2\">{label}</label>\n        <p className=\"text-xs text-gray-500 mb-2\">{description}</p>\n\n        {currentDocs && currentDocs.length > 0 && (\n          <div className=\"space-y-2 mb-3\">\n            {currentDocs.map((doc) => (\n              <div\n                key={doc.id}\n                className=\"flex items-center justify-between p-3 bg-gray-50 border border-gray-200 rounded-lg\"\n              >\n                <div className=\"flex items-center space-x-3\">\n                  <div className=\"w-8 h-8 bg-gray-100 rounded flex items-center justify-center\">\n                    <i className=\"ri-file-text-line text-gray-600\"></i>\n                  </div>\n                  <div>\n                    <p className=\"text-sm font-medium text-gray-900\">{doc.name}</p>\n                    <p className=\"text-xs text-gray-500\">{formatFileSize(doc.size)}</p>\n                  </div>\n                </div>\n                <button\n                  onClick={() => removeDocument(documentType, doc.id)}\n                  className=\"text-red-600 hover:text-red-700 text-sm whitespace-nowrap\"\n                >\n                  <i className=\"ri-close-line\"></i>\n                </button>\n              </div>\n            ))}\n          </div>\n        )}\n\n        <div\n          onDragOver={(e) => {\n            e.preventDefault();\n            setDragOver(documentType);\n          }}\n          onDragLeave={() => setDragOver(null)}\n          onDrop={(e) => handleDrop(e, documentType, allowedTypes)}\n          className={`border-2 border-dashed rounded-lg p-4 text-center transition-colors ${\n            isDragOver\n              ? 'border-teal-500 bg-teal-50'\n              : 'border-gray-300 hover:border-gray-400'\n          }`}\n        >\n          {isUploading ? (\n            <div className=\"flex items-center justify-center\">\n              <div className=\"w-8 h-8 border-4 border-teal-500 border-t-transparent rounded-full animate-spin mr-3\"></div>\n              <p className=\"text-sm text-gray-600\">Uploading...</p>\n            </div>\n          ) : (\n            <>\n              <i className=\"ri-upload-cloud-line text-gray-400 text-xl mb-2\"></i>\n              <p className=\"text-sm text-gray-700 mb-2\">\n                Drag and drop or{' '}\n                <label className=\"text-teal-600 hover:text-teal-700 font-medium cursor-pointer whitespace-nowrap\">\n                  browse\n                  <input\n                    type=\"file\"\n                    accept={allowedTypes.map((type) => `.${type}`).join(',')}\n                    onChange={(e) => handleFileSelect(e, documentType, allowedTypes)}\n                    className=\"hidden\"\n                  />\n                </label>\n              </p>\n              <p className=\"text-xs text-gray-500\">\n                {allowedTypes.join(', ').toUpperCase()} (Max 10MB)\n              </p>\n            </>\n          )}\n        </div>\n      </div>\n    );\n  };\n\n  return (\n    <div className=\"bg-white rounded-lg border border-gray-200 p-6\">\n      <div className=\"mb-6\">\n        <h3 className=\"text-lg font-bold text-gray-900 mb-2\">Document Uploads</h3>\n        <p className=\"text-sm text-gray-600\">\n          Upload required credentials and supporting documents. All files are securely stored.\n        </p>\n      </div>\n\n      <div className=\"space-y-6\">\n        {/* CV / Resume */}\n        {renderUploadArea(\n          'cv',\n          'Curriculum Vitae (CV)',\n          'Upload your most recent CV or resume',\n          ['pdf', 'doc', 'docx'],\n          true,\n          documents.cv\n        )}\n\n        {/* NPDB Report */}\n        {renderUploadArea(\n          'npdbReport',\n          'NPDB Report',\n          'National Practitioner Data Bank report (self-query)',\n          ['pdf'],\n          true,\n          documents.npdbReport\n        )}\n\n        {/* DEA Certificate */}\n        {renderUploadArea(\n          'deaCertificate',\n          'DEA Certificate',\n          'Drug Enforcement Administration certificate (if applicable)',\n          ['pdf', 'jpg', 'jpeg', 'png'],\n          false,\n          documents.deaCertificate\n        )}\n\n        {/* Board Certificates */}\n        {renderMultipleUploadArea(\n          'boardCertificates',\n          'Board Certificates',\n          'Upload all relevant board certification documents',\n          ['pdf', 'jpg', 'jpeg', 'png'],\n          documents.boardCertificates\n        )}\n\n        {/* Other Documents */}\n        {renderMultipleUploadArea(\n          'otherDocuments',\n          'Other Supporting Documents',\n          'Additional credentials, certifications, or supporting materials',\n          ['pdf', 'doc', 'docx', 'jpg', 'jpeg', 'png'],\n          documents.otherDocuments\n        )}\n      </div>\n\n      <div className=\"mt-6 p-3 bg-gray-50 rounded-lg border border-gray-200\">\n        <p className=\"text-xs text-gray-600\">\n          <i className=\"ri-lock-line mr-1\"></i>\n          All documents are encrypted and stored securely. Documents are transmitted to facilities only after you apply to an assignment.\n        </p>\n      </div>\n    </div>\n  );\n};\n\nexport { DocumentUploadsSection };\nexport default DocumentUploadsSection;","import React, { useState, useEffect } from 'react';\n\ninterface QuestionnaireAnswer {\n  questionId: string;\n  answer: string;\n  details?: string;\n}\n\ninterface Questionnaire {\n  id: string;\n  name: string;\n  version: string;\n  questions: Question[];\n}\n\ninterface Question {\n  id: string;\n  text: string;\n  type: 'yes-no' | 'text' | 'multiple-choice' | 'date';\n  required: boolean;\n  requiresDetails?: boolean;\n  options?: string[];\n}\n\ninterface StandardQuestionnairesData {\n  facilityQuestionnaire: QuestionnaireAnswer[];\n  insuranceQuestionnaire: QuestionnaireAnswer[];\n}\n\ninterface StandardQuestionnairesSectionProps {\n  data: StandardQuestionnairesData | null;\n  onUpdate: (data: StandardQuestionnairesData, isComplete: boolean) => void;\n}\n\nconst StandardQuestionnairesSection: React.FC<StandardQuestionnairesSectionProps> = ({\n  data,\n  onUpdate,\n}) => {\n  const [answers, setAnswers] = useState<StandardQuestionnairesData>({\n    facilityQuestionnaire: data?.facilityQuestionnaire || [],\n    insuranceQuestionnaire: data?.insuranceQuestionnaire || [],\n  });\n\n  const [activeTab, setActiveTab] = useState<'facility' | 'insurance'>('facility');\n\n  // Facility-required questionnaire (versioned and reusable)\n  const facilityQuestionnaire: Questionnaire = {\n    id: 'facility-standard-v1',\n    name: 'Facility Standard Questionnaire',\n    version: '1.0',\n    questions: [\n      {\n        id: 'malpractice-history',\n        text: 'Have you ever had a malpractice claim or settlement?',\n        type: 'yes-no',\n        required: true,\n        requiresDetails: true,\n      },\n      {\n        id: 'license-discipline',\n        text: 'Has any medical license ever been suspended, revoked, or subject to disciplinary action?',\n        type: 'yes-no',\n        required: true,\n        requiresDetails: true,\n      },\n      {\n        id: 'hospital-privileges',\n        text: 'Have you ever been denied hospital privileges or had privileges suspended or revoked?',\n        type: 'yes-no',\n        required: true,\n        requiresDetails: true,\n      },\n      {\n        id: 'dea-action',\n        text: 'Has your DEA registration ever been suspended, revoked, or subject to disciplinary action?',\n        type: 'yes-no',\n        required: true,\n        requiresDetails: true,\n      },\n      {\n        id: 'criminal-history',\n        text: 'Have you ever been convicted of a felony or misdemeanor (excluding minor traffic violations)?',\n        type: 'yes-no',\n        required: true,\n        requiresDetails: true,\n      },\n      {\n        id: 'health-limitations',\n        text: 'Do you have any physical or mental health conditions that would limit your ability to perform clinical duties?',\n        type: 'yes-no',\n        required: true,\n        requiresDetails: true,\n      },\n      {\n        id: 'peer-review',\n        text: 'Have you ever been subject to peer review action resulting in restriction of privileges?',\n        type: 'yes-no',\n        required: true,\n        requiresDetails: true,\n      },\n    ],\n  };\n\n  // Insurance-related questionnaire (versioned and reusable)\n  const insuranceQuestionnaire: Questionnaire = {\n    id: 'insurance-standard-v1',\n    name: 'Insurance Standard Questionnaire',\n    version: '1.0',\n    questions: [\n      {\n        id: 'current-coverage',\n        text: 'Do you currently have malpractice insurance coverage?',\n        type: 'yes-no',\n        required: true,\n      },\n      {\n        id: 'coverage-type',\n        text: 'What type of malpractice coverage do you have?',\n        type: 'multiple-choice',\n        required: true,\n        options: [\n          'Claims-Made',\n          'Occurrence',\n          'Tail Coverage',\n          'No Current Coverage',\n          'Other',\n        ],\n      },\n      {\n        id: 'coverage-limits',\n        text: 'What are your current coverage limits?',\n        type: 'multiple-choice',\n        required: true,\n        options: [\n          '$1M / $3M',\n          '$2M / $4M',\n          '$3M / $5M',\n          'Other',\n          'Not Applicable',\n        ],\n      },\n      {\n        id: 'carrier-name',\n        text: 'Current insurance carrier name',\n        type: 'text',\n        required: false,\n      },\n      {\n        id: 'policy-expiration',\n        text: 'Policy expiration date',\n        type: 'date',\n        required: false,\n      },\n      {\n        id: 'claims-history',\n        text: 'Number of malpractice claims in the past 10 years',\n        type: 'multiple-choice',\n        required: true,\n        options: ['0', '1', '2', '3', '4 or more'],\n      },\n      {\n        id: 'tail-coverage-needed',\n        text: 'Will you need tail coverage for assignments?',\n        type: 'yes-no',\n        required: true,\n      },\n    ],\n  };\n\n  const getAnswer = (questionnaireType: 'facility' | 'insurance', questionId: string) => {\n    const questionnaireKey =\n      questionnaireType === 'facility' ? 'facilityQuestionnaire' : 'insuranceQuestionnaire';\n    return answers[questionnaireKey]?.find((a) => a.questionId === questionId);\n  };\n\n  const handleAnswerChange = (\n    questionnaireType: 'facility' | 'insurance',\n    questionId: string,\n    answer: string,\n    details?: string\n  ) => {\n    const questionnaireKey =\n      questionnaireType === 'facility' ? 'facilityQuestionnaire' : 'insuranceQuestionnaire';\n\n    const updatedAnswers = { ...answers };\n    const existingIndex = updatedAnswers[questionnaireKey].findIndex(\n      (a) => a.questionId === questionId\n    );\n\n    const newAnswer: QuestionnaireAnswer = {\n      questionId,\n      answer,\n      details,\n    };\n\n    if (existingIndex >= 0) {\n      updatedAnswers[questionnaireKey][existingIndex] = newAnswer;\n    } else {\n      updatedAnswers[questionnaireKey].push(newAnswer);\n    }\n\n    setAnswers(updatedAnswers);\n  };\n\n  const checkCompletion = (data: StandardQuestionnairesData): boolean => {\n    // Check facility questionnaire completion\n    const facilityComplete = facilityQuestionnaire.questions.every((question) => {\n      if (!question.required) return true;\n      const answer = data.facilityQuestionnaire.find((a) => a.questionId === question.id);\n      if (!answer || !answer.answer) return false;\n      // If answer is \"Yes\" and details are required, check details\n      if (question.requiresDetails && answer.answer === 'Yes') {\n        return answer.details && answer.details.trim() !== '';\n      }\n      return true;\n    });\n\n    // Check insurance questionnaire completion\n    const insuranceComplete = insuranceQuestionnaire.questions.every((question) => {\n      if (!question.required) return true;\n      const answer = data.insuranceQuestionnaire.find((a) => a.questionId === question.id);\n      return answer && answer.answer;\n    });\n\n    return facilityComplete && insuranceComplete;\n  };\n\n  useEffect(() => {\n    const isComplete = checkCompletion(answers);\n    onUpdate(answers, isComplete);\n  }, [answers]);\n\n  const renderQuestion = (\n    question: Question,\n    questionnaireType: 'facility' | 'insurance'\n  ) => {\n    const answer = getAnswer(questionnaireType, question.id);\n\n    return (\n      <div key={question.id} className=\"p-4 bg-gray-50 rounded-lg border border-gray-200\">\n        <label className=\"block text-sm font-medium text-gray-900 mb-3\">\n          {question.text}\n          {question.required && <span className=\"text-red-500 ml-1\">*</span>}\n        </label>\n\n        {question.type === 'yes-no' && (\n          <div className=\"space-y-3\">\n            <div className=\"flex space-x-4\">\n              <label className=\"flex items-center cursor-pointer\">\n                <input\n                  type=\"radio\"\n                  name={question.id}\n                  value=\"Yes\"\n                  checked={answer?.answer === 'Yes'}\n                  onChange={(e) =>\n                    handleAnswerChange(questionnaireType, question.id, e.target.value)\n                  }\n                  className=\"w-4 h-4 text-teal-600 focus:ring-teal-500\"\n                />\n                <span className=\"ml-2 text-sm text-gray-700\">Yes</span>\n              </label>\n              <label className=\"flex items-center cursor-pointer\">\n                <input\n                  type=\"radio\"\n                  name={question.id}\n                  value=\"No\"\n                  checked={answer?.answer === 'No'}\n                  onChange={(e) =>\n                    handleAnswerChange(questionnaireType, question.id, e.target.value)\n                  }\n                  className=\"w-4 h-4 text-teal-600 focus:ring-teal-500\"\n                />\n                <span className=\"ml-2 text-sm text-gray-700\">No</span>\n              </label>\n            </div>\n\n            {question.requiresDetails && answer?.answer === 'Yes' && (\n              <div>\n                <label className=\"block text-xs font-medium text-gray-700 mb-1\">\n                  Please provide details:\n                </label>\n                <textarea\n                  value={answer?.details || ''}\n                  onChange={(e) =>\n                    handleAnswerChange(\n                      questionnaireType,\n                      question.id,\n                      answer.answer,\n                      e.target.value\n                    )\n                  }\n                  rows={3}\n                  className=\"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-teal-500\"\n                  placeholder=\"Provide brief details...\"\n                />\n              </div>\n            )}\n          </div>\n        )}\n\n        {question.type === 'text' && (\n          <input\n            type=\"text\"\n            value={answer?.answer || ''}\n            onChange={(e) =>\n              handleAnswerChange(questionnaireType, question.id, e.target.value)\n            }\n            className=\"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-teal-500\"\n            placeholder=\"Enter your answer...\"\n          />\n        )}\n\n        {question.type === 'date' && (\n          <input\n            type=\"date\"\n            value={answer?.answer || ''}\n            onChange={(e) =>\n              handleAnswerChange(questionnaireType, question.id, e.target.value)\n            }\n            className=\"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-teal-500\"\n          />\n        )}\n\n        {question.type === 'multiple-choice' && question.options && (\n          <select\n            value={answer?.answer || ''}\n            onChange={(e) =>\n              handleAnswerChange(questionnaireType, question.id, e.target.value)\n            }\n            className=\"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-teal-500\"\n          >\n            <option value=\"\">Select an option</option>\n            {question.options.map((option) => (\n              <option key={option} value={option}>\n                {option}\n              </option>\n            ))}\n          </select>\n        )}\n      </div>\n    );\n  };\n\n  return (\n    <div className=\"bg-white rounded-lg border border-gray-200 p-6\">\n      <div className=\"mb-6\">\n        <h3 className=\"text-lg font-bold text-gray-900 mb-2\">Standard Questionnaires</h3>\n        <p className=\"text-sm text-gray-600\">\n          Complete these standard questionnaires once. Your responses will be reusable across all\n          assignments.\n        </p>\n      </div>\n\n      {/* Tab Navigation */}\n      <div className=\"flex space-x-1 mb-6 border-b border-gray-200\">\n        <button\n          onClick={() => setActiveTab('facility')}\n          className={`px-4 py-2 text-sm font-medium transition-colors whitespace-nowrap ${\n            activeTab === 'facility'\n              ? 'text-teal-600 border-b-2 border-teal-600'\n              : 'text-gray-600 hover:text-gray-900'\n          }`}\n        >\n          Facility Questionnaire\n        </button>\n        <button\n          onClick={() => setActiveTab('insurance')}\n          className={`px-4 py-2 text-sm font-medium transition-colors whitespace-nowrap ${\n            activeTab === 'insurance'\n              ? 'text-teal-600 border-b-2 border-teal-600'\n              : 'text-gray-600 hover:text-gray-900'\n          }`}\n        >\n          Insurance Questionnaire\n        </button>\n      </div>\n\n      {/* Questionnaire Content */}\n      <div className=\"space-y-4\">\n        {activeTab === 'facility' && (\n          <>\n            <div className=\"p-3 bg-blue-50 border border-blue-200 rounded-lg mb-4\">\n              <p className=\"text-xs text-blue-800\">\n                <i className=\"ri-information-line mr-1\"></i>\n                <strong>Version {facilityQuestionnaire.version}</strong> - These questions are\n                required by facilities for credentialing purposes.\n              </p>\n            </div>\n            {facilityQuestionnaire.questions.map((question) =>\n              renderQuestion(question, 'facility')\n            )}\n          </>\n        )}\n\n        {activeTab === 'insurance' && (\n          <>\n            <div className=\"p-3 bg-blue-50 border border-blue-200 rounded-lg mb-4\">\n              <p className=\"text-xs text-blue-800\">\n                <i className=\"ri-information-line mr-1\"></i>\n                <strong>Version {insuranceQuestionnaire.version}</strong> - These questions help\n                insurance providers prepare accurate quotes.\n              </p>\n            </div>\n            {insuranceQuestionnaire.questions.map((question) =>\n              renderQuestion(question, 'insurance')\n            )}\n          </>\n        )}\n      </div>\n\n      <div className=\"mt-6 p-3 bg-gray-50 rounded-lg border border-gray-200\">\n        <p className=\"text-xs text-gray-600\">\n          <i className=\"ri-shield-check-line mr-1\"></i>\n          Your responses are versioned and reusable. You can update them anytime, and changes will\n          apply to future applications.\n        </p>\n      </div>\n    </div>\n  );\n};\n\nexport { StandardQuestionnairesSection };\n","import React, { useState, useEffect } from 'react';\n\ninterface DigitalAttestationData {\n  fullLegalName: string;\n  attestationDate: string;\n  timestamp: string;\n  ipAddress: string;\n  deviceInfo: string;\n  signatureVersion: string;\n  agreed: boolean;\n}\n\ninterface DigitalAttestationSectionProps {\n  data: DigitalAttestationData | null;\n  onUpdate: (data: DigitalAttestationData, isComplete: boolean) => void;\n}\n\nexport const DigitalAttestationSection: React.FC<DigitalAttestationSectionProps> = ({\n  data,\n  onUpdate,\n}) => {\n  const [attestation, setAttestation] = useState<DigitalAttestationData>(\n    data || {\n      fullLegalName: '',\n      attestationDate: '',\n      timestamp: '',\n      ipAddress: '',\n      deviceInfo: '',\n      signatureVersion: '1.0',\n      agreed: false,\n    }\n  );\n\n  const [showConfirmation, setShowConfirmation] = useState(false);\n  const [errors, setErrors] = useState<Record<string, string>>({});\n\n  // Capture device and IP information\n  useEffect(() => {\n    const captureDeviceInfo = () => {\n      const userAgent = navigator.userAgent;\n      const platform = navigator.platform;\n      const language = navigator.language;\n      \n      return `${platform} | ${userAgent.substring(0, 100)} | Lang: ${language}`;\n    };\n\n    // Simulate IP capture (in production, this would be done server-side)\n    const captureIPAddress = async () => {\n      try {\n        // In production, call your backend API to get the real IP\n        // For now, we'll use a placeholder\n        return 'IP captured server-side';\n      } catch (error) {\n        return 'IP capture pending';\n      }\n    };\n\n    if (!attestation.deviceInfo) {\n      const deviceInfo = captureDeviceInfo();\n      captureIPAddress().then((ip) => {\n        setAttestation((prev) => ({\n          ...prev,\n          deviceInfo,\n          ipAddress: ip,\n        }));\n      });\n    }\n  }, []);\n\n  const validateName = (name: string): boolean => {\n    if (!name.trim()) {\n      setErrors((prev) => ({ ...prev, fullLegalName: 'Full legal name is required' }));\n      return false;\n    }\n    \n    // Check for at least first and last name (2 words minimum)\n    const nameParts = name.trim().split(/\\s+/);\n    if (nameParts.length < 2) {\n      setErrors((prev) => ({ \n        ...prev, \n        fullLegalName: 'Please enter your full legal name (first and last name)' \n      }));\n      return false;\n    }\n\n    setErrors((prev) => {\n      const newErrors = { ...prev };\n      delete newErrors.fullLegalName;\n      return newErrors;\n    });\n    return true;\n  };\n\n  const handleNameChange = (e: React.ChangeEvent<HTMLInputElement>) => {\n    const name = e.target.value;\n    setAttestation((prev) => ({ ...prev, fullLegalName: name }));\n    \n    // Clear error when user starts typing\n    if (errors.fullLegalName) {\n      setErrors((prev) => {\n        const newErrors = { ...prev };\n        delete newErrors.fullLegalName;\n        return newErrors;\n      });\n    }\n  };\n\n  const handleAgreeChange = (e: React.ChangeEvent<HTMLInputElement>) => {\n    setAttestation((prev) => ({ ...prev, agreed: e.target.checked }));\n  };\n\n  const handleSign = () => {\n    // Validate name\n    if (!validateName(attestation.fullLegalName)) {\n      return;\n    }\n\n    if (!attestation.agreed) {\n      setErrors((prev) => ({ ...prev, agreed: 'You must agree to the attestation' }));\n      return;\n    }\n\n    // Capture timestamp\n    const now = new Date();\n    const timestamp = now.toISOString();\n    const attestationDate = now.toLocaleDateString('en-US', {\n      year: 'numeric',\n      month: 'long',\n      day: 'numeric',\n      hour: '2-digit',\n      minute: '2-digit',\n      second: '2-digit',\n      timeZoneName: 'short',\n    });\n\n    const signedAttestation: DigitalAttestationData = {\n      ...attestation,\n      attestationDate,\n      timestamp,\n    };\n\n    setAttestation(signedAttestation);\n    setShowConfirmation(true);\n  };\n\n  const checkCompletion = (data: DigitalAttestationData): boolean => {\n    return (\n      data.fullLegalName.trim() !== '' &&\n      data.agreed &&\n      data.timestamp !== '' &&\n      data.attestationDate !== ''\n    );\n  };\n\n  useEffect(() => {\n    const isComplete = checkCompletion(attestation);\n    onUpdate(attestation, isComplete);\n  }, [attestation]);\n\n  if (showConfirmation && attestation.timestamp) {\n    return (\n      <div className=\"bg-white rounded-lg border border-gray-200 p-6\">\n        <div className=\"text-center py-8\">\n          <div className=\"w-16 h-16 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-4\">\n            <i className=\"ri-checkbox-circle-fill text-green-600 text-3xl\"></i>\n          </div>\n          <h3 className=\"text-xl font-bold text-gray-900 mb-2\">\n            Digital Attestation Complete\n          </h3>\n          <p className=\"text-sm text-gray-600 mb-6\">\n            Your signature has been recorded and will be automatically attached to all applications.\n          </p>\n\n          <div className=\"max-w-2xl mx-auto bg-gray-50 rounded-lg border border-gray-200 p-6 text-left\">\n            <h4 className=\"text-sm font-semibold text-gray-900 mb-4\">Signature Details</h4>\n            \n            <div className=\"space-y-3 text-sm\">\n              <div className=\"flex justify-between\">\n                <span className=\"text-gray-600\">Signed by:</span>\n                <span className=\"font-medium text-gray-900\">{attestation.fullLegalName}</span>\n              </div>\n              <div className=\"flex justify-between\">\n                <span className=\"text-gray-600\">Date & Time:</span>\n                <span className=\"font-medium text-gray-900\">{attestation.attestationDate}</span>\n              </div>\n              <div className=\"flex justify-between\">\n                <span className=\"text-gray-600\">Signature Version:</span>\n                <span className=\"font-medium text-gray-900\">v{attestation.signatureVersion}</span>\n              </div>\n              <div className=\"flex justify-between\">\n                <span className=\"text-gray-600\">IP Address:</span>\n                <span className=\"font-medium text-gray-900 text-xs\">{attestation.ipAddress}</span>\n              </div>\n              <div className=\"border-t border-gray-200 pt-3 mt-3\">\n                <span className=\"text-gray-600 block mb-1\">Device Information:</span>\n                <span className=\"font-medium text-gray-900 text-xs break-all\">\n                  {attestation.deviceInfo}\n                </span>\n              </div>\n            </div>\n          </div>\n\n          <button\n            onClick={() => setShowConfirmation(false)}\n            className=\"mt-6 px-6 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors whitespace-nowrap\"\n          >\n            <i className=\"ri-edit-line mr-2\"></i>\n            Edit Signature\n          </button>\n        </div>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"bg-white rounded-lg border border-gray-200 p-6\">\n      <div className=\"mb-6\">\n        <h3 className=\"text-lg font-bold text-gray-900 mb-2\">\n          Digital Attestation &amp; Signature\n        </h3>\n        <p className=\"text-sm text-gray-600\">\n          This legally binding attestation will be automatically attached to all your applications.\n        </p>\n      </div>\n\n      {/* Attestation Statements */}\n      <div className=\"mb-6 p-5 bg-gray-50 rounded-lg border border-gray-200\">\n        <h4 className=\"text-sm font-semibold text-gray-900 mb-4\">\n          I hereby attest and agree to the following:\n        </h4>\n\n        <div className=\"space-y-4 text-sm text-gray-700\">\n          <div className=\"flex items-start space-x-3\">\n            <div className=\"w-6 h-6 flex items-center justify-center flex-shrink-0 mt-0.5\">\n              <i className=\"ri-checkbox-circle-line text-teal-600 text-lg\"></i>\n            </div>\n            <p>\n              <strong>Accuracy:</strong> All information I have provided in my profile is true and\n              accurate to the best of my knowledge.\n            </p>\n          </div>\n\n          <div className=\"flex items-start space-x-3\">\n            <div className=\"w-6 h-6 flex items-center justify-center flex-shrink-0 mt-0.5\">\n              <i className=\"ri-checkbox-circle-line text-teal-600 text-lg\"></i>\n            </div>\n            <p>\n              <strong>Responsibility to Update:</strong> I am responsible for keeping all\n              information in my profile current and accurate. I will promptly update any changes to\n              my credentials, licenses, or professional status.\n            </p>\n          </div>\n\n          <div className=\"flex items-start space-x-3\">\n            <div className=\"w-6 h-6 flex items-center justify-center flex-shrink-0 mt-0.5\">\n              <i className=\"ri-checkbox-circle-line text-teal-600 text-lg\"></i>\n            </div>\n            <p>\n              <strong>Authorization to Transmit:</strong> I authorize the platform to transmit my\n              profile information, credentials, and documents to facilities only upon my submission\n              of an application to a specific assignment.\n            </p>\n          </div>\n\n          <div className=\"flex items-start space-x-3\">\n            <div className=\"w-6 h-6 flex items-center justify-center flex-shrink-0 mt-0.5\">\n              <i className=\"ri-checkbox-circle-line text-teal-600 text-lg\"></i>\n            </div>\n            <p>\n              <strong>Non-Circumvention Agreement:</strong> I agree not to bypass the platform or\n              contact facilities directly outside of the platform for assignments discovered through\n              this marketplace. All communications and agreements must be conducted through the\n              platform.\n            </p>\n          </div>\n\n          <div className=\"flex items-start space-x-3\">\n            <div className=\"w-6 h-6 flex items-center justify-center flex-shrink-0 mt-0.5\">\n              <i className=\"ri-checkbox-circle-line text-teal-600 text-lg\"></i>\n            </div>\n            <p>\n              <strong>Violation Consequences:</strong> I acknowledge that violations of platform\n              terms, including circumvention, misrepresentation, or failure to maintain accurate\n              credentials, may result in immediate suspension or permanent removal from the\n              platform.\n            </p>\n          </div>\n        </div>\n      </div>\n\n      {/* Signature Form */}\n      <div className=\"space-y-4\">\n        <div>\n          <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n            Type your full legal name to sign\n            <span className=\"text-red-500 ml-1\">*</span>\n          </label>\n          <input\n            type=\"text\"\n            value={attestation.fullLegalName}\n            onChange={handleNameChange}\n            onBlur={() => validateName(attestation.fullLegalName)}\n            placeholder=\"First Middle Last\"\n            className={`w-full px-4 py-3 border rounded-lg text-sm focus:outline-none focus:ring-2 ${\n              errors.fullLegalName\n                ? 'border-red-300 focus:ring-red-500'\n                : 'border-gray-300 focus:ring-teal-500'\n            }`}\n          />\n          {errors.fullLegalName && (\n            <p className=\"text-xs text-red-600 mt-1\">\n              <i className=\"ri-error-warning-line mr-1\"></i>\n              {errors.fullLegalName}\n            </p>\n          )}\n          <p className=\"text-xs text-gray-500 mt-1\">\n            This must match your legal name exactly as it appears on your medical license.\n          </p>\n        </div>\n\n        <div className=\"flex items-start space-x-3 p-4 bg-yellow-50 border border-yellow-200 rounded-lg\">\n          <input\n            type=\"checkbox\"\n            id=\"attestation-agree\"\n            checked={attestation.agreed}\n            onChange={handleAgreeChange}\n            className=\"w-4 h-4 text-teal-600 focus:ring-teal-500 border-gray-300 rounded mt-0.5 cursor-pointer\"\n          />\n          <label htmlFor=\"attestation-agree\" className=\"text-sm text-gray-700 cursor-pointer\">\n            I have read and agree to all statements above. I understand this digital signature is\n            legally binding and will be attached to all my applications.\n            <span className=\"text-red-500 ml-1\">*</span>\n          </label>\n        </div>\n        {errors.agreed && (\n          <p className=\"text-xs text-red-600 mt-1\">\n            <i className=\"ri-error-warning-line mr-1\"></i>\n            {errors.agreed}\n          </p>\n        )}\n\n        <button\n          onClick={handleSign}\n          disabled={!attestation.fullLegalName.trim() || !attestation.agreed}\n          className={`w-full px-6 py-3 text-sm font-medium rounded-lg transition-colors whitespace-nowrap ${\n            attestation.fullLegalName.trim() && attestation.agreed\n              ? 'bg-teal-600 text-white hover:bg-teal-700'\n              : 'bg-gray-300 text-gray-500 cursor-not-allowed'\n          }`}\n        >\n          <i className=\"ri-quill-pen-line mr-2\"></i>\n          Sign Digital Attestation\n        </button>\n      </div>\n\n      {/* Legal Notice */}\n      <div className=\"mt-6 p-4 bg-blue-50 border border-blue-200 rounded-lg\">\n        <p className=\"text-xs text-blue-800\">\n          <i className=\"ri-information-line mr-1\"></i>\n          <strong>Legal Notice:</strong> Your digital signature, including timestamp, IP address,\n          and device information, will be securely stored and version-controlled. This signature\n          serves as your legally binding agreement and will be automatically appended to all\n          facility applications you submit through this platform.\n        </p>\n      </div>\n    </div>\n  );\n};","import React, { useState, useEffect } from 'react';\n\ninterface OptionalPreferencesData {\n  travelPreferences: {\n    preferredAirlines: string[];\n    seatPreference: string;\n    mealPreference: string;\n    specialNeeds: string;\n  };\n  loyaltyPrograms: {\n    airline: string;\n    number: string;\n  }[];\n  tsaPrecheck: string;\n  globalEntry: string;\n  hotelPreferences: {\n    preferredBrands: string[];\n    roomType: string;\n    floorPreference: string;\n    specialRequests: string;\n  };\n  optInThirdPartyServices: boolean;\n}\n\ninterface OptionalPreferencesSectionProps {\n  data: OptionalPreferencesData | null;\n  onUpdate: (data: OptionalPreferencesData, isComplete: boolean) => void;\n}\n\nexport const OptionalPreferencesSection: React.FC<OptionalPreferencesSectionProps> = ({\n  data,\n  onUpdate,\n}) => {\n  const EMPTY_PREFERENCES: OptionalPreferencesData = {\n    travelPreferences: {\n      preferredAirlines: [],\n      seatPreference: '',\n      mealPreference: '',\n      specialNeeds: '',\n    },\n    loyaltyPrograms: [],\n    tsaPrecheck: '',\n    globalEntry: '',\n    hotelPreferences: {\n      preferredBrands: [],\n      roomType: '',\n      floorPreference: '',\n      specialRequests: '',\n    },\n    optInThirdPartyServices: false,\n  };\n\n  // Deep-merge so partial/missing nested keys from DB never crash the component\n  const mergeWithDefaults = (d: any): OptionalPreferencesData => ({\n    ...EMPTY_PREFERENCES,\n    ...d,\n    travelPreferences: {\n      ...EMPTY_PREFERENCES.travelPreferences,\n      ...(d?.travelPreferences ?? {}),\n    },\n    hotelPreferences: {\n      ...EMPTY_PREFERENCES.hotelPreferences,\n      ...(d?.hotelPreferences ?? {}),\n    },\n    loyaltyPrograms: Array.isArray(d?.loyaltyPrograms) ? d.loyaltyPrograms : [],\n  });\n\n  const [preferences, setPreferences] = useState<OptionalPreferencesData>(\n    mergeWithDefaults(data)\n  );\n\n  const [newLoyaltyProgram, setNewLoyaltyProgram] = useState({ airline: '', number: '' });\n\n  // Re-hydrate if data arrives after initial render (e.g. loaded from DB async)\n  const hydratedRef = React.useRef(false);\n  useEffect(() => {\n    if (!data || hydratedRef.current) return;\n    hydratedRef.current = true;\n    setPreferences(mergeWithDefaults(data));\n  // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [data]);\n\n  const airlineOptions = [\n    'American Airlines',\n    'Delta Air Lines',\n    'United Airlines',\n    'Southwest Airlines',\n    'JetBlue Airways',\n    'Alaska Airlines',\n    'Spirit Airlines',\n    'Frontier Airlines',\n  ];\n\n  const hotelBrandOptions = [\n    'Marriott',\n    'Hilton',\n    'Hyatt',\n    'IHG (Holiday Inn, etc.)',\n    'Choice Hotels',\n    'Wyndham',\n    'Best Western',\n    'Independent Hotels',\n  ];\n\n  const seatPreferences = ['Window', 'Aisle', 'Middle', 'No Preference'];\n  const mealPreferences = ['Standard', 'Vegetarian', 'Vegan', 'Gluten-Free', 'Kosher', 'Halal', 'No Preference'];\n  const roomTypes = ['King Bed', 'Queen Bed', 'Two Queens', 'Suite', 'No Preference'];\n  const floorPreferences = ['High Floor', 'Low Floor', 'Ground Floor', 'No Preference'];\n\n  const handleAirlineToggle = (airline: string) => {\n    setPreferences((prev) => {\n      const current = prev.travelPreferences.preferredAirlines;\n      const updated = current.includes(airline)\n        ? current.filter((a) => a !== airline)\n        : [...current, airline];\n      return {\n        ...prev,\n        travelPreferences: { ...prev.travelPreferences, preferredAirlines: updated },\n      };\n    });\n  };\n\n  const handleHotelBrandToggle = (brand: string) => {\n    setPreferences((prev) => {\n      const current = prev.hotelPreferences.preferredBrands;\n      const updated = current.includes(brand)\n        ? current.filter((b) => b !== brand)\n        : [...current, brand];\n      return {\n        ...prev,\n        hotelPreferences: { ...prev.hotelPreferences, preferredBrands: updated },\n      };\n    });\n  };\n\n  const handleAddLoyaltyProgram = () => {\n    if (newLoyaltyProgram.airline.trim() && newLoyaltyProgram.number.trim()) {\n      setPreferences((prev) => ({\n        ...prev,\n        loyaltyPrograms: [...prev.loyaltyPrograms, { ...newLoyaltyProgram }],\n      }));\n      setNewLoyaltyProgram({ airline: '', number: '' });\n    }\n  };\n\n  const handleRemoveLoyaltyProgram = (index: number) => {\n    setPreferences((prev) => ({\n      ...prev,\n      loyaltyPrograms: prev.loyaltyPrograms.filter((_, i) => i !== index),\n    }));\n  };\n\n  useEffect(() => {\n    // Optional sections are always \"complete\" - they don't block profile submission\n    onUpdate(preferences, true);\n  }, [preferences]);\n\n  return (\n    <div className=\"bg-white rounded-lg border border-gray-200 p-6\">\n      {/* Header with Optional Badge */}\n      <div className=\"mb-6\">\n        <div className=\"flex items-center gap-3 mb-2\">\n          <h3 className=\"text-lg font-bold text-gray-900\">Travel &amp; Accommodation Preferences</h3>\n          <span className=\"px-3 py-1 bg-blue-100 text-blue-700 text-xs font-semibold rounded-full\">\n            OPTIONAL\n          </span>\n        </div>\n        <p className=\"text-sm text-gray-600\">\n          These preferences help third‑party vendors provide better service. This information is only\n          shared if you opt in to third‑party services.\n        </p>\n      </div>\n\n      {/* Opt‑In Toggle */}\n      <div className=\"mb-6 p-4 bg-yellow-50 border border-yellow-200 rounded-lg\">\n        <div className=\"flex items-start gap-3\">\n          <input\n            type=\"checkbox\"\n            id=\"opt-in-services\"\n            checked={preferences.optInThirdPartyServices}\n            onChange={(e) =>\n              setPreferences((prev) => ({ ...prev, optInThirdPartyServices: e.target.checked }))\n            }\n            className=\"w-4 h-4 text-teal-600 focus:ring-teal-500 border-gray-300 rounded mt-0.5 cursor-pointer\"\n          />\n          <label htmlFor=\"opt-in-services\" className=\"text-sm text-gray-700 cursor-pointer\">\n            <strong>I want to share these preferences with third‑party service providers</strong>\n            <br />\n            <span className=\"text-xs text-gray-600\">\n              Your preferences will only be transmitted when you request travel or accommodation\n              services for specific assignments.\n            </span>\n          </label>\n        </div>\n      </div>\n\n      {/* Travel Preferences */}\n      <div className=\"mb-6 pb-6 border-b border-gray-200\">\n        <h4 className=\"text-sm font-semibold text-gray-900 mb-4\">\n          <i className=\"ri-flight-takeoff-line mr-2 text-teal-600\"></i>\n          Flight Preferences\n        </h4>\n\n        {/* Preferred Airlines */}\n        <div className=\"mb-4\">\n          <label className=\"block text-sm font-medium text-gray-700 mb-2\">Preferred Airlines</label>\n          <div className=\"grid grid-cols-2 gap-2\">\n            {airlineOptions.map((airline) => (\n              <button\n                key={airline}\n                type=\"button\"\n                onClick={() => handleAirlineToggle(airline)}\n                className={`px-3 py-2 text-sm rounded-lg border transition-colors text-left ${\n                  preferences.travelPreferences.preferredAirlines.includes(airline)\n                    ? 'bg-teal-50 border-teal-500 text-teal-700'\n                    : 'bg-white border-gray-300 text-gray-700 hover:border-gray-400'\n                }`}\n              >\n                {preferences.travelPreferences.preferredAirlines.includes(airline) && (\n                  <i className=\"ri-checkbox-circle-fill mr-2\"></i>\n                )}\n                {airline}\n              </button>\n            ))}\n          </div>\n        </div>\n\n        {/* Seat Preference */}\n        <div className=\"mb-4\">\n          <label className=\"block text-sm font-medium text-gray-700 mb-2\">Seat Preference</label>\n          <select\n            value={preferences.travelPreferences.seatPreference}\n            onChange={(e) =>\n              setPreferences((prev) => ({\n                ...prev,\n                travelPreferences: { ...prev.travelPreferences, seatPreference: e.target.value },\n              }))\n            }\n            className=\"w-full px-4 py-2 border border-gray-300 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-teal-500\"\n          >\n            <option value=\"\">Select preference</option>\n            {seatPreferences.map((pref) => (\n              <option key={pref} value={pref}>\n                {pref}\n              </option>\n            ))}\n          </select>\n        </div>\n\n        {/* Meal Preference */}\n        <div className=\"mb-4\">\n          <label className=\"block text-sm font-medium text-gray-700 mb-2\">Meal Preference</label>\n          <select\n            value={preferences.travelPreferences.mealPreference}\n            onChange={(e) =>\n              setPreferences((prev) => ({\n                ...prev,\n                travelPreferences: { ...prev.travelPreferences, mealPreference: e.target.value },\n              }))\n            }\n            className=\"w-full px-4 py-2 border border-gray-300 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-teal-500\"\n          >\n            <option value=\"\">Select preference</option>\n            {mealPreferences.map((pref) => (\n              <option key={pref} value={pref}>\n                {pref}\n              </option>\n            ))}\n          </select>\n        </div>\n\n        {/* Special Needs */}\n        <div>\n          <label className=\"block text-sm font-medium text-gray-700 mb-2\">Special Travel Needs</label>\n          <textarea\n            value={preferences.travelPreferences.specialNeeds}\n            onChange={(e) =>\n              setPreferences((prev) => ({\n                ...prev,\n                travelPreferences: { ...prev.travelPreferences, specialNeeds: e.target.value },\n              }))\n            }\n            placeholder=\"E.g., wheelchair assistance, extra legroom, etc.\"\n            rows={3}\n            className=\"w-full px-4 py-2 border border-gray-300 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-teal-500\"\n          ></textarea>\n        </div>\n      </div>\n\n      {/* Loyalty Programs */}\n      <div className=\"mb-6 pb-6 border-b border-gray-200\">\n        <h4 className=\"text-sm font-semibold text-gray-900 mb-4\">\n          <i className=\"ri-vip-crown-line mr-2 text-teal-600\"></i>\n          Airline Loyalty Programs\n        </h4>\n\n        {/* Existing Programs */}\n        {preferences.loyaltyPrograms.length > 0 && (\n          <div className=\"mb-4 space-y-2\">\n            {preferences.loyaltyPrograms.map((program, index) => (\n              <div\n                key={index}\n                className=\"flex items-center justify-between p-3 bg-gray-50 rounded-lg border border-gray-200\"\n              >\n                <div>\n                  <p className=\"text-sm font-medium text-gray-900\">{program.airline}</p>\n                  <p className=\"text-xs text-gray-600\">{program.number}</p>\n                </div>\n                <button\n                  type=\"button\"\n                  onClick={() => handleRemoveLoyaltyProgram(index)}\n                  className=\"text-red-600 hover:text-red-700\"\n                >\n                  <i className=\"ri-delete-bin-line text-lg\"></i>\n                </button>\n              </div>\n            ))}\n          </div>\n        )}\n\n        {/* Add New Program */}\n        <div className=\"grid grid-cols-1 md:grid-cols-2 gap-3\">\n          <input\n            type=\"text\"\n            value={newLoyaltyProgram.airline}\n            onChange={(e) => setNewLoyaltyProgram((prev) => ({ ...prev, airline: e.target.value }))}\n            placeholder=\"Airline name\"\n            className=\"px-4 py-2 border border-gray-300 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-teal-500\"\n          />\n          <div className=\"flex gap-2\">\n            <input\n              type=\"text\"\n              value={newLoyaltyProgram.number}\n              onChange={(e) => setNewLoyaltyProgram((prev) => ({ ...prev, number: e.target.value }))}\n              placeholder=\"Loyalty number\"\n              className=\"flex-1 px-4 py-2 border border-gray-300 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-teal-500\"\n            />\n            <button\n              type=\"button\"\n              onClick={handleAddLoyaltyProgram}\n              disabled={!newLoyaltyProgram.airline.trim() || !newLoyaltyProgram.number.trim()}\n              className={`px-4 py-2 rounded-lg text-sm font-medium transition-colors whitespace-nowrap ${\n                newLoyaltyProgram.airline.trim() && newLoyaltyProgram.number.trim()\n                  ? 'bg-teal-600 text-white hover:bg-teal-700'\n                  : 'bg-gray-300 text-gray-500 cursor-not-allowed'\n              }`}\n            >\n              <i className=\"ri-add-line\"></i>\n            </button>\n          </div>\n        </div>\n      </div>\n\n      {/* TSA PreCheck / Global Entry */}\n      <div className=\"mb-6 pb-6 border-b border-gray-200\">\n        <h4 className=\"text-sm font-semibold text-gray-900 mb-4\">\n          <i className=\"ri-shield-check-line mr-2 text-teal-600\"></i>\n          Trusted Traveler Programs\n        </h4>\n\n        <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n          <div>\n            <label className=\"block text-sm font-medium text-gray-700 mb-2\">TSA PreCheck Number</label>\n            <input\n              type=\"text\"\n              value={preferences.tsaPrecheck}\n              onChange={(e) => setPreferences((prev) => ({ ...prev, tsaPrecheck: e.target.value }))}\n              placeholder=\"Enter TSA PreCheck number\"\n              className=\"w-full px-4 py-2 border border-gray-300 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-teal-500\"\n            />\n          </div>\n\n          <div>\n            <label className=\"block text-sm font-medium text-gray-700 mb-2\">Global Entry Number</label>\n            <input\n              type=\"text\"\n              value={preferences.globalEntry}\n              onChange={(e) => setPreferences((prev) => ({ ...prev, globalEntry: e.target.value }))}\n              placeholder=\"Enter Global Entry number\"\n              className=\"w-full px-4 py-2 border border-gray-300 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-teal-500\"\n            />\n          </div>\n        </div>\n      </div>\n\n      {/* Hotel Preferences */}\n      <div>\n        <h4 className=\"text-sm font-semibold text-gray-900 mb-4\">\n          <i className=\"ri-hotel-line mr-2 text-teal-600\"></i>\n          Hotel Preferences\n        </h4>\n\n        {/* Preferred Hotel Brands */}\n        <div className=\"mb-4\">\n          <label className=\"block text-sm font-medium text-gray-700 mb-2\">Preferred Hotel Brands</label>\n          <div className=\"grid grid-cols-2 gap-2\">\n            {hotelBrandOptions.map((brand) => (\n              <button\n                key={brand}\n                type=\"button\"\n                onClick={() => handleHotelBrandToggle(brand)}\n                className={`px-3 py-2 text-sm rounded-lg border transition-colors text-left ${\n                  preferences.hotelPreferences.preferredBrands.includes(brand)\n                    ? 'bg-teal-50 border-teal-500 text-teal-700'\n                    : 'bg-white border-gray-300 text-gray-700 hover:border-gray-400'\n                }`}\n              >\n                {preferences.hotelPreferences.preferredBrands.includes(brand) && (\n                  <i className=\"ri-checkbox-circle-fill mr-2\"></i>\n                )}\n                {brand}\n              </button>\n            ))}\n          </div>\n        </div>\n\n        {/* Room Type */}\n        <div className=\"mb-4\">\n          <label className=\"block text-sm font-medium text-gray-700 mb-2\">Room Type</label>\n          <select\n            value={preferences.hotelPreferences.roomType}\n            onChange={(e) =>\n              setPreferences((prev) => ({\n                ...prev,\n                hotelPreferences: { ...prev.hotelPreferences, roomType: e.target.value },\n              }))\n            }\n            className=\"w-full px-4 py-2 border border-gray-300 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-teal-500\"\n          >\n            <option value=\"\">Select preference</option>\n            {roomTypes.map((type) => (\n              <option key={type} value={type}>\n                {type}\n              </option>\n            ))}\n          </select>\n        </div>\n\n        {/* Floor Preference */}\n        <div className=\"mb-4\">\n          <label className=\"block text-sm font-medium text-gray-700 mb-2\">Floor Preference</label>\n          <select\n            value={preferences.hotelPreferences.floorPreference}\n            onChange={(e) =>\n              setPreferences((prev) => ({\n                ...prev,\n                hotelPreferences: { ...prev.hotelPreferences, floorPreference: e.target.value },\n              }))\n            }\n            className=\"w-full px-4 py-2 border border-gray-300 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-teal-500\"\n          >\n            <option value=\"\">Select preference</option>\n            {floorPreferences.map((pref) => (\n              <option key={pref} value={pref}>\n                {pref}\n              </option>\n            ))}\n          </select>\n        </div>\n\n        {/* Special Requests */}\n        <div>\n          <label className=\"block text-sm font-medium text-gray-700 mb-2\">Special Requests</label>\n          <textarea\n            value={preferences.hotelPreferences.specialRequests}\n            onChange={(e) =>\n              setPreferences((prev) => ({\n                ...prev,\n                hotelPreferences: { ...prev.hotelPreferences, specialRequests: e.target.value },\n              }))\n            }\n            placeholder=\"E.g., quiet room, away from elevator, hypoallergenic bedding, etc.\"\n            rows={3}\n            className=\"w-full px-4 py-2 border border-gray-300 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-teal-500\"\n          ></textarea>\n        </div>\n      </div>\n\n      {/* Privacy Notice */}\n      <div className=\"mt-6 p-4 bg-blue-50 border border-blue-200 rounded-lg\">\n        <p className=\"text-xs text-blue-800\">\n          <i className=\"ri-information-line mr-1\"></i>\n          <strong>Privacy Notice:</strong> These preferences are stored securely and will only be\n          shared with third‑party service providers when you explicitly request travel or\n          accommodation services for a specific assignment. You can update or remove these\n          preferences at any time.\n        </p>\n      </div>\n    </div>\n  );\n};","import React, { useEffect, useMemo, useState } from 'react';\nimport { useNavigate } from 'react-router-dom';\n\nimport { PersonalIdentifiersSection } from './components/PersonalIdentifiersSection';\nimport { ProfessionalInformationSection } from './components/ProfessionalInformationSection';\nimport { LicensureSection } from './components/LicensureSection';\nimport { DocumentUploadsSection } from './components/DocumentUploadsSection';\nimport { StandardQuestionnairesSection } from './components/StandardQuestionnairesSection';\nimport { DigitalAttestationSection } from './components/DigitalAttestationSection';\nimport { OptionalPreferencesSection } from './components/OptionalPreferencesSection';\n\nimport { useProfileCompletion } from '../../hooks/useProfileCompletion';\nimport { supabase } from '../../utils/supabaseClient';\n\ntype SectionId =\n  | 'personalIdentifiers'\n  | 'professionalInformation'\n  | 'licensure'\n  | 'documentUploads'\n  | 'questionnaires'\n  | 'digitalSignature'\n  | 'optionalPreferences';\n\ninterface ProfileData {\n  personalIdentifiers: any;\n  professionalInformation: any;\n  licensure: any;\n  documentUploads: any;\n  questionnaires: any;\n  digitalSignature: any;\n  optionalPreferences: any;\n}\n\ninterface SectionCompletion {\n  personalIdentifiers: boolean;\n  professionalInformation: boolean;\n  licensure: boolean;\n  documentUploads: boolean;\n  questionnaires: boolean;\n  digitalSignature: boolean;\n  optionalPreferences: boolean;\n}\n\n// Normalize profile.personalIdentifiers into the form fields PersonalIdentifiersSection expects.\n// IMPORTANT: supports BOTH shapes:\n// 1) DB-loaded shape from useProfileCompletion.fetchProfile(): { firstName, lastName, phoneNumber, address: { line1, city... } }\n// 2) locally-updated shape from section autosave: { legalFirstName, legalLastName, phone, address: \"string\", city, state, zipCode }\nfunction normalizePersonalIdentifiers(pi: any) {\n  if (!pi) return null;\n\n  const addressFromObject =\n    pi.address && typeof pi.address === 'object'\n      ? {\n          address: pi.address.line1 ?? '',\n          city: pi.address.city ?? '',\n          state: pi.address.state ?? '',\n          zipCode: pi.address.zipCode ?? '',\n        }\n      : null;\n\n  const addressFromFlat =\n    pi.address && typeof pi.address === 'string'\n      ? {\n          address: pi.address,\n          city: pi.city ?? '',\n          state: pi.state ?? '',\n          zipCode: pi.zipCode ?? pi.zip_code ?? '',\n        }\n      : {\n          address: pi.address ?? '',\n          city: pi.city ?? '',\n          state: pi.state ?? '',\n          zipCode: pi.zipCode ?? pi.zip_code ?? '',\n        };\n\n  return {\n    legalFirstName: pi.legalFirstName ?? pi.firstName ?? pi.first_name ?? '',\n    legalMiddleName: pi.legalMiddleName ?? pi.middleName ?? pi.middle_name ?? '',\n    legalLastName: pi.legalLastName ?? pi.lastName ?? pi.last_name ?? '',\n    dba: pi.dba ?? '',\n    email: pi.email ?? '',\n    phone: pi.phone ?? pi.phoneNumber ?? pi.phone_number ?? '',\n    alternatePhone: pi.alternatePhone ?? '',\n    ...(addressFromObject ?? addressFromFlat),\n  };\n}\n\n// Normalize professionalInformation into the shape ProfessionalInformationSection expects.\n// Supports BOTH camelCase (UI) and snake_case (DB)\nfunction normalizeProfessionalInformation(pi: any) {\n  if (!pi) return null;\n\n  return {\n    npiNumber: pi.npiNumber ?? pi.npi_number ?? '',\n    deaNumber: pi.deaNumber ?? pi.dea_number ?? '',\n    specialty: pi.specialty ?? '',\n    subspecialty: pi.subspecialty ?? '',\n    yearsExperience: pi.yearsExperience ?? pi.years_experience ?? '',\n    boardCertified: pi.boardCertified ?? pi.board_certified ?? null,\n    boardCertificationDetails: pi.boardCertificationDetails ?? pi.board_certification_details ?? '',\n  };\n}\n\nexport default function ProfileCompletionPage() {\n  const navigate = useNavigate();\n  const { profile, updateProfile, updateCompletionStatus, refetch } = useProfileCompletion();\n\n  const [profileData, setProfileData] = useState<ProfileData>({\n    personalIdentifiers: null,\n    professionalInformation: null,\n    licensure: null,\n    documentUploads: null,\n    questionnaires: null,\n    digitalSignature: null,\n    optionalPreferences: null,\n  });\n\n  const [sectionCompletion, setSectionCompletion] = useState<SectionCompletion>({\n    personalIdentifiers: false,\n    professionalInformation: false,\n    licensure: false,\n    documentUploads: false,\n    questionnaires: false,\n    digitalSignature: false,\n    optionalPreferences: true, // optional\n  });\n\n  const [activeSection, setActiveSection] = useState<number>(0);\n  const [isSaving, setIsSaving] = useState(false);\n  const [userRole, setUserRole] = useState<string | null>(null);\n\n  const sections = useMemo(\n    () =>\n      [\n        { id: 'personalIdentifiers', name: 'Personal Identifiers', icon: 'ri-user-line', required: true },\n        { id: 'professionalInformation', name: 'Professional Information', icon: 'ri-stethoscope-line', required: true },\n        { id: 'licensure', name: 'Licensure', icon: 'ri-shield-check-line', required: true },\n        { id: 'documentUploads', name: 'Document Uploads', icon: 'ri-file-upload-line', required: true },\n        { id: 'questionnaires', name: 'Standard Questionnaires', icon: 'ri-questionnaire-line', required: true },\n        { id: 'digitalSignature', name: 'Digital Attestation & Signature', icon: 'ri-quill-pen-line', required: true },\n        { id: 'optionalPreferences', name: 'Travel & Accommodation Preferences', icon: 'ri-flight-takeoff-line', required: false },\n      ] as { id: SectionId; name: string; icon: string; required: boolean }[],\n    []\n  );\n\n  const calculateProgress = (): number => {\n    const requiredSections = sections.filter((s) => s.required);\n    const completedRequiredSections = requiredSections.filter((s) => sectionCompletion[s.id]).length;\n    return Math.round((completedRequiredSections / requiredSections.length) * 100);\n  };\n\n  // Auth + role\n  useEffect(() => {\n    const checkAuth = async () => {\n      const {\n        data: { session },\n      } = await supabase.auth.getSession();\n\n      if (!session) {\n        navigate('/login', { replace: true });\n        return;\n      }\n\n      // Get role safely (avoid 406 single())\n      const { data: userData, error } = await supabase\n        .from('users')\n        .select('role')\n        .eq('id', session.user.id)\n        .maybeSingle();\n\n      if (error) {\n        console.warn('Role lookup error (non-fatal):', error);\n      }\n\n      const role = userData?.role || session.user.user_metadata?.role;\n      setUserRole(role);\n    };\n\n    checkAuth();\n  }, [navigate]);\n\n  // Load existing profile data into the page state\n  useEffect(() => {\n    if (!profile) return;\n\n    const transformedPersonalIdentifiers = normalizePersonalIdentifiers(profile.personalIdentifiers);\n    const transformedProfessionalInformation = normalizeProfessionalInformation(profile.professionalInformation);\n\n    setProfileData({\n      personalIdentifiers: transformedPersonalIdentifiers,\n      professionalInformation: transformedProfessionalInformation,\n      licensure: profile.licenses,\n      documentUploads: profile.documents,\n      questionnaires: profile.questionnaires,\n      digitalSignature: profile.digitalSignature,\n      optionalPreferences: (profile as any).travelPreferences || null,\n    });\n\n    // profile.completionStatus keys (from useProfileCompletion) are:\n    // personalIdentifiers, professionalInformation, licensure, documentUploads, questionnaires, digitalSignature\n    setSectionCompletion({\n      personalIdentifiers: !!profile.completionStatus?.personalIdentifiers,\n      professionalInformation: !!profile.completionStatus?.professionalInformation,\n      licensure: !!profile.completionStatus?.licensure,\n      documentUploads: !!profile.completionStatus?.documentUploads,\n      questionnaires: !!profile.completionStatus?.questionnaires,\n      digitalSignature: !!profile.completionStatus?.digitalSignature,\n      optionalPreferences: true,\n    });\n  }, [profile]);\n\n  const handleSectionUpdate = async (sectionId: SectionId, data: any, isComplete: boolean, skipSave = false) => {\n    setProfileData((prev) => ({ ...prev, [sectionId]: data }));\n    setSectionCompletion((prev) => ({ ...prev, [sectionId]: isComplete }));\n\n    // Skip DB write when called from hydration (data already exists in DB)\n    if (skipSave) return;\n\n    try {\n      const updates: any = {};\n\n      if (sectionId === 'personalIdentifiers') updates.personalIdentifiers = data;\n      if (sectionId === 'professionalInformation') updates.professionalInformation = data;\n      if (sectionId === 'licensure') updates.licenses = data;\n      if (sectionId === 'documentUploads') updates.documents = data;\n      if (sectionId === 'questionnaires') updates.questionnaires = data;\n      if (sectionId === 'digitalSignature') updates.digitalSignature = data;\n      if (sectionId === 'optionalPreferences') updates.optionalPreferences = data;\n\n      await updateProfile(updates);\n      if (sectionId !== 'optionalPreferences') {\n        await updateCompletionStatus(sectionId as any, isComplete);\n      }\n    } catch (error) {\n      console.error('Error saving section:', error);\n    }\n  };\n\n  const handleNext = async () => {\n    // ✅ DO NOT force completion to false.\n    // If you want an extra “last save”, do it using the current completion state.\n    const currentSectionId = sections[activeSection].id;\n    const currentData = profileData[currentSectionId];\n    const currentComplete = sectionCompletion[currentSectionId];\n\n    if (currentData) {\n      await handleSectionUpdate(currentSectionId, currentData, currentComplete);\n    }\n\n    if (activeSection < sections.length - 1) {\n      setActiveSection(activeSection + 1);\n      window.scrollTo({ top: 0, behavior: 'smooth' });\n    }\n  };\n\n  const handlePrevious = () => {\n    if (activeSection > 0) {\n      setActiveSection(activeSection - 1);\n      window.scrollTo({ top: 0, behavior: 'smooth' });\n    }\n  };\n\n  const handleSaveAndExit = async () => {\n    setIsSaving(true);\n    await new Promise((resolve) => setTimeout(resolve, 400));\n    setIsSaving(false);\n\n    if (userRole === 'facility') navigate('/facility-dashboard', { replace: true });\n    else navigate('/physician-dashboard', { replace: true });\n  };\n\n  const handleSubmitProfile = async () => {\n    const progress = calculateProgress();\n    if (progress !== 100) return;\n\n    setIsSaving(true);\n\n    try {\n      const {\n        data: { user },\n      } = await supabase.auth.getUser();\n\n      if (!user) {\n        console.error('No user found when submitting profile');\n        setIsSaving(false);\n        return;\n      }\n\n      await supabase\n        .from('physician_profiles')\n        .update({\n          is_complete: true,\n          completion_percentage: 100,\n          updated_at: new Date().toISOString(),\n        })\n        .eq('user_id', user.id);\n\n      await refetch();\n\n      sessionStorage.removeItem('oauth_login_completed');\n\n      setIsSaving(false);\n\n      if (userRole === 'facility') navigate('/facility-dashboard', { replace: true });\n      else navigate('/physician-dashboard', { replace: true });\n    } catch (error) {\n      console.error('Error submitting profile:', error);\n      setIsSaving(false);\n    }\n  };\n\n  const progress = calculateProgress();\n  const currentSection = sections[activeSection];\n  const isLastSection = activeSection === sections.length - 1;\n  const canSubmit = progress === 100;\n\n  return (\n    <div className=\"min-h-screen bg-gray-50\">\n      {/* Header */}\n      <div className=\"bg-white border-b border-gray-200\">\n        <div className=\"max-w-5xl mx-auto px-4 py-6\">\n          <div className=\"flex items-center justify-between mb-4\">\n            <div>\n              <h1 className=\"text-2xl font-bold text-gray-900\">Complete your professional profile</h1>\n              <p className=\"text-sm text-gray-600 mt-1\">\n                This information is required before you can apply to assignments.\n              </p>\n            </div>\n\n            <button\n              onClick={handleSaveAndExit}\n              disabled={isSaving}\n              className=\"px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors whitespace-nowrap cursor-pointer\"\n            >\n              {isSaving ? 'Saving...' : 'Save & Exit'}\n            </button>\n          </div>\n\n          {/* Progress Bar */}\n          <div>\n            <div className=\"flex items-center justify-between mb-2\">\n              <span className=\"text-sm font-medium text-gray-700\">Profile completion: {progress}%</span>\n              <span className=\"text-sm text-gray-500\">\n                {sections.filter((s) => s.required).filter((s) => sectionCompletion[s.id]).length}/\n                {sections.filter((s) => s.required).length} required sections complete\n              </span>\n            </div>\n\n            <div className=\"w-full bg-gray-200 rounded-full h-2\">\n              <div\n                className=\"bg-teal-600 h-2 rounded-full transition-all duration-300\"\n                style={{ width: `${progress}%` }}\n              />\n            </div>\n          </div>\n        </div>\n      </div>\n\n      {/* Content */}\n      <div className=\"max-w-5xl mx-auto px-4 py-8\">\n        <div className=\"grid grid-cols-1 lg:grid-cols-4 gap-8\">\n          {/* Sidebar */}\n          <div className=\"lg:col-span-1\">\n            <div className=\"bg-white rounded-lg border border-gray-200 p-4 sticky top-6\">\n              <h2 className=\"text-sm font-semibold text-gray-900 mb-4\">Sections</h2>\n\n              <nav className=\"space-y-1\">\n                {sections.map((section, index) => {\n                  const completed = sectionCompletion[section.id];\n\n                  return (\n                    <button\n                      key={section.id}\n                      onClick={() => setActiveSection(index)}\n                      className={`w-full flex items-center gap-3 p-3 rounded-lg text-left transition-colors cursor-pointer ${\n                        index === activeSection ? 'bg-teal-50 border border-teal-200' : 'hover:bg-gray-50'\n                      }`}\n                    >\n                      {/* Green Checkmark for completed sections */}\n                      <div\n                        className={`w-6 h-6 flex items-center justify-center rounded-full flex-shrink-0 ${\n                          completed\n                            ? 'bg-green-500'\n                            : 'bg-gray-200'\n                        }`}\n                      >\n                        {completed && <i className=\"ri-check-line text-white text-lg\"></i>}\n                      </div>\n\n                      <div className=\"flex-1 min-w-0\">\n                        <div className=\"flex items-center justify-between gap-2\">\n                          <span className={`text-sm font-medium truncate ${\n                            index === activeSection ? 'text-teal-700' : 'text-gray-900'\n                          }`}>\n                            {section.name}\n                          </span>\n                          {!section.required && <span className=\"text-xs text-blue-600 flex-shrink-0\">Optional</span>}\n                        </div>\n                      </div>\n                    </button>\n                  );\n                })}\n              </nav>\n            </div>\n          </div>\n\n          {/* Section Content */}\n          <div className=\"lg:col-span-3\">\n            {currentSection.id === 'personalIdentifiers' && (\n              <PersonalIdentifiersSection\n                data={profileData.personalIdentifiers}\n                onUpdate={(data, isComplete) => handleSectionUpdate('personalIdentifiers', data, isComplete)}\n              />\n            )}\n\n            {currentSection.id === 'professionalInformation' && (\n              <ProfessionalInformationSection\n                data={profileData.professionalInformation}\n                onUpdate={(data, isComplete, skipSave) => handleSectionUpdate('professionalInformation', data, isComplete, skipSave)}\n              />\n            )}\n\n            {currentSection.id === 'licensure' && (\n              <LicensureSection\n                data={profileData.licensure}\n                onUpdate={(data, isComplete) => handleSectionUpdate('licensure', data, isComplete)}\n              />\n            )}\n\n            {currentSection.id === 'documentUploads' && (\n              <DocumentUploadsSection\n                data={profileData.documentUploads}\n                onUpdate={(data, isComplete) => handleSectionUpdate('documentUploads', data, isComplete)}\n              />\n            )}\n\n            {currentSection.id === 'questionnaires' && (\n              <StandardQuestionnairesSection\n                data={profileData.questionnaires}\n                onUpdate={(data, isComplete) => handleSectionUpdate('questionnaires', data, isComplete)}\n              />\n            )}\n\n            {currentSection.id === 'digitalSignature' && (\n              <DigitalAttestationSection\n                data={profileData.digitalSignature}\n                onUpdate={(data, isComplete) => handleSectionUpdate('digitalSignature', data, isComplete)}\n              />\n            )}\n\n            {currentSection.id === 'optionalPreferences' && (\n              <OptionalPreferencesSection\n                data={profileData.optionalPreferences}\n                onUpdate={(data, isComplete) => handleSectionUpdate('optionalPreferences', data, isComplete)}\n              />\n            )}\n\n            {/* Navigation Buttons */}\n            <div className=\"flex items-center justify-between mt-6\">\n              <button\n                onClick={handlePrevious}\n                disabled={activeSection === 0}\n                className={`px-6 py-3 text-sm font-medium rounded-lg transition-colors whitespace-nowrap cursor-pointer ${\n                  activeSection === 0\n                    ? 'bg-gray-100 text-gray-400 cursor-not-allowed'\n                    : 'bg-white text-gray-700 border border-gray-300 hover:bg-gray-50'\n                }`}\n              >\n                <i className=\"ri-arrow-left-line mr-2\"></i>\n                Previous\n              </button>\n\n              {!isLastSection ? (\n                <button\n                  onClick={handleNext}\n                  className=\"px-6 py-3 bg-teal-600 text-white text-sm font-medium rounded-lg hover:bg-teal-700 transition-colors whitespace-nowrap cursor-pointer\"\n                >\n                  Next\n                  <i className=\"ri-arrow-right-line ml-2\"></i>\n                </button>\n              ) : (\n                <button\n                  onClick={handleSubmitProfile}\n                  disabled={!canSubmit || isSaving}\n                  className={`px-6 py-3 text-sm font-medium rounded-lg transition-colors whitespace-nowrap cursor-pointer ${\n                    !canSubmit || isSaving\n                      ? 'bg-gray-200 text-gray-500 cursor-not-allowed'\n                      : 'bg-teal-600 text-white hover:bg-teal-700'\n                  }`}\n                >\n                  {isSaving ? 'Submitting...' : 'Submit Profile'}\n                  <i className=\"ri-check-line ml-2\"></i>\n                </button>\n              )}\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n}"],"names":["EMPTY_DATA","hasAnyValue","d","v","isEffectivelyEmpty","k","PersonalIdentifiersSection","data","onUpdate","initial","useMemo","formData","setFormData","useState","errors","setErrors","hydratedFromDbRef","useRef","dirtyRef","useEffect","validateField","name","value","digits","checkCompletion","field","handleChange","e","prev","error","timer","isComplete","prefillFromAuth","user","supabase","updates","fullName","nameParts","t","US_STATES","jsxs","jsx","st","SPECIALTIES","onlyDigits","clampNpi","ProfessionalInformationSection","hydrated","validate","updateField","key","next","s","LicensureSection","licenses","setLicenses","LICENSE_STATUS","validateLicense","license","licenseErrors","handleLicenseChange","id","updatedLicenses","changedLicense","l","addLicense","newLicense","removeLicense","newErrors","licensesData","index","state","status","DocumentUploadsSection","documents","setDocuments","uploading","setUploading","dragOver","setDragOver","formatFileSize","bytes","sizes","validateFile","file","allowedTypes","fileExtension","handleFileUpload","documentType","userError","timestamp","fileExt","fileName","uploadPromise","timeoutPromise","_","reject","uploadData","uploadError","urlData","uploadedDoc","handleFileSelect","handleDrop","removeDocument","documentId","doc","renderUploadArea","label","description","required","currentDoc","isUploading","isDragOver","Fragment","type","renderMultipleUploadArea","currentDocs","StandardQuestionnairesSection","answers","setAnswers","activeTab","setActiveTab","facilityQuestionnaire","insuranceQuestionnaire","getAnswer","questionnaireType","questionId","a","handleAnswerChange","answer","details","questionnaireKey","updatedAnswers","existingIndex","newAnswer","facilityComplete","question","insuranceComplete","renderQuestion","option","DigitalAttestationSection","attestation","setAttestation","showConfirmation","setShowConfirmation","captureDeviceInfo","userAgent","platform","language","captureIPAddress","deviceInfo","ip","validateName","handleNameChange","handleAgreeChange","handleSign","now","attestationDate","signedAttestation","OptionalPreferencesSection","EMPTY_PREFERENCES","mergeWithDefaults","preferences","setPreferences","newLoyaltyProgram","setNewLoyaltyProgram","hydratedRef","React","airlineOptions","hotelBrandOptions","seatPreferences","mealPreferences","roomTypes","floorPreferences","handleAirlineToggle","airline","current","updated","handleHotelBrandToggle","brand","b","handleAddLoyaltyProgram","handleRemoveLoyaltyProgram","i","pref","program","normalizePersonalIdentifiers","pi","addressFromObject","addressFromFlat","normalizeProfessionalInformation","ProfileCompletionPage","navigate","useNavigate","profile","updateProfile","updateCompletionStatus","refetch","useProfileCompletion","profileData","setProfileData","sectionCompletion","setSectionCompletion","activeSection","setActiveSection","isSaving","setIsSaving","userRole","setUserRole","sections","calculateProgress","requiredSections","completedRequiredSections","session","userData","role","transformedPersonalIdentifiers","transformedProfessionalInformation","handleSectionUpdate","sectionId","skipSave","handleNext","currentSectionId","currentData","currentComplete","handlePrevious","handleSaveAndExit","resolve","handleSubmitProfile","progress","currentSection","isLastSection","canSubmit","section","completed"],"mappings":"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"}