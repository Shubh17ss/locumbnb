import{r as x,j as e,u as Z}from"./index-Hl5FDKDL.js";import{a as $,R as H,b as J}from"./adminAuditLogger-DDwDAuyc.js";import{N as z}from"./NotificationPanel-TTc7UV5d.js";import{d as G,e as q}from"./vendors-BEq1FQdI.js";const W=[{id:"user_001",fullName:"Dr. Sarah Johnson",email:"sarah.johnson@email.com",phone:"+1 (555) 123-4567",role:"physician",status:"active",verificationStatus:"verified",profileComplete:!0,joinedDate:"2024-01-15",lastActive:"2024-03-20T14:30:00Z",assignmentsCount:12,disputesCount:0},{id:"user_002",fullName:"Memorial Hospital",email:"admin@memorialhospital.com",phone:"+1 (555) 234-5678",role:"facility",status:"active",verificationStatus:"verified",profileComplete:!0,joinedDate:"2024-02-01",lastActive:"2024-03-21T09:15:00Z",assignmentsCount:45,disputesCount:1},{id:"user_003",fullName:"Dr. Michael Chen",email:"michael.chen@email.com",phone:"+1 (555) 345-6789",role:"crna",status:"pending_verification",verificationStatus:"pending",profileComplete:!1,joinedDate:"2024-03-18",lastActive:"2024-03-21T11:45:00Z",assignmentsCount:0,disputesCount:0},{id:"user_004",fullName:"TravelMed Services",email:"contact@travelmed.com",phone:"+1 (555) 456-7890",role:"vendor",status:"active",verificationStatus:"verified",profileComplete:!0,joinedDate:"2024-01-20",lastActive:"2024-03-21T13:20:00Z",assignmentsCount:89,disputesCount:0},{id:"user_005",fullName:"Dr. Emily Rodriguez",email:"emily.rodriguez@email.com",phone:"+1 (555) 567-8901",role:"physician",status:"suspended",verificationStatus:"verified",profileComplete:!0,joinedDate:"2024-02-10",lastActive:"2024-03-15T16:00:00Z",assignmentsCount:8,disputesCount:2},{id:"user_006",fullName:"City Medical Center",email:"info@citymedical.com",phone:"+1 (555) 678-9012",role:"facility",status:"active",verificationStatus:"verified",profileComplete:!0,joinedDate:"2024-01-25",lastActive:"2024-03-21T10:30:00Z",assignmentsCount:67,disputesCount:0},{id:"user_007",fullName:"Dr. James Wilson",email:"james.wilson@email.com",phone:"+1 (555) 789-0123",role:"physician",status:"locked",verificationStatus:"verified",profileComplete:!0,joinedDate:"2024-02-20",lastActive:"2024-03-10T12:00:00Z",assignmentsCount:5,disputesCount:3},{id:"user_008",fullName:"InsurePro Medical",email:"quotes@insurepro.com",phone:"+1 (555) 890-1234",role:"vendor",status:"active",verificationStatus:"verified",profileComplete:!0,joinedDate:"2024-02-05",lastActive:"2024-03-21T14:00:00Z",assignmentsCount:156,disputesCount:0}];function K({session:i}){const[m,r]=x.useState(W),[c,w]=x.useState(""),[v,j]=x.useState("all"),[p,y]=x.useState("all"),[k,g]=x.useState("all"),[h,C]=x.useState([]),[u,A]=x.useState(null),[F,D]=x.useState(!1),[T,I]=x.useState(!1),[l,n]=x.useState(""),[S,o]=x.useState(""),N=m.filter(s=>{const P=s.fullName.toLowerCase().includes(c.toLowerCase())||s.email.toLowerCase().includes(c.toLowerCase())||s.id.toLowerCase().includes(c.toLowerCase()),L=v==="all"||s.role===v,d=p==="all"||s.status===p,a=k==="all"||s.verificationStatus===k;return P&&L&&d&&a}),b=(s,P)=>{A(s),n(P),I(!0)},R=()=>{if(!u)return;if(!S.trim()){alert("Please provide a reason for this action.");return}let s=u.status,P=u.verificationStatus;switch(l){case"verify":P="verified";break;case"suspend":s="suspended";break;case"reinstate":s="active";break;case"lock":s="locked";break;case"unlock":s="active";break}r(L=>L.map(d=>d.id===u.id?{...d,status:s,verificationStatus:P}:d));try{$.log(i.adminId,i.adminEmail,i.adminRole,`USER_${l.toUpperCase()}`,"user",u.id,{userId:u.id,userEmail:u.email,userRole:u.role,action:l,reason:S,previousStatus:u.status,newStatus:s,previousVerification:u.verificationStatus,newVerification:P},i.sessionId)}catch(L){console.error("Failed to log admin action:",L)}I(!1),o(""),A(null)},t=s=>{h.length!==0&&(h.forEach(P=>{if(m.find(d=>d.id===P))try{$.log(i.adminId,i.adminEmail,i.adminRole,`BULK_${s.toUpperCase()}`,"user",P,{bulkAction:!0,totalUsers:h.length,action:s},i.sessionId)}catch(d){console.error(`Failed to log bulk ${s} for ${P}:`,d)}}),C([]),alert(`Bulk action "${s}" applied to ${h.length} users`))},f=s=>{switch(s){case"physician":return"bg-blue-500/20 text-blue-400 border-blue-500/30";case"crna":return"bg-purple-500/20 text-purple-400 border-purple-500/30";case"facility":return"bg-green-500/20 text-green-400 border-green-500/30";case"vendor":return"bg-amber-500/20 text-amber-400 border-amber-500/30";default:return"bg-slate-500/20 text-slate-400 border-slate-500/30"}},M=s=>{switch(s){case"active":return"bg-green-500/20 text-green-400 border-green-500/30";case"suspended":return"bg-red-500/20 text-red-400 border-red-500/30";case"pending_verification":return"bg-amber-500/20 text-amber-400 border-amber-500/30";case"locked":return"bg-slate-500/20 text-slate-400 border-slate-500/30";default:return"bg-slate-500/20 text-slate-400 border-slate-500/30"}};return e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold text-white mb-2",children:"User Management"}),e.jsx("p",{className:"text-slate-400",children:"Manage all platform users and accounts"})]}),e.jsx("div",{className:"flex items-center gap-3",children:h.length>0&&e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("span",{className:"text-sm text-slate-400",children:[h.length," selected"]}),e.jsxs("button",{onClick:()=>t("export"),className:"px-3 py-2 bg-slate-700 hover:bg-slate-600 text-white rounded-lg transition-colors text-sm whitespace-nowrap",children:[e.jsx("i",{className:"ri-download-line mr-2"}),"Export"]}),e.jsx("button",{onClick:()=>C([]),className:"px-3 py-2 bg-slate-700 hover:bg-slate-600 text-white rounded-lg transition-colors text-sm whitespace-nowrap",children:"Clear"})]})})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[e.jsxs("div",{className:"bg-slate-800 border border-slate-700 rounded-xl p-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("span",{className:"text-sm text-slate-400",children:"Total Users"}),e.jsx("i",{className:"ri-user-line text-blue-400"})]}),e.jsx("p",{className:"text-2xl font-bold text-white",children:m.length})]}),e.jsxs("div",{className:"bg-slate-800 border border-slate-700 rounded-xl p-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("span",{className:"text-sm text-slate-400",children:"Active"}),e.jsx("i",{className:"ri-checkbox-circle-line text-green-400"})]}),e.jsx("p",{className:"text-2xl font-bold text-white",children:m.filter(s=>s.status==="active").length})]}),e.jsxs("div",{className:"bg-slate-800 border border-slate-700 rounded-xl p-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("span",{className:"text-sm text-slate-400",children:"Pending"}),e.jsx("i",{className:"ri-time-line text-amber-400"})]}),e.jsx("p",{className:"text-2xl font-bold text-white",children:m.filter(s=>s.verificationStatus==="pending").length})]}),e.jsxs("div",{className:"bg-slate-800 border border-slate-700 rounded-xl p-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("span",{className:"text-sm text-slate-400",children:"Suspended"}),e.jsx("i",{className:"ri-error-warning-line text-red-400"})]}),e.jsx("p",{className:"text-2xl font-bold text-white",children:m.filter(s=>s.status==="suspended"||s.status==="locked").length})]})]}),e.jsxs("div",{className:"bg-slate-800 border border-slate-700 rounded-xl p-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[e.jsx("div",{className:"md:col-span-2",children:e.jsxs("div",{className:"relative",children:[e.jsx("i",{className:"ri-search-line absolute left-3 top-1/2 -translate-y-1/2 text-slate-500"}),e.jsx("input",{type:"text",value:c,onChange:s=>w(s.target.value),placeholder:"Search by name, email, or ID...",className:"w-full pl-10 pr-4 py-2 bg-slate-900/50 border border-slate-600 rounded-lg text-white placeholder-slate-500 focus:outline-none focus:ring-2 focus:ring-red-500 focus:border-transparent text-sm"})]})}),e.jsxs("select",{value:v,onChange:s=>j(s.target.value),className:"w-full px-4 py-2 bg-slate-900/50 border border-slate-600 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-red-500 focus:border-transparent text-sm",children:[e.jsx("option",{value:"all",children:"All Roles"}),e.jsx("option",{value:"physician",children:"Physician"}),e.jsx("option",{value:"crna",children:"CRNA"}),e.jsx("option",{value:"facility",children:"Facility"}),e.jsx("option",{value:"vendor",children:"Vendor"})]}),e.jsxs("select",{value:p,onChange:s=>y(s.target.value),className:"w-full px-4 py-2 bg-slate-900/50 border border-slate-600 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-red-500 focus:border-transparent text-sm",children:[e.jsx("option",{value:"all",children:"All Status"}),e.jsx("option",{value:"active",children:"Active"}),e.jsx("option",{value:"suspended",children:"Suspended"}),e.jsx("option",{value:"pending_verification",children:"Pending Verification"}),e.jsx("option",{value:"locked",children:"Locked"})]})]}),e.jsxs("div",{className:"mt-4 flex items-center gap-2",children:[e.jsxs("button",{onClick:()=>{w(""),j("all"),y("all"),g("all")},className:"px-3 py-1.5 bg-slate-700 hover:bg-slate-600 text-white rounded-lg transition-colors text-sm whitespace-nowrap",children:[e.jsx("i",{className:"ri-refresh-line mr-1"}),"Reset Filters"]}),e.jsxs("span",{className:"text-sm text-slate-400",children:["Showing ",N.length," of ",m.length," users"]})]})]}),e.jsxs("div",{className:"bg-slate-800 border border-slate-700 rounded-xl overflow-hidden",children:[e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-slate-900/50 border-b border-slate-700",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-3 text-left",children:e.jsx("input",{type:"checkbox",checked:h.length===N.length&&N.length>0,onChange:s=>{s.target.checked?C(N.map(P=>P.id)):C([])},className:"w-4 h-4 rounded border-slate-600 bg-slate-700 text-red-500 focus:ring-red-500 focus:ring-offset-slate-800 cursor-pointer"})}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-semibold text-slate-400 uppercase",children:"User"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-semibold text-slate-400 uppercase",children:"Role"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-semibold text-slate-400 uppercase",children:"Status"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-semibold text-slate-400 uppercase",children:"Verification"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-semibold text-slate-400 uppercase",children:"Assignments"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-semibold text-slate-400 uppercase",children:"Last Active"}),e.jsx("th",{className:"px-4 py-3 text-right text-xs font-semibold text-slate-400 uppercase",children:"Actions"})]})}),e.jsx("tbody",{className:"divide-y divide-slate-700",children:N.map(s=>e.jsxs("tr",{className:"hover:bg-slate-700/30 transition-colors",children:[e.jsx("td",{className:"px-4 py-4",children:e.jsx("input",{type:"checkbox",checked:h.includes(s.id),onChange:P=>{P.target.checked?C([...h,s.id]):C(h.filter(L=>L!==s.id))},className:"w-4 h-4 rounded border-slate-600 bg-slate-700 text-red-500 focus:ring-red-500 focus:ring-offset-slate-800 cursor-pointer"})}),e.jsx("td",{className:"px-4 py-4",children:e.jsxs("div",{children:[e.jsx("p",{className:"text-white font-medium",children:s.fullName}),e.jsx("p",{className:"text-sm text-slate-400",children:s.email}),e.jsx("p",{className:"text-xs text-slate-500 font-mono",children:s.id})]})}),e.jsx("td",{className:"px-4 py-4",children:e.jsx("span",{className:`inline-flex items-center px-2.5 py-1 rounded-full text-xs font-medium border ${f(s.role)}`,children:s.role.toUpperCase()})}),e.jsx("td",{className:"px-4 py-4",children:e.jsx("span",{className:`inline-flex items-center px-2.5 py-1 rounded-full text-xs font-medium border ${M(s.status)}`,children:s.status.replace("_"," ").toUpperCase()})}),e.jsx("td",{className:"px-4 py-4",children:e.jsxs("div",{className:"flex items-center gap-2",children:[s.verificationStatus==="verified"?e.jsx("i",{className:"ri-checkbox-circle-fill text-green-400"}):s.verificationStatus==="pending"?e.jsx("i",{className:"ri-time-line text-amber-400"}):e.jsx("i",{className:"ri-close-circle-line text-red-400"}),e.jsx("span",{className:"text-sm text-slate-300",children:s.verificationStatus.charAt(0).toUpperCase()+s.verificationStatus.slice(1)})]})}),e.jsx("td",{className:"px-4 py-4",children:e.jsxs("div",{className:"text-sm",children:[e.jsx("p",{className:"text-white font-medium",children:s.assignmentsCount}),s.disputesCount>0&&e.jsxs("p",{className:"text-xs text-red-400",children:[s.disputesCount," disputes"]})]})}),e.jsxs("td",{className:"px-4 py-4",children:[e.jsx("p",{className:"text-sm text-slate-300",children:new Date(s.lastActive).toLocaleDateString()}),e.jsx("p",{className:"text-xs text-slate-500",children:new Date(s.lastActive).toLocaleTimeString()})]}),e.jsx("td",{className:"px-4 py-4",children:e.jsxs("div",{className:"flex items-center justify-end gap-2",children:[e.jsx("button",{onClick:()=>{A(s),D(!0)},className:"w-8 h-8 flex items-center justify-center bg-slate-700 hover:bg-slate-600 text-slate-300 rounded-lg transition-colors",title:"View Details",children:e.jsx("i",{className:"ri-eye-line"})}),s.verificationStatus==="pending"&&i.permissions.canVerifyUsers&&e.jsx("button",{onClick:()=>b(s,"verify"),className:"w-8 h-8 flex items-center justify-center bg-green-500/20 hover:bg-green-500/30 text-green-400 rounded-lg transition-colors",title:"Verify User",children:e.jsx("i",{className:"ri-checkbox-circle-line"})}),s.status==="active"&&i.permissions.canSuspendUsers&&e.jsx("button",{onClick:()=>b(s,"suspend"),className:"w-8 h-8 flex items-center justify-center bg-red-500/20 hover:bg-red-500/30 text-red-400 rounded-lg transition-colors",title:"Suspend User",children:e.jsx("i",{className:"ri-forbid-line"})}),s.status==="suspended"&&i.permissions.canSuspendUsers&&e.jsx("button",{onClick:()=>b(s,"reinstate"),className:"w-8 h-8 flex items-center justify-center bg-green-500/20 hover:bg-green-500/30 text-green-400 rounded-lg transition-colors",title:"Reinstate User",children:e.jsx("i",{className:"ri-refresh-line"})}),s.status!=="locked"&&i.permissions.canLockUsers&&e.jsx("button",{onClick:()=>b(s,"lock"),className:"w-8 h-8 flex items-center justify-center bg-slate-700 hover:bg-slate-600 text-slate-300 rounded-lg transition-colors",title:"Lock Profile",children:e.jsx("i",{className:"ri-lock-line"})}),s.status==="locked"&&i.permissions.canLockUsers&&e.jsx("button",{onClick:()=>b(s,"unlock"),className:"w-8 h-8 flex items-center justify-center bg-slate-700 hover:bg-slate-600 text-slate-300 rounded-lg transition-colors",title:"Unlock Profile",children:e.jsx("i",{className:"ri-lock-unlock-line"})})]})})]},s.id))})]})}),N.length===0&&e.jsxs("div",{className:"text-center py-12",children:[e.jsx("i",{className:"ri-user-search-line text-4xl text-slate-600 mb-3"}),e.jsx("p",{className:"text-slate-400",children:"No users found matching your filters"})]})]})]}),F&&u&&e.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center p-4 z-50",children:e.jsxs("div",{className:"bg-slate-800 border border-slate-700 rounded-2xl max-w-3xl w-full max-h-[90vh] overflow-y-auto",children:[e.jsxs("div",{className:"sticky top-0 bg-slate-800 border-b border-slate-700 px-6 py-4 flex items-center justify-between",children:[e.jsx("h3",{className:"text-xl font-bold text-white",children:"User Details"}),e.jsx("button",{onClick:()=>{D(!1),A(null)},className:"w-8 h-8 flex items-center justify-center hover:bg-slate-700 rounded-lg transition-colors text-slate-400",children:e.jsx("i",{className:"ri-close-line text-xl"})})]}),e.jsxs("div",{className:"p-6 space-y-6",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"text-sm font-semibold text-slate-400 mb-3",children:"Basic Information"}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-slate-500 mb-1",children:"Full Name"}),e.jsx("p",{className:"text-white",children:u.fullName})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-slate-500 mb-1",children:"User ID"}),e.jsx("p",{className:"text-white font-mono text-sm",children:u.id})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-slate-500 mb-1",children:"Email"}),e.jsx("p",{className:"text-white",children:u.email})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-slate-500 mb-1",children:"Phone"}),e.jsx("p",{className:"text-white",children:u.phone})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-slate-500 mb-1",children:"Role"}),e.jsx("span",{className:`inline-flex items-center px-2.5 py-1 rounded-full text-xs font-medium border ${f(u.role)}`,children:u.role.toUpperCase()})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-slate-500 mb-1",children:"Status"}),e.jsx("span",{className:`inline-flex items-center px-2.5 py-1 rounded-full text-xs font-medium border ${M(u.status)}`,children:u.status.replace("_"," ").toUpperCase()})]})]})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-sm font-semibold text-slate-400 mb-3",children:"Account Status"}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-slate-500 mb-1",children:"Verification Status"}),e.jsxs("div",{className:"flex items-center gap-2",children:[u.verificationStatus==="verified"?e.jsx("i",{className:"ri-checkbox-circle-fill text-green-400"}):u.verificationStatus==="pending"?e.jsx("i",{className:"ri-time-line text-amber-400"}):e.jsx("i",{className:"ri-close-circle-line text-red-400"}),e.jsx("span",{className:"text-white",children:u.verificationStatus.charAt(0).toUpperCase()+u.verificationStatus.slice(1)})]})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-slate-500 mb-1",children:"Profile Complete"}),e.jsx("div",{className:"flex items-center gap-2",children:u.profileComplete?e.jsxs(e.Fragment,{children:[e.jsx("i",{className:"ri-checkbox-circle-fill text-green-400"}),e.jsx("span",{className:"text-white",children:"Complete"})]}):e.jsxs(e.Fragment,{children:[e.jsx("i",{className:"ri-close-circle-line text-red-400"}),e.jsx("span",{className:"text-white",children:"Incomplete"})]})})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-slate-500 mb-1",children:"Joined Date"}),e.jsx("p",{className:"text-white",children:new Date(u.joinedDate).toLocaleDateString()})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-slate-500 mb-1",children:"Last Active"}),e.jsx("p",{className:"text-white",children:new Date(u.lastActive).toLocaleString()})]})]})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-sm font-semibold text-slate-400 mb-3",children:"Activity Statistics"}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"bg-slate-900/50 border border-slate-700 rounded-lg p-4",children:[e.jsx("p",{className:"text-xs text-slate-500 mb-1",children:"Total Assignments"}),e.jsx("p",{className:"text-2xl font-bold text-white",children:u.assignmentsCount})]}),e.jsxs("div",{className:"bg-slate-900/50 border border-slate-700 rounded-lg p-4",children:[e.jsx("p",{className:"text-xs text-slate-500 mb-1",children:"Disputes"}),e.jsx("p",{className:"text-2xl font-bold text-white",children:u.disputesCount})]})]})]}),e.jsxs("div",{className:"flex items-center gap-3 pt-4 border-t border-slate-700",children:[e.jsxs("button",{onClick:()=>{D(!1),b(u,"view_full_profile")},className:"flex-1 px-4 py-2 bg-slate-700 hover:bg-slate-600 text-white rounded-lg transition-colors whitespace-nowrap",children:[e.jsx("i",{className:"ri-file-user-line mr-2"}),"View Full Profile"]}),e.jsxs("button",{onClick:()=>{D(!1),b(u,"view_activity")},className:"flex-1 px-4 py-2 bg-slate-700 hover:bg-slate-600 text-white rounded-lg transition-colors whitespace-nowrap",children:[e.jsx("i",{className:"ri-history-line mr-2"}),"Activity History"]})]})]})]})}),T&&u&&e.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center p-4 z-50",children:e.jsxs("div",{className:"bg-slate-800 border border-slate-700 rounded-2xl max-w-md w-full",children:[e.jsx("div",{className:"px-6 py-4 border-b border-slate-700",children:e.jsx("h3",{className:"text-xl font-bold text-white",children:"Confirm Action"})}),e.jsxs("div",{className:"p-6 space-y-4",children:[e.jsxs("div",{className:"bg-amber-500/10 border border-amber-500/30 rounded-lg p-4 flex items-start gap-3",children:[e.jsx("i",{className:"ri-alert-line text-amber-400 text-xl mt-0.5"}),e.jsxs("div",{children:[e.jsxs("p",{className:"text-amber-300 font-medium mb-1",children:[l==="verify"&&"Verify User",l==="suspend"&&"Suspend User",l==="reinstate"&&"Reinstate User",l==="lock"&&"Lock Profile",l==="unlock"&&"Unlock Profile"]}),e.jsxs("p",{className:"text-sm text-amber-400/80",children:["You are about to ",l," ",u.fullName,"'s account. This action will be logged."]})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Reason (Required)"}),e.jsx("textarea",{value:S,onChange:s=>o(s.target.value),placeholder:"Provide a detailed reason for this action...",rows:4,className:"w-full px-4 py-3 bg-slate-900/50 border border-slate-600 rounded-lg text-white placeholder-slate-500 focus:outline-none focus:ring-2 focus:ring-red-500 focus:border-transparent resize-none",required:!0})]}),e.jsxs("div",{className:"flex items-center gap-3 pt-2",children:[e.jsx("button",{onClick:()=>{I(!1),o(""),A(null)},className:"flex-1 px-4 py-2 bg-slate-700 hover:bg-slate-600 text-white rounded-lg transition-colors whitespace-nowrap",children:"Cancel"}),e.jsxs("button",{onClick:R,disabled:!S.trim(),className:"flex-1 px-4 py-2 bg-red-500 hover:bg-red-600 text-white rounded-lg transition-colors disabled:opacity-50 disabled:cursor-not-allowed whitespace-nowrap",children:["Confirm ",l.charAt(0).toUpperCase()+l.slice(1)]})]})]})]})})]})}const Q=[],V={penaltyPaymentTermDays:30},Y=(i,m,r,c,w,v)=>{const j=new Date,p={timestamp:j,action:`Status Updated: ${m}`,performedBy:r,performedByRole:c,details:w,ipAddress:v},y={...i,status:m,investigationNotes:i.investigationNotes+`
[${j.toISOString()}] ${w}`,auditLog:[...i.auditLog,p]};return y.resolutionDate=j,console.log(`âœ… Violation ${i.id} status updated to: ${m}`),y},X=(i,m,r,c)=>{const w=new Date,v=new Date(w);v.setDate(v.getDate()+V.penaltyPaymentTermDays);const j={id:`invoice-${Date.now()}-${Math.random().toString(36).substr(2,9)}`,violationId:i.id,violatorId:i.violatorId,violatorType:i.violatorType,amount:i.penaltyAmount,issuedAt:w,dueDate:v,status:"pending",notes:`Penalty for confirmed non-circumvention violation. Payment required within ${V.penaltyPaymentTermDays} days.`},p={timestamp:w,action:"Penalty Invoice Issued",performedBy:m,performedByRole:r,details:`Invoice ${j.id} issued for $${j.amount.toLocaleString()}`,ipAddress:c},y={...i,penaltyStatus:"invoiced",penaltyDueDate:v,auditLog:[...i.auditLog,p]};return console.log(`ðŸ’° Penalty invoice issued: ${j.id} for $${j.amount.toLocaleString()}`),{violation:y,invoice:j}},ee=(i,m,r,c,w)=>{const v=new Date,j={timestamp:v,action:"Violation Dismissed",performedBy:r,performedByRole:c,details:`Violation dismissed. Reason: ${m}`,ipAddress:w},p={...i,status:"dismissed",penaltyStatus:"waived",resolutionDate:v,resolutionNotes:m,auditLog:[...i.auditLog,j]};return console.log(`âœ… Violation dismissed: ${i.id}`),p},te=()=>{const[i,m]=x.useState(Q),[r,c]=x.useState(null),[w,v]=x.useState("all"),[j,p]=x.useState(!1),[y,k]=x.useState(!1),[g,h]=x.useState(null),[C,u]=x.useState(""),A=i.filter(n=>w==="all"?!0:n.status===w),F=n=>{switch(n){case"pending_review":return"bg-amber-100 text-amber-800";case"under_investigation":return"bg-blue-100 text-blue-800";case"confirmed":return"bg-red-100 text-red-800";case"dismissed":return"bg-gray-100 text-gray-800";case"penalty_applied":return"bg-purple-100 text-purple-800";default:return"bg-gray-100 text-gray-800"}},D=n=>{switch(n){case"pending":return"bg-amber-100 text-amber-800";case"invoiced":return"bg-blue-100 text-blue-800";case"paid":return"bg-teal-100 text-teal-800";case"in_collection":return"bg-red-100 text-red-800";case"waived":return"bg-gray-100 text-gray-800";default:return"bg-gray-100 text-gray-800"}},T=(n,S)=>{c(S),h(n),u(""),k(!0)},I=()=>{if(!r||!g)return;const n="admin-compliance-001",S="Compliance Manager",o="10.0.0.50";let N;switch(g){case"confirm":N=Y(r,"confirmed",n,S,C||"Violation confirmed after investigation",o);break;case"dismiss":N=ee(r,C||"Insufficient evidence",n,S,o);break;case"invoice":N=X(r,n,S,o).violation;break;default:return}m(i.map(b=>b.id===N.id?N:b)),k(!1),c(null),h(null)},l={total:i.length,pending:i.filter(n=>n.status==="pending_review").length,investigating:i.filter(n=>n.status==="under_investigation").length,confirmed:i.filter(n=>n.status==="confirmed").length,totalPenalties:i.filter(n=>n.status==="confirmed"||n.status==="penalty_applied").reduce((n,S)=>n+S.penaltyAmount,0)};return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Contract Enforcement"}),e.jsx("p",{className:"text-gray-600 mt-1",children:"Non-circumvention violation tracking and penalty management"})]}),e.jsxs("div",{className:"grid grid-cols-5 gap-4",children:[e.jsx("div",{className:"bg-gradient-to-br from-slate-50 to-slate-100 rounded-xl p-4 border border-slate-200",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-slate-600",children:"Total Violations"}),e.jsx("p",{className:"text-2xl font-bold text-slate-900 mt-1",children:l.total})]}),e.jsx("div",{className:"w-12 h-12 bg-slate-200 rounded-lg flex items-center justify-center",children:e.jsx("i",{className:"ri-alert-line text-xl text-slate-700"})})]})}),e.jsx("div",{className:"bg-gradient-to-br from-amber-50 to-amber-100 rounded-xl p-4 border border-amber-200",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-amber-600",children:"Pending Review"}),e.jsx("p",{className:"text-2xl font-bold text-amber-900 mt-1",children:l.pending})]}),e.jsx("div",{className:"w-12 h-12 bg-amber-200 rounded-lg flex items-center justify-center",children:e.jsx("i",{className:"ri-time-line text-xl text-amber-700"})})]})}),e.jsx("div",{className:"bg-gradient-to-br from-blue-50 to-blue-100 rounded-xl p-4 border border-blue-200",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-blue-600",children:"Investigating"}),e.jsx("p",{className:"text-2xl font-bold text-blue-900 mt-1",children:l.investigating})]}),e.jsx("div",{className:"w-12 h-12 bg-blue-200 rounded-lg flex items-center justify-center",children:e.jsx("i",{className:"ri-search-line text-xl text-blue-700"})})]})}),e.jsx("div",{className:"bg-gradient-to-br from-red-50 to-red-100 rounded-xl p-4 border border-red-200",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-red-600",children:"Confirmed"}),e.jsx("p",{className:"text-2xl font-bold text-red-900 mt-1",children:l.confirmed})]}),e.jsx("div",{className:"w-12 h-12 bg-red-200 rounded-lg flex items-center justify-center",children:e.jsx("i",{className:"ri-error-warning-line text-xl text-red-700"})})]})}),e.jsx("div",{className:"bg-gradient-to-br from-purple-50 to-purple-100 rounded-xl p-4 border border-purple-200",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-purple-600",children:"Total Penalties"}),e.jsxs("p",{className:"text-2xl font-bold text-purple-900 mt-1",children:["$",(l.totalPenalties/1e3).toFixed(0),"K"]})]}),e.jsx("div",{className:"w-12 h-12 bg-purple-200 rounded-lg flex items-center justify-center",children:e.jsx("i",{className:"ri-money-dollar-circle-line text-xl text-purple-700"})})]})})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Filter by Status:"}),e.jsx("div",{className:"flex gap-2",children:[{value:"all",label:"All"},{value:"pending_review",label:"Pending"},{value:"under_investigation",label:"Investigating"},{value:"confirmed",label:"Confirmed"},{value:"dismissed",label:"Dismissed"}].map(n=>e.jsx("button",{onClick:()=>v(n.value),className:`px-4 py-2 rounded-lg text-sm font-medium transition-all whitespace-nowrap ${w===n.value?"bg-teal-600 text-white":"bg-white text-gray-700 border border-gray-300 hover:bg-gray-50"}`,children:n.label},n.value))})]}),e.jsx("div",{className:"bg-white rounded-xl border border-gray-200 overflow-hidden",children:e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-gray-50 border-b border-gray-200",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-left text-xs font-semibold text-gray-700 uppercase",children:"Violation ID"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-semibold text-gray-700 uppercase",children:"Violator"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-semibold text-gray-700 uppercase",children:"Type"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-semibold text-gray-700 uppercase",children:"Reported"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-semibold text-gray-700 uppercase",children:"Status"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-semibold text-gray-700 uppercase",children:"Penalty"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-semibold text-gray-700 uppercase",children:"Actions"})]})}),e.jsx("tbody",{className:"divide-y divide-gray-200",children:A.map(n=>e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"px-6 py-4",children:e.jsxs("span",{className:"text-sm font-mono text-gray-900",children:[n.id.slice(0,16),"..."]})}),e.jsx("td",{className:"px-6 py-4",children:e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-900",children:n.violatorId}),e.jsx("p",{className:"text-xs text-gray-500 capitalize",children:n.violatorType})]})}),e.jsx("td",{className:"px-6 py-4",children:e.jsx("span",{className:"text-sm text-gray-900 capitalize",children:n.violationType.replace(/_/g," ")})}),e.jsx("td",{className:"px-6 py-4",children:e.jsx("span",{className:"text-sm text-gray-900",children:new Date(n.reportedAt).toLocaleDateString()})}),e.jsx("td",{className:"px-6 py-4",children:e.jsx("span",{className:`inline-flex items-center px-2 py-1 rounded-full text-xs font-medium whitespace-nowrap ${F(n.status)}`,children:n.status.replace(/_/g," ")})}),e.jsx("td",{className:"px-6 py-4",children:e.jsxs("div",{children:[e.jsxs("p",{className:"text-sm font-semibold text-gray-900",children:["$",n.penaltyAmount.toLocaleString()]}),e.jsx("span",{className:`inline-flex items-center px-2 py-1 rounded-full text-xs font-medium whitespace-nowrap ${D(n.penaltyStatus)}`,children:n.penaltyStatus})]})}),e.jsx("td",{className:"px-6 py-4",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("button",{onClick:()=>{c(n),p(!0)},className:"p-2 text-teal-600 hover:bg-teal-50 rounded-lg transition-colors",title:"View Details",children:e.jsx("i",{className:"ri-eye-line text-lg"})}),n.status==="pending_review"&&e.jsx("button",{onClick:()=>T("confirm",n),className:"p-2 text-red-600 hover:bg-red-50 rounded-lg transition-colors",title:"Confirm Violation",children:e.jsx("i",{className:"ri-check-line text-lg"})}),(n.status==="pending_review"||n.status==="under_investigation")&&e.jsx("button",{onClick:()=>T("dismiss",n),className:"p-2 text-gray-600 hover:bg-gray-50 rounded-lg transition-colors",title:"Dismiss",children:e.jsx("i",{className:"ri-close-line text-lg"})}),n.status==="confirmed"&&n.penaltyStatus==="pending"&&e.jsx("button",{onClick:()=>T("invoice",n),className:"p-2 text-purple-600 hover:bg-purple-50 rounded-lg transition-colors",title:"Issue Invoice",children:e.jsx("i",{className:"ri-file-list-line text-lg"})})]})})]},n.id))})]})})}),j&&r&&e.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-xl max-w-4xl w-full max-h-[90vh] overflow-y-auto",children:[e.jsxs("div",{className:"sticky top-0 bg-white border-b border-gray-200 px-6 py-4 flex items-center justify-between",children:[e.jsx("h3",{className:"text-xl font-bold text-gray-900",children:"Violation Details"}),e.jsx("button",{onClick:()=>p(!1),className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:e.jsx("i",{className:"ri-close-line text-xl text-gray-600"})})]}),e.jsxs("div",{className:"p-6 space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Violation ID"}),e.jsx("p",{className:"text-sm text-gray-900 mt-1 font-mono",children:r.id})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Reported Date"}),e.jsx("p",{className:"text-sm text-gray-900 mt-1",children:new Date(r.reportedAt).toLocaleString()})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Violator"}),e.jsxs("p",{className:"text-sm text-gray-900 mt-1",children:[r.violatorId," (",r.violatorType,")"]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Related Party"}),e.jsxs("p",{className:"text-sm text-gray-900 mt-1",children:[r.relatedPartyId," (",r.relatedPartyType,")"]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Violation Type"}),e.jsx("p",{className:"text-sm text-gray-900 mt-1 capitalize",children:r.violationType.replace(/_/g," ")})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Status"}),e.jsx("span",{className:`inline-flex items-center px-3 py-1 rounded-full text-sm font-medium mt-1 whitespace-nowrap ${F(r.status)}`,children:r.status.replace(/_/g," ")})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Description"}),e.jsx("p",{className:"text-sm text-gray-900 mt-2 bg-gray-50 p-4 rounded-lg",children:r.description})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"text-sm font-medium text-gray-700 mb-3 block",children:["Evidence (",r.evidence.length,")"]}),e.jsx("div",{className:"space-y-3",children:r.evidence.map(n=>e.jsx("div",{className:"bg-gray-50 p-4 rounded-lg",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"w-10 h-10 bg-teal-100 rounded-lg flex items-center justify-center flex-shrink-0",children:e.jsx("i",{className:"ri-file-line text-lg text-teal-600"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-sm font-medium text-gray-900 capitalize",children:n.type.replace(/_/g," ")}),e.jsx("p",{className:"text-sm text-gray-600 mt-1",children:n.description}),e.jsxs("p",{className:"text-xs text-gray-500 mt-2",children:["Uploaded: ",new Date(n.uploadedAt).toLocaleString()]}),n.fileUrl&&e.jsx("img",{src:n.fileUrl,alt:"Evidence",className:"mt-3 rounded-lg border border-gray-200 max-w-md"})]})]})},n.id))})]}),e.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[e.jsx("div",{className:"w-10 h-10 bg-red-100 rounded-lg flex items-center justify-center",children:e.jsx("i",{className:"ri-money-dollar-circle-line text-lg text-red-600"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-red-900",children:"Penalty Amount"}),e.jsxs("p",{className:"text-2xl font-bold text-red-900",children:["$",r.penaltyAmount.toLocaleString()]})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-sm text-red-700",children:"Status:"}),e.jsx("span",{className:`inline-flex items-center px-3 py-1 rounded-full text-sm font-medium whitespace-nowrap ${D(r.penaltyStatus)}`,children:r.penaltyStatus})]}),r.penaltyDueDate&&e.jsxs("p",{className:"text-sm text-red-700 mt-2",children:["Due Date: ",new Date(r.penaltyDueDate).toLocaleDateString()]})]}),r.investigationNotes&&e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Investigation Notes"}),e.jsx("p",{className:"text-sm text-gray-900 mt-2 bg-blue-50 p-4 rounded-lg whitespace-pre-wrap",children:r.investigationNotes})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-gray-700 mb-3 block",children:"Audit Log"}),e.jsx("div",{className:"space-y-3",children:r.auditLog.map((n,S)=>e.jsxs("div",{className:"flex gap-3",children:[e.jsx("div",{className:"w-2 h-2 bg-teal-500 rounded-full mt-2 flex-shrink-0"}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-sm font-medium text-gray-900",children:n.action}),e.jsx("span",{className:"text-xs text-gray-500",children:new Date(n.timestamp).toLocaleString()})]}),e.jsx("p",{className:"text-sm text-gray-600 mt-1",children:n.details}),e.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["By: ",n.performedBy," (",n.performedByRole,")"]})]})]},S))})]})]})]})}),y&&r&&g&&e.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-xl max-w-lg w-full",children:[e.jsx("div",{className:"border-b border-gray-200 px-6 py-4",children:e.jsxs("h3",{className:"text-xl font-bold text-gray-900",children:[g==="confirm"&&"Confirm Violation",g==="dismiss"&&"Dismiss Violation",g==="invoice"&&"Issue Penalty Invoice"]})}),e.jsxs("div",{className:"p-6 space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Notes"}),e.jsx("textarea",{value:C,onChange:n=>u(n.target.value),rows:4,className:"w-full mt-2 px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-teal-500 focus:border-transparent",placeholder:g==="confirm"?"Explain why this violation is confirmed...":g==="dismiss"?"Explain why this violation is dismissed...":"Add any notes about this invoice..."})]}),g==="invoice"&&e.jsxs("div",{className:"bg-purple-50 border border-purple-200 rounded-lg p-4",children:[e.jsxs("p",{className:"text-sm text-purple-900",children:[e.jsx("strong",{children:"Penalty Amount:"})," $",r.penaltyAmount.toLocaleString()]}),e.jsxs("p",{className:"text-sm text-purple-900 mt-2",children:[e.jsx("strong",{children:"Payment Terms:"})," 30 days from invoice date"]})]}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx("button",{onClick:()=>k(!1),className:"flex-1 px-6 py-3 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors font-medium whitespace-nowrap",children:"Cancel"}),e.jsxs("button",{onClick:I,className:`flex-1 px-6 py-3 rounded-lg text-white font-medium transition-colors whitespace-nowrap ${g==="confirm"?"bg-red-600 hover:bg-red-700":g==="dismiss"?"bg-gray-600 hover:bg-gray-700":"bg-purple-600 hover:bg-purple-700"}`,children:[g==="confirm"&&"Confirm Violation",g==="dismiss"&&"Dismiss Violation",g==="invoice"&&"Issue Invoice"]})]})]})]})})]})};function se({session:i}){const[m,r]=x.useState(ae),[c,w]=x.useState(null),[v,j]=x.useState("all"),[p,y]=x.useState("all"),[k,g]=x.useState(""),[h,C]=x.useState(!1),[u,A]=x.useState(null),[F,D]=x.useState(""),[T,I]=x.useState(!1),[l,n]=x.useState("both"),[S,o]=x.useState(""),N=m.filter(a=>{const E=v==="all"||a.status===v,_=p==="all"||a.priority===p,U=k===""||a.disputeNumber.toLowerCase().includes(k.toLowerCase())||a.physicianName.toLowerCase().includes(k.toLowerCase())||a.facilityName.toLowerCase().includes(k.toLowerCase())||a.description.toLowerCase().includes(k.toLowerCase());return E&&_&&U}),b={total:m.length,open:m.filter(a=>a.status==="Open").length,underReview:m.filter(a=>a.status==="Under Review").length,mediation:m.filter(a=>a.status==="Mediation").length,resolved:m.filter(a=>a.status==="Resolved").length,escalated:m.filter(a=>a.status==="Escalated").length,avgResolutionTime:"4.2 days",totalEscrowHeld:m.filter(a=>a.escrowStatus==="On Hold").reduce((a,E)=>a+E.escrowAmount,0)},R=a=>{A(a),D(""),C(!0)},t=()=>{if(!c||!u||!i)return;const a={mediate:"DISPUTE_MEDIATION_STARTED",hold:"PAYMENT_HOLD_APPLIED",release:"PAYMENT_RELEASED",escalate:"DISPUTE_ESCALATED",close:"DISPUTE_CLOSED"};$.log(i.adminId,i.adminEmail,i.adminRole,a[u],"dispute",c.id,{disputeNumber:c.disputeNumber,action:u,notes:F,physicianId:c.physicianId,facilityId:c.facilityId,escrowAmount:c.escrowAmount,previousStatus:c.status},i.sessionId);const E=m.map(_=>{if(_.id===c.id){const U=[..._.timeline,{date:new Date().toISOString(),action:a[u],actor:i.adminEmail,actorRole:i.adminRole,notes:F}];let O=_.status,B=_.escrowStatus;return u==="mediate"&&(O="Mediation"),u==="escalate"&&(O="Escalated"),u==="close"&&(O="Closed"),u==="hold"&&(B="On Hold"),u==="release"&&(B="Released"),{..._,status:O,escrowStatus:B,assignedTo:i.adminEmail,assignedToRole:i.adminRole,timeline:U}}return _});r(E),w(E.find(_=>_.id===c.id)||null),C(!1),A(null),D("")},f=()=>{if(!c||!S||!i)return;const a={id:`msg_${Date.now()}`,from:i.adminEmail,fromRole:i.adminRole,to:l==="both"?"Physician & Facility":l==="physician"?c.physicianName:c.facilityName,date:new Date().toISOString(),message:S};$.log(i.adminId,i.adminEmail,i.adminRole,"DISPUTE_MESSAGE_SENT","dispute",c.id,{disputeNumber:c.disputeNumber,recipient:l,messagePreview:S.substring(0,100)},i.sessionId);const E=m.map(_=>_.id===c.id?{..._,messages:[..._.messages,a]}:_);r(E),w(E.find(_=>_.id===c.id)||null),I(!1),o("")},M=a=>{switch(a){case"Open":return"blue";case"Under Review":return"amber";case"Mediation":return"purple";case"Resolved":return"green";case"Escalated":return"red";case"Closed":return"slate";default:return"slate"}},s=a=>{switch(a){case"Low":return"blue";case"Medium":return"amber";case"High":return"orange";case"Critical":return"red";default:return"slate"}},P=i?.permissions?.canManagePayments,L=i?.permissions?.canManagePayments,d=i?.permissions?.canEscalateDisputes;return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[e.jsxs("div",{className:"bg-slate-800 border border-slate-700 rounded-xl p-6",children:[e.jsx("div",{className:"flex items-center justify-between mb-4",children:e.jsx("div",{className:"w-12 h-12 bg-blue-500/20 rounded-lg flex items-center justify-center",children:e.jsx("i",{className:"ri-file-list-line text-2xl text-blue-400"})})}),e.jsx("h3",{className:"text-2xl font-bold text-white mb-1",children:b.total}),e.jsx("p",{className:"text-sm text-slate-400",children:"Total Disputes"})]}),e.jsxs("div",{className:"bg-slate-800 border border-slate-700 rounded-xl p-6",children:[e.jsx("div",{className:"flex items-center justify-between mb-4",children:e.jsx("div",{className:"w-12 h-12 bg-amber-500/20 rounded-lg flex items-center justify-center",children:e.jsx("i",{className:"ri-time-line text-2xl text-amber-400"})})}),e.jsx("h3",{className:"text-2xl font-bold text-white mb-1",children:b.open+b.underReview+b.mediation}),e.jsx("p",{className:"text-sm text-slate-400",children:"Active Disputes"})]}),e.jsxs("div",{className:"bg-slate-800 border border-slate-700 rounded-xl p-6",children:[e.jsx("div",{className:"flex items-center justify-between mb-4",children:e.jsx("div",{className:"w-12 h-12 bg-green-500/20 rounded-lg flex items-center justify-center",children:e.jsx("i",{className:"ri-checkbox-circle-line text-2xl text-green-400"})})}),e.jsx("h3",{className:"text-2xl font-bold text-white mb-1",children:b.avgResolutionTime}),e.jsx("p",{className:"text-sm text-slate-400",children:"Avg Resolution Time"})]}),e.jsxs("div",{className:"bg-slate-800 border border-slate-700 rounded-xl p-6",children:[e.jsx("div",{className:"flex items-center justify-between mb-4",children:e.jsx("div",{className:"w-12 h-12 bg-purple-500/20 rounded-lg flex items-center justify-center",children:e.jsx("i",{className:"ri-money-dollar-circle-line text-2xl text-purple-400"})})}),e.jsxs("h3",{className:"text-2xl font-bold text-white mb-1",children:["$",(b.totalEscrowHeld/1e3).toFixed(1),"K"]}),e.jsx("p",{className:"text-sm text-slate-400",children:"Escrow On Hold"})]})]}),e.jsxs("div",{className:"bg-slate-800 border border-slate-700 rounded-xl p-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Search"}),e.jsxs("div",{className:"relative",children:[e.jsx("i",{className:"ri-search-line absolute left-3 top-1/2 -translate-y-1/2 text-slate-500"}),e.jsx("input",{type:"text",value:k,onChange:a=>g(a.target.value),placeholder:"Search disputes...",className:"w-full pl-10 pr-4 py-2 bg-slate-900/50 border border-slate-600 rounded-lg text-white placeholder-slate-500 focus:outline-none focus:ring-2 focus:ring-red-500"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Status"}),e.jsxs("select",{value:v,onChange:a=>j(a.target.value),className:"w-full px-4 py-2 bg-slate-900/50 border border-slate-600 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-red-500",children:[e.jsx("option",{value:"all",children:"All Statuses"}),e.jsx("option",{value:"Open",children:"Open"}),e.jsx("option",{value:"Under Review",children:"Under Review"}),e.jsx("option",{value:"Mediation",children:"Mediation"}),e.jsx("option",{value:"Resolved",children:"Resolved"}),e.jsx("option",{value:"Escalated",children:"Escalated"}),e.jsx("option",{value:"Closed",children:"Closed"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Priority"}),e.jsxs("select",{value:p,onChange:a=>y(a.target.value),className:"w-full px-4 py-2 bg-slate-900/50 border border-slate-600 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-red-500",children:[e.jsx("option",{value:"all",children:"All Priorities"}),e.jsx("option",{value:"Low",children:"Low"}),e.jsx("option",{value:"Medium",children:"Medium"}),e.jsx("option",{value:"High",children:"High"}),e.jsx("option",{value:"Critical",children:"Critical"})]})]}),e.jsx("div",{className:"flex items-end",children:e.jsxs("button",{onClick:()=>{g(""),j("all"),y("all")},className:"w-full px-4 py-2 bg-slate-700 hover:bg-slate-600 text-white rounded-lg transition-colors whitespace-nowrap",children:[e.jsx("i",{className:"ri-refresh-line mr-2"}),"Reset Filters"]})})]}),e.jsxs("div",{className:"mt-4 text-sm text-slate-400",children:["Showing ",N.length," of ",m.length," disputes"]})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"text-lg font-semibold text-white",children:"Dispute Queue"}),N.length===0?e.jsxs("div",{className:"bg-slate-800 border border-slate-700 rounded-xl p-8 text-center",children:[e.jsx("i",{className:"ri-inbox-line text-4xl text-slate-600 mb-4"}),e.jsx("p",{className:"text-slate-400",children:"No disputes found"})]}):N.map(a=>e.jsxs("div",{onClick:()=>w(a),className:`bg-slate-800 border rounded-xl p-6 cursor-pointer transition-all hover:border-red-500 ${c?.id===a.id?"border-red-500":"border-slate-700"}`,children:[e.jsxs("div",{className:"flex items-start justify-between mb-4",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"text-white font-semibold mb-1",children:a.disputeNumber}),e.jsxs("p",{className:"text-sm text-slate-400",children:[a.type," Dispute"]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:`px-3 py-1 bg-${s(a.priority)}-500/20 text-${s(a.priority)}-400 text-xs font-medium rounded-full whitespace-nowrap`,children:a.priority}),e.jsx("span",{className:`px-3 py-1 bg-${M(a.status)}-500/20 text-${M(a.status)}-400 text-xs font-medium rounded-full whitespace-nowrap`,children:a.status})]})]}),e.jsxs("div",{className:"space-y-2 mb-4",children:[e.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[e.jsx("i",{className:"ri-user-line text-slate-500"}),e.jsx("span",{className:"text-slate-300",children:a.physicianName}),e.jsx("span",{className:"text-slate-600",children:"vs"}),e.jsx("span",{className:"text-slate-300",children:a.facilityName})]}),e.jsxs("div",{className:"flex items-center gap-2 text-sm text-slate-400",children:[e.jsx("i",{className:"ri-calendar-line text-slate-500"}),e.jsx("span",{children:a.assignmentDates}),e.jsx("span",{className:"text-slate-600",children:"â€¢"}),e.jsx("span",{children:a.specialty})]})]}),e.jsxs("div",{className:"flex items-center justify-between pt-4 border-t border-slate-700",children:[e.jsxs("div",{className:"text-sm",children:[e.jsx("span",{className:"text-slate-400",children:"Escrow: "}),e.jsxs("span",{className:"text-white font-semibold",children:["$",a.escrowAmount.toLocaleString()]}),e.jsx("span",{className:`ml-2 px-2 py-0.5 bg-${a.escrowStatus==="On Hold"?"amber":"slate"}-500/20 text-${a.escrowStatus==="On Hold"?"amber":"slate"}-400 text-xs rounded whitespace-nowrap`,children:a.escrowStatus})]}),e.jsxs("div",{className:"text-xs text-slate-500",children:["Filed ",new Date(a.filedDate).toLocaleDateString()]})]})]},a.id))]}),e.jsx("div",{className:"lg:sticky lg:top-6 lg:self-start",children:c?e.jsxs("div",{className:"bg-slate-800 border border-slate-700 rounded-xl p-6 space-y-6",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-start justify-between mb-4",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-xl font-bold text-white mb-2",children:c.disputeNumber}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("span",{className:`px-3 py-1 bg-${s(c.priority)}-500/20 text-${s(c.priority)}-400 text-xs font-medium rounded-full whitespace-nowrap`,children:[c.priority," Priority"]}),e.jsx("span",{className:`px-3 py-1 bg-${M(c.status)}-500/20 text-${M(c.status)}-400 text-xs font-medium rounded-full whitespace-nowrap`,children:c.status})]})]}),e.jsx("button",{onClick:()=>w(null),className:"text-slate-400 hover:text-white transition-colors",children:e.jsx("i",{className:"ri-close-line text-xl"})})]}),e.jsxs("div",{className:"bg-slate-900/50 rounded-lg p-4 space-y-2 text-sm",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-slate-400",children:"Type:"}),e.jsx("span",{className:"text-white font-medium",children:c.type})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-slate-400",children:"Filed By:"}),e.jsx("span",{className:"text-white font-medium",children:c.filedBy})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-slate-400",children:"Filed Date:"}),e.jsx("span",{className:"text-white",children:new Date(c.filedDate).toLocaleString()})]}),c.assignedTo&&e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-slate-400",children:"Assigned To:"}),e.jsxs("span",{className:"text-white",children:[c.assignedTo," (",c.assignedToRole,")"]})]})]})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-sm font-semibold text-slate-300 mb-3",children:"Parties Involved"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"bg-slate-900/50 rounded-lg p-4",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[e.jsx("div",{className:"w-10 h-10 bg-blue-500/20 rounded-full flex items-center justify-center",children:e.jsx("i",{className:"ri-user-line text-blue-400"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-white font-medium",children:c.physicianName}),e.jsx("p",{className:"text-xs text-slate-400",children:"Physician"})]})]}),e.jsx("p",{className:"text-sm text-slate-400",children:c.physicianEmail})]}),e.jsxs("div",{className:"bg-slate-900/50 rounded-lg p-4",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[e.jsx("div",{className:"w-10 h-10 bg-purple-500/20 rounded-full flex items-center justify-center",children:e.jsx("i",{className:"ri-hospital-line text-purple-400"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-white font-medium",children:c.facilityName}),e.jsx("p",{className:"text-xs text-slate-400",children:"Facility"})]})]}),e.jsx("p",{className:"text-sm text-slate-400",children:c.facilityEmail})]})]})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-sm font-semibold text-slate-300 mb-3",children:"Assignment Details"}),e.jsxs("div",{className:"bg-slate-900/50 rounded-lg p-4 space-y-2 text-sm",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-slate-400",children:"Assignment ID:"}),e.jsx("span",{className:"text-white font-mono",children:c.assignmentId})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-slate-400",children:"Dates:"}),e.jsx("span",{className:"text-white",children:c.assignmentDates})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-slate-400",children:"Specialty:"}),e.jsx("span",{className:"text-white",children:c.specialty})]})]})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-sm font-semibold text-slate-300 mb-3",children:"Financial Details"}),e.jsxs("div",{className:"bg-slate-900/50 rounded-lg p-4 space-y-2 text-sm",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-slate-400",children:"Escrow Amount:"}),e.jsxs("span",{className:"text-white font-semibold",children:["$",c.escrowAmount.toLocaleString()]})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-slate-400",children:"Platform Fee:"}),e.jsxs("span",{className:"text-white",children:["$",c.platformFee.toLocaleString()]})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-slate-400",children:"Escrow Status:"}),e.jsx("span",{className:`px-2 py-1 bg-${c.escrowStatus==="On Hold"?"amber":c.escrowStatus==="Released"?"green":"slate"}-500/20 text-${c.escrowStatus==="On Hold"?"amber":c.escrowStatus==="Released"?"green":"slate"}-400 text-xs font-medium rounded whitespace-nowrap`,children:c.escrowStatus})]})]})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-sm font-semibold text-slate-300 mb-3",children:"Dispute Description"}),e.jsx("div",{className:"bg-slate-900/50 rounded-lg p-4",children:e.jsx("p",{className:"text-sm text-slate-300 leading-relaxed",children:c.description})})]}),c.supportingDocuments.length>0&&e.jsxs("div",{children:[e.jsx("h4",{className:"text-sm font-semibold text-slate-300 mb-3",children:"Supporting Documents"}),e.jsx("div",{className:"space-y-2",children:c.supportingDocuments.map((a,E)=>e.jsxs("div",{className:"bg-slate-900/50 rounded-lg p-3 flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("i",{className:"ri-file-text-line text-slate-400"}),e.jsx("span",{className:"text-sm text-slate-300",children:a})]}),e.jsxs("button",{className:"text-red-400 hover:text-red-300 text-sm whitespace-nowrap",children:[e.jsx("i",{className:"ri-download-line mr-1"}),"Download"]})]},E))})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-sm font-semibold text-slate-300 mb-3",children:"Admin Actions"}),e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[e.jsxs("button",{onClick:()=>R("mediate"),disabled:c.status==="Mediation"||c.status==="Closed",className:"px-4 py-2 bg-purple-500/20 hover:bg-purple-500/30 text-purple-400 rounded-lg transition-colors disabled:opacity-50 disabled:cursor-not-allowed whitespace-nowrap",children:[e.jsx("i",{className:"ri-discuss-line mr-2"}),"Start Mediation"]}),P&&e.jsxs("button",{onClick:()=>R("hold"),disabled:c.escrowStatus==="On Hold"||c.status==="Closed",className:"px-4 py-2 bg-amber-500/20 hover:bg-amber-500/30 text-amber-400 rounded-lg transition-colors disabled:opacity-50 disabled:cursor-not-allowed whitespace-nowrap",children:[e.jsx("i",{className:"ri-pause-circle-line mr-2"}),"Hold Payment"]}),L&&e.jsxs("button",{onClick:()=>R("release"),disabled:c.escrowStatus==="Released"||c.status==="Closed",className:"px-4 py-2 bg-green-500/20 hover:bg-green-500/30 text-green-400 rounded-lg transition-colors disabled:opacity-50 disabled:cursor-not-allowed whitespace-nowrap",children:[e.jsx("i",{className:"ri-play-circle-line mr-2"}),"Release Payment"]}),d&&e.jsxs("button",{onClick:()=>R("escalate"),disabled:c.status==="Escalated"||c.status==="Closed",className:"px-4 py-2 bg-red-500/20 hover:bg-red-500/30 text-red-400 rounded-lg transition-colors disabled:opacity-50 disabled:cursor-not-allowed whitespace-nowrap",children:[e.jsx("i",{className:"ri-alert-line mr-2"}),"Escalate"]}),e.jsxs("button",{onClick:()=>R("close"),disabled:c.status==="Closed",className:"px-4 py-2 bg-slate-600 hover:bg-slate-500 text-white rounded-lg transition-colors disabled:opacity-50 disabled:cursor-not-allowed whitespace-nowrap",children:[e.jsx("i",{className:"ri-check-line mr-2"}),"Close Dispute"]}),e.jsxs("button",{onClick:()=>I(!0),className:"px-4 py-2 bg-blue-500/20 hover:bg-blue-500/30 text-blue-400 rounded-lg transition-colors whitespace-nowrap",children:[e.jsx("i",{className:"ri-message-line mr-2"}),"Send Message"]})]})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-sm font-semibold text-slate-300 mb-3",children:"Timeline"}),e.jsx("div",{className:"space-y-3",children:c.timeline.map((a,E)=>e.jsxs("div",{className:"flex gap-3",children:[e.jsxs("div",{className:"flex flex-col items-center",children:[e.jsx("div",{className:"w-8 h-8 bg-slate-700 rounded-full flex items-center justify-center flex-shrink-0",children:e.jsx("i",{className:"ri-time-line text-slate-400 text-sm"})}),E<c.timeline.length-1&&e.jsx("div",{className:"w-0.5 h-full bg-slate-700 mt-2"})]}),e.jsxs("div",{className:"flex-1 pb-4",children:[e.jsx("p",{className:"text-sm text-white font-medium mb-1",children:a.action}),e.jsxs("p",{className:"text-xs text-slate-400 mb-1",children:[a.actor," (",a.actorRole,")"]}),a.notes&&e.jsx("p",{className:"text-xs text-slate-500 mb-1",children:a.notes}),e.jsx("p",{className:"text-xs text-slate-600",children:new Date(a.date).toLocaleString()})]})]},E))})]}),c.messages.length>0&&e.jsxs("div",{children:[e.jsx("h4",{className:"text-sm font-semibold text-slate-300 mb-3",children:"Communication History"}),e.jsx("div",{className:"space-y-3 max-h-64 overflow-y-auto",children:c.messages.map(a=>e.jsxs("div",{className:"bg-slate-900/50 rounded-lg p-4",children:[e.jsxs("div",{className:"flex items-start justify-between mb-2",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-white font-medium",children:a.from}),e.jsxs("p",{className:"text-xs text-slate-400",children:[a.fromRole," â†’ ",a.to]})]}),e.jsx("span",{className:"text-xs text-slate-600",children:new Date(a.date).toLocaleString()})]}),e.jsx("p",{className:"text-sm text-slate-300",children:a.message})]},a.id))})]})]}):e.jsxs("div",{className:"bg-slate-800 border border-slate-700 rounded-xl p-12 text-center",children:[e.jsx("i",{className:"ri-file-list-line text-5xl text-slate-600 mb-4"}),e.jsx("p",{className:"text-slate-400",children:"Select a dispute to view details"})]})})]}),h&&u&&e.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-slate-800 border border-slate-700 rounded-xl p-6 max-w-md w-full",children:[e.jsxs("h3",{className:"text-xl font-bold text-white mb-4",children:[u==="mediate"&&"Start Mediation",u==="hold"&&"Hold Payment",u==="release"&&"Release Payment",u==="escalate"&&"Escalate Dispute",u==="close"&&"Close Dispute"]}),e.jsx("div",{className:"bg-amber-500/10 border border-amber-500/30 rounded-lg p-4 mb-4",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("i",{className:"ri-alert-line text-amber-400 text-lg mt-0.5"}),e.jsxs("div",{className:"text-sm text-amber-300",children:[u==="hold"&&"This will place the escrow payment on hold. The physician will not receive payment until the hold is released.",u==="release"&&"This will release the escrowed payment to the physician. This action cannot be undone.",u==="escalate"&&"This will escalate the dispute to senior management or legal review.",u==="close"&&"This will close the dispute. Ensure all parties have been notified of the resolution.",u==="mediate"&&"This will start the mediation process. Both parties will be notified."]})]})}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Reason / Notes (Required)"}),e.jsx("textarea",{value:F,onChange:a=>D(a.target.value),rows:4,className:"w-full px-4 py-3 bg-slate-900/50 border border-slate-600 rounded-lg text-white placeholder-slate-500 focus:outline-none focus:ring-2 focus:ring-red-500",placeholder:"Provide detailed justification for this action...",required:!0})]}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx("button",{onClick:()=>{C(!1),A(null),D("")},className:"flex-1 px-4 py-2 bg-slate-700 hover:bg-slate-600 text-white rounded-lg transition-colors whitespace-nowrap",children:"Cancel"}),e.jsx("button",{onClick:t,disabled:!F.trim(),className:"flex-1 px-4 py-2 bg-red-500 hover:bg-red-600 text-white rounded-lg transition-colors disabled:opacity-50 disabled:cursor-not-allowed whitespace-nowrap",children:"Confirm Action"})]})]})}),T&&e.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-slate-800 border border-slate-700 rounded-xl p-6 max-w-md w-full",children:[e.jsx("h3",{className:"text-xl font-bold text-white mb-4",children:"Send Message"}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Recipient"}),e.jsxs("select",{value:l,onChange:a=>n(a.target.value),className:"w-full px-4 py-2 bg-slate-900/50 border border-slate-600 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-red-500",children:[e.jsx("option",{value:"both",children:"Both Parties"}),e.jsx("option",{value:"physician",children:"Physician Only"}),e.jsx("option",{value:"facility",children:"Facility Only"})]})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Message"}),e.jsx("textarea",{value:S,onChange:a=>o(a.target.value),rows:4,className:"w-full px-4 py-3 bg-slate-900/50 border border-slate-600 rounded-lg text-white placeholder-slate-500 focus:outline-none focus:ring-2 focus:ring-red-500",placeholder:"Type your message...",required:!0})]}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx("button",{onClick:()=>{I(!1),o("")},className:"flex-1 px-4 py-2 bg-slate-700 hover:bg-slate-600 text-white rounded-lg transition-colors whitespace-nowrap",children:"Cancel"}),e.jsxs("button",{onClick:f,disabled:!S.trim(),className:"flex-1 px-4 py-2 bg-red-500 hover:bg-red-600 text-white rounded-lg transition-colors disabled:opacity-50 disabled:cursor-not-allowed whitespace-nowrap",children:[e.jsx("i",{className:"ri-send-plane-line mr-2"}),"Send Message"]})]})]})})]})}const ae=[{id:"disp_001",disputeNumber:"DISP-2024-0156",status:"Under Review",priority:"High",type:"Payment",physicianId:"phys_001",physicianName:"Dr. Sarah Johnson",physicianEmail:"sarah.johnson@email.com",facilityId:"fac_001",facilityName:"Memorial Hospital",facilityEmail:"admin@memorial.com",assignmentId:"ASG-2024-0892",assignmentDates:"Jan 15-22, 2024",specialty:"Emergency Medicine",escrowAmount:12500,escrowStatus:"On Hold",platformFee:1875,filedBy:"Physician",filedDate:"2024-01-23T10:30:00Z",description:"Facility has not released payment despite completed assignment. All required documentation was submitted on time. Requesting immediate payment release.",supportingDocuments:["Assignment_Completion_Certificate.pdf","Timesheet_Jan_15_22.pdf","Facility_Confirmation_Email.pdf"],assignedTo:"finance@platform.com",assignedToRole:"Finance Manager",timeline:[{date:"2024-01-23T10:30:00Z",action:"Dispute Filed",actor:"Dr. Sarah Johnson",actorRole:"Physician",notes:"Payment not released after 5 business days"},{date:"2024-01-23T14:15:00Z",action:"Assigned to Finance Manager",actor:"System",actorRole:"Automated"},{date:"2024-01-24T09:00:00Z",action:"Under Review",actor:"finance@platform.com",actorRole:"Finance Manager",notes:"Reviewing facility payment records and assignment completion documentation"}],messages:[{id:"msg_001",from:"finance@platform.com",fromRole:"Finance Manager",to:"Memorial Hospital",date:"2024-01-24T09:30:00Z",message:"We are reviewing the payment dispute filed by Dr. Johnson. Please provide any documentation supporting the payment delay."}]},{id:"disp_002",disputeNumber:"DISP-2024-0157",status:"Mediation",priority:"Critical",type:"Contract",physicianId:"phys_002",physicianName:"Dr. Michael Chen",physicianEmail:"michael.chen@email.com",facilityId:"fac_002",facilityName:"City Medical Center",facilityEmail:"hr@citymedical.com",assignmentId:"ASG-2024-0901",assignmentDates:"Feb 1-7, 2024",specialty:"Cardiology",escrowAmount:18e3,escrowStatus:"Held",platformFee:2700,filedBy:"Facility",filedDate:"2024-01-25T08:00:00Z",description:"Physician did not complete the full assignment period. Left 2 days early citing personal emergency. Facility is requesting partial refund.",supportingDocuments:["Facility_Incident_Report.pdf","Physician_Departure_Notice.pdf","Schedule_Coverage_Records.pdf"],assignedTo:"compliance@platform.com",assignedToRole:"Compliance Manager",timeline:[{date:"2024-01-25T08:00:00Z",action:"Dispute Filed",actor:"City Medical Center",actorRole:"Facility",notes:"Assignment incomplete - physician left early"},{date:"2024-01-25T10:00:00Z",action:"Payment Hold Applied",actor:"finance@platform.com",actorRole:"Finance Manager",notes:"Escrow placed on hold pending investigation"},{date:"2024-01-26T11:00:00Z",action:"Mediation Started",actor:"compliance@platform.com",actorRole:"Compliance Manager",notes:"Initiating mediation between parties to reach fair resolution"}],messages:[{id:"msg_002",from:"compliance@platform.com",fromRole:"Compliance Manager",to:"Dr. Michael Chen & City Medical Center",date:"2024-01-26T11:30:00Z",message:"We have initiated mediation for this dispute. Both parties will have the opportunity to present their case. Please provide any additional documentation that supports your position."}]},{id:"disp_003",disputeNumber:"DISP-2024-0158",status:"Open",priority:"Medium",type:"Quality",physicianId:"phys_003",physicianName:"Dr. Emily Rodriguez",physicianEmail:"emily.rodriguez@email.com",facilityId:"fac_003",facilityName:"Regional Health System",facilityEmail:"quality@regional.com",assignmentId:"ASG-2024-0915",assignmentDates:"Jan 20-27, 2024",specialty:"Internal Medicine",escrowAmount:9500,escrowStatus:"Held",platformFee:1425,filedBy:"Facility",filedDate:"2024-01-28T14:00:00Z",description:"Facility reports concerns about physician performance and patient care quality. Requesting review before payment release.",supportingDocuments:["Quality_Assurance_Report.pdf","Patient_Feedback_Summary.pdf"],timeline:[{date:"2024-01-28T14:00:00Z",action:"Dispute Filed",actor:"Regional Health System",actorRole:"Facility",notes:"Quality concerns raised by facility"}],messages:[]},{id:"disp_004",disputeNumber:"DISP-2024-0145",status:"Resolved",priority:"Low",type:"Cancellation",physicianId:"phys_004",physicianName:"Dr. James Wilson",physicianEmail:"james.wilson@email.com",facilityId:"fac_004",facilityName:"Community Hospital",facilityEmail:"admin@community.com",assignmentId:"ASG-2024-0850",assignmentDates:"Jan 10-14, 2024",specialty:"Anesthesiology",escrowAmount:8e3,escrowStatus:"Released",platformFee:1200,filedBy:"Physician",filedDate:"2024-01-15T09:00:00Z",description:"Facility cancelled assignment 48 hours before start date. Physician requesting cancellation fee per contract terms.",supportingDocuments:["Cancellation_Notice.pdf","Contract_Terms.pdf"],assignedTo:"operations@platform.com",assignedToRole:"Operations Manager",resolutionNotes:"Facility agreed to pay 50% cancellation fee as per contract terms. Payment released to physician.",resolutionDate:"2024-01-18T16:00:00Z",outcome:"Partial payment released - $4,000 cancellation fee paid to physician",timeline:[{date:"2024-01-15T09:00:00Z",action:"Dispute Filed",actor:"Dr. James Wilson",actorRole:"Physician",notes:"Late cancellation by facility"},{date:"2024-01-16T10:00:00Z",action:"Under Review",actor:"operations@platform.com",actorRole:"Operations Manager"},{date:"2024-01-18T15:00:00Z",action:"Resolution Reached",actor:"operations@platform.com",actorRole:"Operations Manager",notes:"Both parties agreed to 50% cancellation fee"},{date:"2024-01-18T16:00:00Z",action:"Payment Released",actor:"finance@platform.com",actorRole:"Finance Manager",notes:"$4,000 released to physician"},{date:"2024-01-18T16:30:00Z",action:"Dispute Closed",actor:"operations@platform.com",actorRole:"Operations Manager"}],messages:[{id:"msg_003",from:"operations@platform.com",fromRole:"Operations Manager",to:"Dr. James Wilson & Community Hospital",date:"2024-01-16T11:00:00Z",message:"We have reviewed the contract terms. The facility cancelled within 48 hours of the assignment start date, which triggers the cancellation fee clause."},{id:"msg_004",from:"operations@platform.com",fromRole:"Operations Manager",to:"Dr. James Wilson & Community Hospital",date:"2024-01-18T15:30:00Z",message:"Both parties have agreed to a 50% cancellation fee. Payment of $4,000 will be released to Dr. Wilson. This dispute is now resolved."}]}],le=()=>{const[i,m]=x.useState("overview"),[r,c]=x.useState(null),[w,v]=x.useState(!1),[j,p]=x.useState(null),[y,k]=x.useState(""),[g,h]=x.useState(""),[C,u]=x.useState("all"),A={totalInEscrow:487500,totalReleased:1245e3,totalOnHold:45e3,platformFeesCollected:186750,activeTransactions:32,pendingReleases:8},F=[{id:"ESC-2024-001",assignmentId:"ASG-2024-156",physicianName:"Dr. Sarah Johnson",physicianId:"PHY-001",facilityName:"Memorial Hospital",facilityId:"FAC-001",specialty:"Emergency Medicine",assignmentDates:"Jan 15-22, 2024",totalAmount:15e3,platformFee:2250,physicianPayout:12750,escrowStatus:"Held",escrowProvider:"PayPal",providerTransactionId:"PP-TXN-789456123",fundedDate:"2024-01-10T14:30:00Z",lastAction:"Escrow funded",lastActionBy:"System",lastActionDate:"2024-01-10T14:30:00Z"},{id:"ESC-2024-002",assignmentId:"ASG-2024-157",physicianName:"Dr. Michael Chen",physicianId:"PHY-002",facilityName:"City Medical Center",facilityId:"FAC-002",specialty:"Cardiology",assignmentDates:"Jan 8-15, 2024",totalAmount:18e3,platformFee:2700,physicianPayout:15300,escrowStatus:"On Hold",escrowProvider:"Stripe",providerTransactionId:"STR-CH-456789012",fundedDate:"2024-01-05T10:15:00Z",holdReason:"Dispute filed by facility - quality concerns",holdBy:"Admin: John Smith (Finance Manager)",lastAction:"Payment hold applied",lastActionBy:"John Smith (Finance Manager)",lastActionDate:"2024-01-16T09:20:00Z"},{id:"ESC-2024-003",assignmentId:"ASG-2024-158",physicianName:"Dr. Emily Rodriguez",physicianId:"PHY-003",facilityName:"Regional Health System",facilityId:"FAC-003",specialty:"Anesthesiology",assignmentDates:"Dec 20-27, 2023",totalAmount:22e3,platformFee:3300,physicianPayout:18700,escrowStatus:"Released",escrowProvider:"PayPal",providerTransactionId:"PP-TXN-123789456",fundedDate:"2023-12-18T16:45:00Z",releaseDate:"2024-01-05T11:30:00Z",lastAction:"Payment released to physician",lastActionBy:"System",lastActionDate:"2024-01-05T11:30:00Z"},{id:"ESC-2024-004",assignmentId:"ASG-2024-159",physicianName:"Dr. James Wilson",physicianId:"PHY-004",facilityName:"University Hospital",facilityId:"FAC-004",specialty:"Radiology",assignmentDates:"Jan 10-17, 2024",totalAmount:16500,platformFee:2475,physicianPayout:14025,escrowStatus:"Held",escrowProvider:"Stripe",providerTransactionId:"STR-CH-789012345",fundedDate:"2024-01-08T13:20:00Z",lastAction:"Escrow funded",lastActionBy:"System",lastActionDate:"2024-01-08T13:20:00Z"}],D=[{id:"FEE-2024-001",assignmentId:"ASG-2024-158",facilityName:"Regional Health System",physicianName:"Dr. Emily Rodriguez",totalAmount:22e3,feePercentage:15,feeAmount:3300,collectedDate:"2023-12-18T16:45:00Z",status:"Collected"},{id:"FEE-2024-002",assignmentId:"ASG-2024-156",facilityName:"Memorial Hospital",physicianName:"Dr. Sarah Johnson",totalAmount:15e3,feePercentage:15,feeAmount:2250,collectedDate:"2024-01-10T14:30:00Z",status:"Collected"},{id:"FEE-2024-003",assignmentId:"ASG-2024-157",facilityName:"City Medical Center",physicianName:"Dr. Michael Chen",totalAmount:18e3,feePercentage:15,feeAmount:2700,collectedDate:"2024-01-05T10:15:00Z",status:"Collected"},{id:"FEE-2024-004",assignmentId:"ASG-2024-160",facilityName:"Community Hospital",physicianName:"Dr. Lisa Anderson",totalAmount:12e3,feePercentage:15,feeAmount:1800,collectedDate:"2024-01-12T09:00:00Z",status:"Pending"}],T=[{id:"ALERT-001",type:"Manual Override",severity:"High",message:"Payment hold applied manually",details:"Finance Manager John Smith placed hold on ESC-2024-002 due to dispute",timestamp:"2024-01-16T09:20:00Z",resolved:!1},{id:"ALERT-002",type:"API Error",severity:"Medium",message:"Stripe API connection timeout",details:"Temporary connection issue with Stripe API. Retry successful after 2 attempts.",timestamp:"2024-01-15T14:35:00Z",resolved:!0},{id:"ALERT-003",type:"Escrow Delay",severity:"Low",message:"Escrow release delayed",details:"ESC-2024-005 release delayed by 24 hours due to weekend processing",timestamp:"2024-01-14T10:00:00Z",resolved:!0}],I={name:"John Smith",role:"Finance Manager",sessionId:"SESS-789456123"},l=t=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:0,maximumFractionDigits:0}).format(t),n=t=>new Date(t).toLocaleString("en-US",{month:"short",day:"numeric",year:"numeric",hour:"2-digit",minute:"2-digit"}),S=(t,f)=>{c(t),p(f),v(!0),k("")},o=()=>{if(!y.trim()||!r)return;const t={action:j==="hold"?"PAYMENT_HOLD":"PAYMENT_RELEASE",transactionId:r.id,adminName:I.name,adminRole:I.role,sessionId:I.sessionId,timestamp:new Date().toISOString(),justification:y,ipAddress:"192.168.1.100",previousStatus:r.escrowStatus,newStatus:j==="hold"?"On Hold":"Released"};console.log("Audit Log:",t),alert(`${j==="hold"?"Payment Hold":"Payment Release"} action logged and executed.

Transaction: ${r.id}
Admin: ${I.name}
Justification: ${y}`),v(!1),c(null),p(null),k("")},N=F.filter(t=>{const f=g===""||t.id.toLowerCase().includes(g.toLowerCase())||t.physicianName.toLowerCase().includes(g.toLowerCase())||t.facilityName.toLowerCase().includes(g.toLowerCase())||t.assignmentId.toLowerCase().includes(g.toLowerCase()),M=C==="all"||t.escrowStatus===C;return f&&M}),b=t=>{switch(t){case"Held":return"bg-blue-100 text-blue-800";case"Released":return"bg-green-100 text-green-800";case"On Hold":return"bg-red-100 text-red-800";case"Partially Released":return"bg-amber-100 text-amber-800";default:return"bg-slate-100 text-slate-800"}},R=t=>{switch(t){case"Critical":return"bg-red-100 text-red-800 border-red-300";case"High":return"bg-orange-100 text-orange-800 border-orange-300";case"Medium":return"bg-amber-100 text-amber-800 border-amber-300";case"Low":return"bg-blue-100 text-blue-800 border-blue-300";default:return"bg-slate-100 text-slate-800 border-slate-300"}};return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold text-slate-900",children:"Financial & Escrow Oversight"}),e.jsx("p",{className:"text-slate-600 mt-1",children:"Real-time financial monitoring and platform fee management"})]}),e.jsxs("button",{className:"px-4 py-2 bg-teal-600 text-white rounded-lg hover:bg-teal-700 transition-colors whitespace-nowrap flex items-center gap-2",children:[e.jsx("i",{className:"ri-download-line"}),"Export Report"]})]}),e.jsx("div",{className:"border-b border-slate-200",children:e.jsxs("div",{className:"flex gap-6",children:[e.jsx("button",{onClick:()=>m("overview"),className:`pb-3 px-1 border-b-2 transition-colors whitespace-nowrap ${i==="overview"?"border-teal-600 text-teal-600 font-medium":"border-transparent text-slate-600 hover:text-slate-900"}`,children:"Overview"}),e.jsx("button",{onClick:()=>m("escrow"),className:`pb-3 px-1 border-b-2 transition-colors whitespace-nowrap ${i==="escrow"?"border-teal-600 text-teal-600 font-medium":"border-transparent text-slate-600 hover:text-slate-900"}`,children:"Escrow Transactions"}),e.jsx("button",{onClick:()=>m("fees"),className:`pb-3 px-1 border-b-2 transition-colors whitespace-nowrap ${i==="fees"?"border-teal-600 text-teal-600 font-medium":"border-transparent text-slate-600 hover:text-slate-900"}`,children:"Platform Fees"}),e.jsxs("button",{onClick:()=>m("alerts"),className:`pb-3 px-1 border-b-2 transition-colors whitespace-nowrap ${i==="alerts"?"border-teal-600 text-teal-600 font-medium":"border-transparent text-slate-600 hover:text-slate-900"}`,children:["Alerts",T.filter(t=>!t.resolved).length>0&&e.jsx("span",{className:"ml-2 px-2 py-0.5 bg-red-100 text-red-800 text-xs rounded-full",children:T.filter(t=>!t.resolved).length})]})]})}),i==="overview"&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[e.jsxs("div",{className:"bg-white rounded-lg border border-slate-200 p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("span",{className:"text-slate-600 text-sm",children:"Total in Escrow"}),e.jsx("div",{className:"w-10 h-10 bg-blue-100 rounded-lg flex items-center justify-center",children:e.jsx("i",{className:"ri-safe-line text-blue-600 text-xl"})})]}),e.jsx("div",{className:"text-2xl font-bold text-slate-900",children:l(A.totalInEscrow)}),e.jsxs("div",{className:"text-sm text-slate-500 mt-1",children:[A.activeTransactions," active transactions"]})]}),e.jsxs("div",{className:"bg-white rounded-lg border border-slate-200 p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("span",{className:"text-slate-600 text-sm",children:"Total Released"}),e.jsx("div",{className:"w-10 h-10 bg-green-100 rounded-lg flex items-center justify-center",children:e.jsx("i",{className:"ri-check-double-line text-green-600 text-xl"})})]}),e.jsx("div",{className:"text-2xl font-bold text-slate-900",children:l(A.totalReleased)}),e.jsxs("div",{className:"text-sm text-slate-500 mt-1",children:[A.pendingReleases," pending releases"]})]}),e.jsxs("div",{className:"bg-white rounded-lg border border-slate-200 p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("span",{className:"text-slate-600 text-sm",children:"On Hold"}),e.jsx("div",{className:"w-10 h-10 bg-red-100 rounded-lg flex items-center justify-center",children:e.jsx("i",{className:"ri-pause-circle-line text-red-600 text-xl"})})]}),e.jsx("div",{className:"text-2xl font-bold text-slate-900",children:l(A.totalOnHold)}),e.jsx("div",{className:"text-sm text-slate-500 mt-1",children:"Disputed or held"})]}),e.jsxs("div",{className:"bg-white rounded-lg border border-slate-200 p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("span",{className:"text-slate-600 text-sm",children:"Platform Fees"}),e.jsx("div",{className:"w-10 h-10 bg-teal-100 rounded-lg flex items-center justify-center",children:e.jsx("i",{className:"ri-money-dollar-circle-line text-teal-600 text-xl"})})]}),e.jsx("div",{className:"text-2xl font-bold text-slate-900",children:l(A.platformFeesCollected)}),e.jsx("div",{className:"text-sm text-slate-500 mt-1",children:"15% automatic collection"})]})]}),e.jsxs("div",{className:"bg-white rounded-lg border border-slate-200 p-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-slate-900 mb-4",children:"Third-Party Integration Status"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between p-4 bg-slate-50 rounded-lg",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 bg-blue-600 rounded-lg flex items-center justify-center",children:e.jsx("i",{className:"ri-paypal-line text-white text-xl"})}),e.jsxs("div",{children:[e.jsx("div",{className:"font-medium text-slate-900",children:"PayPal"}),e.jsx("div",{className:"text-sm text-slate-600",children:"Escrow Provider"})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"px-3 py-1 bg-green-100 text-green-800 text-sm rounded-full",children:"Connected"}),e.jsx("span",{className:"text-sm text-slate-600",children:"Last sync: 2 min ago"})]})]}),e.jsxs("div",{className:"flex items-center justify-between p-4 bg-slate-50 rounded-lg",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 bg-purple-600 rounded-lg flex items-center justify-center",children:e.jsx("i",{className:"ri-bank-card-line text-white text-xl"})}),e.jsxs("div",{children:[e.jsx("div",{className:"font-medium text-slate-900",children:"Stripe"}),e.jsx("div",{className:"text-sm text-slate-600",children:"Payment Processor"})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"px-3 py-1 bg-green-100 text-green-800 text-sm rounded-full",children:"Connected"}),e.jsx("span",{className:"text-sm text-slate-600",children:"Last sync: 5 min ago"})]})]}),e.jsxs("div",{className:"flex items-center justify-between p-4 bg-slate-50 rounded-lg",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 bg-slate-600 rounded-lg flex items-center justify-center",children:e.jsx("i",{className:"ri-shield-check-line text-white text-xl"})}),e.jsxs("div",{children:[e.jsx("div",{className:"font-medium text-slate-900",children:"Escrow.com"}),e.jsx("div",{className:"text-sm text-slate-600",children:"Licensed Escrow Service"})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"px-3 py-1 bg-green-100 text-green-800 text-sm rounded-full",children:"Connected"}),e.jsx("span",{className:"text-sm text-slate-600",children:"Last sync: 1 min ago"})]})]})]})]}),e.jsxs("div",{className:"bg-white rounded-lg border border-slate-200 p-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-slate-900 mb-4",children:"Recent Financial Activity"}),e.jsx("div",{className:"space-y-3",children:F.slice(0,5).map(t=>e.jsxs("div",{className:"flex items-center justify-between p-3 bg-slate-50 rounded-lg",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-8 h-8 bg-teal-100 rounded-lg flex items-center justify-center",children:e.jsx("i",{className:"ri-exchange-dollar-line text-teal-600"})}),e.jsxs("div",{children:[e.jsx("div",{className:"font-medium text-slate-900",children:t.id}),e.jsxs("div",{className:"text-sm text-slate-600",children:[t.physicianName," â€¢ ",t.facilityName]})]})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("div",{className:"font-medium text-slate-900",children:l(t.totalAmount)}),e.jsx("span",{className:`text-xs px-2 py-1 rounded-full ${b(t.escrowStatus)}`,children:t.escrowStatus})]})]},t.id))})]})]}),i==="escrow"&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-white rounded-lg border border-slate-200 p-4",children:[e.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[e.jsx("div",{className:"flex-1",children:e.jsxs("div",{className:"relative",children:[e.jsx("i",{className:"ri-search-line absolute left-3 top-1/2 -translate-y-1/2 text-slate-400"}),e.jsx("input",{type:"text",placeholder:"Search by transaction ID, physician, facility, or assignment...",value:g,onChange:t=>h(t.target.value),className:"w-full pl-10 pr-4 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-teal-500 focus:border-transparent"})]})}),e.jsxs("select",{value:C,onChange:t=>u(t.target.value),className:"px-4 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-teal-500 focus:border-transparent whitespace-nowrap",children:[e.jsx("option",{value:"all",children:"All Status"}),e.jsx("option",{value:"Held",children:"Held"}),e.jsx("option",{value:"Released",children:"Released"}),e.jsx("option",{value:"On Hold",children:"On Hold"}),e.jsx("option",{value:"Partially Released",children:"Partially Released"})]})]}),e.jsxs("div",{className:"mt-3 text-sm text-slate-600",children:["Showing ",N.length," of ",F.length," transactions"]})]}),e.jsx("div",{className:"bg-white rounded-lg border border-slate-200 overflow-hidden",children:e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-slate-50 border-b border-slate-200",children:e.jsxs("tr",{children:[e.jsx("th",{className:"text-left px-6 py-3 text-sm font-semibold text-slate-900 whitespace-nowrap",children:"Transaction ID"}),e.jsx("th",{className:"text-left px-6 py-3 text-sm font-semibold text-slate-900 whitespace-nowrap",children:"Assignment"}),e.jsx("th",{className:"text-left px-6 py-3 text-sm font-semibold text-slate-900 whitespace-nowrap",children:"Physician"}),e.jsx("th",{className:"text-left px-6 py-3 text-sm font-semibold text-slate-900 whitespace-nowrap",children:"Facility"}),e.jsx("th",{className:"text-left px-6 py-3 text-sm font-semibold text-slate-900 whitespace-nowrap",children:"Amount"}),e.jsx("th",{className:"text-left px-6 py-3 text-sm font-semibold text-slate-900 whitespace-nowrap",children:"Platform Fee"}),e.jsx("th",{className:"text-left px-6 py-3 text-sm font-semibold text-slate-900 whitespace-nowrap",children:"Status"}),e.jsx("th",{className:"text-left px-6 py-3 text-sm font-semibold text-slate-900 whitespace-nowrap",children:"Provider"}),e.jsx("th",{className:"text-left px-6 py-3 text-sm font-semibold text-slate-900 whitespace-nowrap",children:"Actions"})]})}),e.jsx("tbody",{className:"divide-y divide-slate-200",children:N.map(t=>e.jsxs("tr",{className:"hover:bg-slate-50",children:[e.jsxs("td",{className:"px-6 py-4",children:[e.jsx("div",{className:"font-medium text-slate-900 whitespace-nowrap",children:t.id}),e.jsx("div",{className:"text-sm text-slate-600 whitespace-nowrap",children:t.assignmentId})]}),e.jsxs("td",{className:"px-6 py-4",children:[e.jsx("div",{className:"text-sm text-slate-900 whitespace-nowrap",children:t.specialty}),e.jsx("div",{className:"text-sm text-slate-600 whitespace-nowrap",children:t.assignmentDates})]}),e.jsxs("td",{className:"px-6 py-4",children:[e.jsx("div",{className:"text-sm text-slate-900 whitespace-nowrap",children:t.physicianName}),e.jsx("div",{className:"text-sm text-slate-600 whitespace-nowrap",children:t.physicianId})]}),e.jsxs("td",{className:"px-6 py-4",children:[e.jsx("div",{className:"text-sm text-slate-900 whitespace-nowrap",children:t.facilityName}),e.jsx("div",{className:"text-sm text-slate-600 whitespace-nowrap",children:t.facilityId})]}),e.jsxs("td",{className:"px-6 py-4",children:[e.jsx("div",{className:"font-medium text-slate-900 whitespace-nowrap",children:l(t.totalAmount)}),e.jsxs("div",{className:"text-sm text-slate-600 whitespace-nowrap",children:["Payout: ",l(t.physicianPayout)]})]}),e.jsxs("td",{className:"px-6 py-4",children:[e.jsx("div",{className:"font-medium text-teal-600 whitespace-nowrap",children:l(t.platformFee)}),e.jsx("div",{className:"text-sm text-slate-600 whitespace-nowrap",children:"15%"})]}),e.jsx("td",{className:"px-6 py-4",children:e.jsx("span",{className:`px-3 py-1 text-xs rounded-full whitespace-nowrap ${b(t.escrowStatus)}`,children:t.escrowStatus})}),e.jsxs("td",{className:"px-6 py-4",children:[e.jsx("div",{className:"text-sm text-slate-900 whitespace-nowrap",children:t.escrowProvider}),e.jsx("div",{className:"text-sm text-slate-600 whitespace-nowrap",children:t.providerTransactionId})]}),e.jsx("td",{className:"px-6 py-4",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("button",{onClick:()=>c(t),className:"px-3 py-1 text-sm text-teal-600 hover:bg-teal-50 rounded-lg transition-colors whitespace-nowrap",children:"View Details"}),t.escrowStatus==="Held"&&e.jsx("button",{onClick:()=>S(t,"hold"),className:"px-3 py-1 text-sm text-red-600 hover:bg-red-50 rounded-lg transition-colors whitespace-nowrap",children:"Hold"}),(t.escrowStatus==="Held"||t.escrowStatus==="On Hold")&&e.jsx("button",{onClick:()=>S(t,"release"),className:"px-3 py-1 text-sm text-green-600 hover:bg-green-50 rounded-lg transition-colors whitespace-nowrap",children:"Release"})]})})]},t.id))})]})})}),r&&!w&&e.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-lg max-w-3xl w-full max-h-[90vh] overflow-y-auto",children:[e.jsx("div",{className:"p-6 border-b border-slate-200",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h3",{className:"text-xl font-bold text-slate-900",children:"Transaction Details"}),e.jsx("button",{onClick:()=>c(null),className:"w-8 h-8 flex items-center justify-center text-slate-400 hover:text-slate-600 rounded-lg hover:bg-slate-100 transition-colors",children:e.jsx("i",{className:"ri-close-line text-xl"})})]})}),e.jsxs("div",{className:"p-6 space-y-6",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-slate-900 mb-3",children:"Transaction Information"}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-sm text-slate-600",children:"Transaction ID"}),e.jsx("div",{className:"font-medium text-slate-900",children:r.id})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-sm text-slate-600",children:"Assignment ID"}),e.jsx("div",{className:"font-medium text-slate-900",children:r.assignmentId})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-sm text-slate-600",children:"Status"}),e.jsx("span",{className:`inline-block px-3 py-1 text-xs rounded-full ${b(r.escrowStatus)}`,children:r.escrowStatus})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-sm text-slate-600",children:"Escrow Provider"}),e.jsx("div",{className:"font-medium text-slate-900",children:r.escrowProvider})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-sm text-slate-600",children:"Provider Transaction ID"}),e.jsx("div",{className:"font-medium text-slate-900",children:r.providerTransactionId})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-sm text-slate-600",children:"Funded Date"}),e.jsx("div",{className:"font-medium text-slate-900",children:n(r.fundedDate)})]}),r.releaseDate&&e.jsxs("div",{children:[e.jsx("div",{className:"text-sm text-slate-600",children:"Release Date"}),e.jsx("div",{className:"font-medium text-slate-900",children:n(r.releaseDate)})]})]})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-slate-900 mb-3",children:"Parties Involved"}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"p-4 bg-slate-50 rounded-lg",children:[e.jsx("div",{className:"text-sm text-slate-600 mb-1",children:"Physician"}),e.jsx("div",{className:"font-medium text-slate-900",children:r.physicianName}),e.jsx("div",{className:"text-sm text-slate-600",children:r.physicianId})]}),e.jsxs("div",{className:"p-4 bg-slate-50 rounded-lg",children:[e.jsx("div",{className:"text-sm text-slate-600 mb-1",children:"Facility"}),e.jsx("div",{className:"font-medium text-slate-900",children:r.facilityName}),e.jsx("div",{className:"text-sm text-slate-600",children:r.facilityId})]})]})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-slate-900 mb-3",children:"Financial Breakdown"}),e.jsxs("div",{className:"space-y-2 p-4 bg-slate-50 rounded-lg",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-slate-600",children:"Total Amount"}),e.jsx("span",{className:"font-medium text-slate-900",children:l(r.totalAmount)})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-slate-600",children:"Platform Fee (15%)"}),e.jsxs("span",{className:"font-medium text-teal-600",children:["-",l(r.platformFee)]})]}),e.jsxs("div",{className:"border-t border-slate-200 pt-2 flex justify-between",children:[e.jsx("span",{className:"font-semibold text-slate-900",children:"Physician Payout"}),e.jsx("span",{className:"font-semibold text-slate-900",children:l(r.physicianPayout)})]})]})]}),r.escrowStatus==="On Hold"&&r.holdReason&&e.jsx("div",{className:"p-4 bg-red-50 border border-red-200 rounded-lg",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("i",{className:"ri-alert-line text-red-600 text-xl mt-0.5"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("div",{className:"font-semibold text-red-900 mb-1",children:"Payment Hold Active"}),e.jsx("div",{className:"text-sm text-red-800 mb-2",children:r.holdReason}),e.jsxs("div",{className:"text-sm text-red-700",children:["Held by: ",r.holdBy]})]})]})}),r.lastAction&&e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-slate-900 mb-3",children:"Last Action"}),e.jsx("div",{className:"p-4 bg-slate-50 rounded-lg",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("i",{className:"ri-history-line text-slate-600 text-xl mt-0.5"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("div",{className:"font-medium text-slate-900",children:r.lastAction}),e.jsxs("div",{className:"text-sm text-slate-600 mt-1",children:["By: ",r.lastActionBy," â€¢ ",n(r.lastActionDate)]})]})]})})]})]}),e.jsxs("div",{className:"p-6 border-t border-slate-200 flex justify-end gap-3",children:[e.jsx("button",{onClick:()=>c(null),className:"px-4 py-2 text-slate-700 hover:bg-slate-100 rounded-lg transition-colors whitespace-nowrap",children:"Close"}),r.escrowStatus==="Held"&&e.jsx("button",{onClick:()=>S(r,"hold"),className:"px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors whitespace-nowrap",children:"Hold Payment"}),(r.escrowStatus==="Held"||r.escrowStatus==="On Hold")&&e.jsx("button",{onClick:()=>S(r,"release"),className:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors whitespace-nowrap",children:"Release Payment"})]})]})})]}),i==="fees"&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[e.jsxs("div",{className:"bg-white rounded-lg border border-slate-200 p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("span",{className:"text-slate-600 text-sm",children:"Total Fees Collected"}),e.jsx("div",{className:"w-10 h-10 bg-teal-100 rounded-lg flex items-center justify-center",children:e.jsx("i",{className:"ri-money-dollar-circle-line text-teal-600 text-xl"})})]}),e.jsx("div",{className:"text-2xl font-bold text-slate-900",children:l(A.platformFeesCollected)}),e.jsxs("div",{className:"text-sm text-slate-500 mt-1",children:["From ",D.filter(t=>t.status==="Collected").length," assignments"]})]}),e.jsxs("div",{className:"bg-white rounded-lg border border-slate-200 p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("span",{className:"text-slate-600 text-sm",children:"Average Fee per Assignment"}),e.jsx("div",{className:"w-10 h-10 bg-blue-100 rounded-lg flex items-center justify-center",children:e.jsx("i",{className:"ri-percent-line text-blue-600 text-xl"})})]}),e.jsx("div",{className:"text-2xl font-bold text-slate-900",children:l(A.platformFeesCollected/D.filter(t=>t.status==="Collected").length)}),e.jsx("div",{className:"text-sm text-slate-500 mt-1",children:"15% standard rate"})]}),e.jsxs("div",{className:"bg-white rounded-lg border border-slate-200 p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("span",{className:"text-slate-600 text-sm",children:"Pending Collection"}),e.jsx("div",{className:"w-10 h-10 bg-amber-100 rounded-lg flex items-center justify-center",children:e.jsx("i",{className:"ri-time-line text-amber-600 text-xl"})})]}),e.jsx("div",{className:"text-2xl font-bold text-slate-900",children:l(D.filter(t=>t.status==="Pending").reduce((t,f)=>t+f.feeAmount,0))}),e.jsxs("div",{className:"text-sm text-slate-500 mt-1",children:[D.filter(t=>t.status==="Pending").length," pending"]})]})]}),e.jsxs("div",{className:"bg-white rounded-lg border border-slate-200 overflow-hidden",children:[e.jsxs("div",{className:"p-6 border-b border-slate-200",children:[e.jsx("h3",{className:"text-lg font-semibold text-slate-900",children:"Platform Fee Records"}),e.jsx("p",{className:"text-sm text-slate-600 mt-1",children:"Automatic 15% fee collection from all assignments"})]}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-slate-50 border-b border-slate-200",children:e.jsxs("tr",{children:[e.jsx("th",{className:"text-left px-6 py-3 text-sm font-semibold text-slate-900 whitespace-nowrap",children:"Fee ID"}),e.jsx("th",{className:"text-left px-6 py-3 text-sm font-semibold text-slate-900 whitespace-nowrap",children:"Assignment"}),e.jsx("th",{className:"text-left px-6 py-3 text-sm font-semibold text-slate-900 whitespace-nowrap",children:"Facility"}),e.jsx("th",{className:"text-left px-6 py-3 text-sm font-semibold text-slate-900 whitespace-nowrap",children:"Physician"}),e.jsx("th",{className:"text-left px-6 py-3 text-sm font-semibold text-slate-900 whitespace-nowrap",children:"Total Amount"}),e.jsx("th",{className:"text-left px-6 py-3 text-sm font-semibold text-slate-900 whitespace-nowrap",children:"Fee %"}),e.jsx("th",{className:"text-left px-6 py-3 text-sm font-semibold text-slate-900 whitespace-nowrap",children:"Fee Amount"}),e.jsx("th",{className:"text-left px-6 py-3 text-sm font-semibold text-slate-900 whitespace-nowrap",children:"Collected Date"}),e.jsx("th",{className:"text-left px-6 py-3 text-sm font-semibold text-slate-900 whitespace-nowrap",children:"Status"})]})}),e.jsx("tbody",{className:"divide-y divide-slate-200",children:D.map(t=>e.jsxs("tr",{className:"hover:bg-slate-50",children:[e.jsx("td",{className:"px-6 py-4",children:e.jsx("div",{className:"font-medium text-slate-900 whitespace-nowrap",children:t.id})}),e.jsx("td",{className:"px-6 py-4",children:e.jsx("div",{className:"text-sm text-slate-900 whitespace-nowrap",children:t.assignmentId})}),e.jsx("td",{className:"px-6 py-4",children:e.jsx("div",{className:"text-sm text-slate-900 whitespace-nowrap",children:t.facilityName})}),e.jsx("td",{className:"px-6 py-4",children:e.jsx("div",{className:"text-sm text-slate-900 whitespace-nowrap",children:t.physicianName})}),e.jsx("td",{className:"px-6 py-4",children:e.jsx("div",{className:"font-medium text-slate-900 whitespace-nowrap",children:l(t.totalAmount)})}),e.jsx("td",{className:"px-6 py-4",children:e.jsxs("div",{className:"text-sm text-slate-900 whitespace-nowrap",children:[t.feePercentage,"%"]})}),e.jsx("td",{className:"px-6 py-4",children:e.jsx("div",{className:"font-medium text-teal-600 whitespace-nowrap",children:l(t.feeAmount)})}),e.jsx("td",{className:"px-6 py-4",children:e.jsx("div",{className:"text-sm text-slate-900 whitespace-nowrap",children:n(t.collectedDate)})}),e.jsx("td",{className:"px-6 py-4",children:e.jsx("span",{className:`px-3 py-1 text-xs rounded-full whitespace-nowrap ${t.status==="Collected"?"bg-green-100 text-green-800":t.status==="Pending"?"bg-amber-100 text-amber-800":"bg-red-100 text-red-800"}`,children:t.status})})]},t.id))})]})})]}),e.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-6",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("i",{className:"ri-information-line text-blue-600 text-xl mt-0.5"}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-blue-900 mb-2",children:"Automatic Fee Collection"}),e.jsx("p",{className:"text-sm text-blue-800 mb-2",children:"Platform fees are automatically calculated and collected during the escrow funding process:"}),e.jsxs("ul",{className:"text-sm text-blue-800 space-y-1 list-disc list-inside",children:[e.jsx("li",{children:"Standard rate: 15% of total assignment amount"}),e.jsx("li",{children:"Fee is deducted before physician payout calculation"}),e.jsx("li",{children:"Transparent reporting for all parties"}),e.jsx("li",{children:"No manual intervention required"}),e.jsx("li",{children:"All fee transactions are logged and auditable"})]})]})]})})]}),i==="alerts"&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[e.jsxs("div",{className:"bg-white rounded-lg border border-slate-200 p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("span",{className:"text-slate-600 text-sm",children:"Total Alerts"}),e.jsx("div",{className:"w-10 h-10 bg-slate-100 rounded-lg flex items-center justify-center",children:e.jsx("i",{className:"ri-notification-line text-slate-600 text-xl"})})]}),e.jsx("div",{className:"text-2xl font-bold text-slate-900",children:T.length})]}),e.jsxs("div",{className:"bg-white rounded-lg border border-slate-200 p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("span",{className:"text-slate-600 text-sm",children:"Active Alerts"}),e.jsx("div",{className:"w-10 h-10 bg-red-100 rounded-lg flex items-center justify-center",children:e.jsx("i",{className:"ri-alert-line text-red-600 text-xl"})})]}),e.jsx("div",{className:"text-2xl font-bold text-slate-900",children:T.filter(t=>!t.resolved).length})]}),e.jsxs("div",{className:"bg-white rounded-lg border border-slate-200 p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("span",{className:"text-slate-600 text-sm",children:"Critical"}),e.jsx("div",{className:"w-10 h-10 bg-red-100 rounded-lg flex items-center justify-center",children:e.jsx("i",{className:"ri-error-warning-line text-red-600 text-xl"})})]}),e.jsx("div",{className:"text-2xl font-bold text-slate-900",children:T.filter(t=>t.severity==="Critical"&&!t.resolved).length})]}),e.jsxs("div",{className:"bg-white rounded-lg border border-slate-200 p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("span",{className:"text-slate-600 text-sm",children:"Resolved"}),e.jsx("div",{className:"w-10 h-10 bg-green-100 rounded-lg flex items-center justify-center",children:e.jsx("i",{className:"ri-check-line text-green-600 text-xl"})})]}),e.jsx("div",{className:"text-2xl font-bold text-slate-900",children:T.filter(t=>t.resolved).length})]})]}),e.jsx("div",{className:"space-y-4",children:T.map(t=>e.jsx("div",{className:`bg-white rounded-lg border-2 p-6 ${R(t.severity)}`,children:e.jsxs("div",{className:"flex items-start justify-between gap-4",children:[e.jsxs("div",{className:"flex items-start gap-4 flex-1",children:[e.jsx("div",{className:`w-12 h-12 rounded-lg flex items-center justify-center ${t.severity==="Critical"?"bg-red-100":t.severity==="High"?"bg-orange-100":t.severity==="Medium"?"bg-amber-100":"bg-blue-100"}`,children:e.jsx("i",{className:`text-2xl ${t.severity==="Critical"?"ri-error-warning-line text-red-600":t.severity==="High"?"ri-alert-line text-orange-600":t.severity==="Medium"?"ri-information-line text-amber-600":"ri-notification-line text-blue-600"}`})}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[e.jsx("h4",{className:"font-semibold text-slate-900",children:t.message}),e.jsx("span",{className:`px-2 py-1 text-xs rounded-full ${t.severity==="Critical"?"bg-red-100 text-red-800":t.severity==="High"?"bg-orange-100 text-orange-800":t.severity==="Medium"?"bg-amber-100 text-amber-800":"bg-blue-100 text-blue-800"}`,children:t.severity}),e.jsx("span",{className:`px-2 py-1 text-xs rounded-full ${t.resolved?"bg-green-100 text-green-800":"bg-slate-100 text-slate-800"}`,children:t.resolved?"Resolved":"Active"})]}),e.jsx("div",{className:"text-sm text-slate-600 mb-2",children:t.type}),e.jsx("p",{className:"text-sm text-slate-700 mb-3",children:t.details}),e.jsx("div",{className:"flex items-center gap-4 text-sm text-slate-600",children:e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx("i",{className:"ri-time-line"}),e.jsx("span",{children:n(t.timestamp)})]})})]})]}),!t.resolved&&e.jsx("button",{className:"px-4 py-2 bg-teal-600 text-white rounded-lg hover:bg-teal-700 transition-colors whitespace-nowrap",children:"Mark Resolved"})]})},t.id))}),e.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-6",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("i",{className:"ri-information-line text-blue-600 text-xl mt-0.5"}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-blue-900 mb-2",children:"Financial Alert System"}),e.jsx("p",{className:"text-sm text-blue-800 mb-2",children:"The system automatically monitors all financial operations and generates alerts for:"}),e.jsxs("ul",{className:"text-sm text-blue-800 space-y-1 list-disc list-inside",children:[e.jsx("li",{children:"Payment processing failures or delays"}),e.jsx("li",{children:"API connection issues with payment providers"}),e.jsx("li",{children:"Manual payment holds or releases by admins"}),e.jsx("li",{children:"Escrow funding or release anomalies"}),e.jsx("li",{children:"Fee collection failures"}),e.jsx("li",{children:"Unusual transaction patterns"})]})]})]})})]}),w&&r&&e.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-lg max-w-lg w-full",children:[e.jsx("div",{className:"p-6 border-b border-slate-200",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h3",{className:"text-xl font-bold text-slate-900",children:j==="hold"?"Hold Payment":"Release Payment"}),e.jsx("button",{onClick:()=>{v(!1),p(null),k("")},className:"w-8 h-8 flex items-center justify-center text-slate-400 hover:text-slate-600 rounded-lg hover:bg-slate-100 transition-colors",children:e.jsx("i",{className:"ri-close-line text-xl"})})]})}),e.jsxs("div",{className:"p-6 space-y-4",children:[e.jsx("div",{className:`p-4 rounded-lg border-2 ${j==="hold"?"bg-red-50 border-red-200":"bg-green-50 border-green-200"}`,children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("i",{className:`text-xl mt-0.5 ${j==="hold"?"ri-alert-line text-red-600":"ri-information-line text-green-600"}`}),e.jsxs("div",{children:[e.jsx("div",{className:`font-semibold mb-1 ${j==="hold"?"text-red-900":"text-green-900"}`,children:j==="hold"?"Warning: Payment Hold":"Confirm Payment Release"}),e.jsx("p",{className:`text-sm ${j==="hold"?"text-red-800":"text-green-800"}`,children:j==="hold"?"This action will prevent the escrowed funds from being released to the physician. This should only be done in cases of disputes or policy violations.":"This action will release the escrowed funds to the physician. This action cannot be undone."})]})]})}),e.jsxs("div",{className:"p-4 bg-slate-50 rounded-lg space-y-2",children:[e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{className:"text-slate-600",children:"Transaction ID:"}),e.jsx("span",{className:"font-medium text-slate-900",children:r.id})]}),e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{className:"text-slate-600",children:"Amount:"}),e.jsx("span",{className:"font-medium text-slate-900",children:l(r.totalAmount)})]}),e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{className:"text-slate-600",children:"Physician Payout:"}),e.jsx("span",{className:"font-medium text-slate-900",children:l(r.physicianPayout)})]})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-slate-900 mb-2",children:["Justification ",e.jsx("span",{className:"text-red-600",children:"*"})]}),e.jsx("textarea",{value:y,onChange:t=>k(t.target.value),placeholder:`Provide detailed justification for this ${j==="hold"?"payment hold":"payment release"}...`,rows:4,className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-teal-500 focus:border-transparent resize-none"}),e.jsx("p",{className:"text-sm text-slate-600 mt-1",children:"This justification will be permanently logged with your admin identity and timestamp."})]}),e.jsx("div",{className:"p-4 bg-blue-50 border border-blue-200 rounded-lg",children:e.jsxs("div",{className:"text-sm text-blue-900",children:[e.jsx("div",{className:"font-semibold mb-1",children:"Action will be logged as:"}),e.jsxs("div",{children:["Admin: ",I.name]}),e.jsxs("div",{children:["Role: ",I.role]}),e.jsxs("div",{children:["Session: ",I.sessionId]}),e.jsxs("div",{children:["Timestamp: ",new Date().toLocaleString()]})]})})]}),e.jsxs("div",{className:"p-6 border-t border-slate-200 flex justify-end gap-3",children:[e.jsx("button",{onClick:()=>{v(!1),p(null),k("")},className:"px-4 py-2 text-slate-700 hover:bg-slate-100 rounded-lg transition-colors whitespace-nowrap",children:"Cancel"}),e.jsx("button",{onClick:o,disabled:!y.trim(),className:`px-4 py-2 rounded-lg transition-colors whitespace-nowrap ${j==="hold"?"bg-red-600 hover:bg-red-700 text-white disabled:bg-slate-300 disabled:cursor-not-allowed":"bg-green-600 hover:bg-green-700 text-white disabled:bg-slate-300 disabled:cursor-not-allowed"}`,children:j==="hold"?"Confirm Hold":"Confirm Release"})]})]})})]})};function ie(){const[i,m]=x.useState(G),[r,c]=x.useState(null),[w,v]=x.useState(!1),[j,p]=x.useState("all"),[y,k]=x.useState("all"),g=q,h=o=>{m(N=>N.map(b=>b.id===o?{...b,status:"approved",approvedAt:new Date().toISOString(),approvedBy:"admin-001"}:b)),alert("Vendor approved successfully")},C=o=>{prompt("Enter reason for suspension:")&&(m(b=>b.map(R=>R.id===o?{...R,status:"suspended",updatedAt:new Date().toISOString()}:R)),alert("Vendor suspended"))},u=o=>{confirm("Are you sure you want to remove this vendor? This action cannot be undone.")&&(m(N=>N.map(b=>b.id===o?{...b,status:"removed",updatedAt:new Date().toISOString()}:b)),alert("Vendor removed from platform"))},A=o=>{alert("Data access scope updated. All changes are logged and auditable.")},F=o=>{switch(o){case"insurance":return"ri-shield-check-line";case"travel":return"ri-flight-takeoff-line";case"lodging":return"ri-hotel-line";default:return"ri-service-line"}},D=o=>{switch(o){case"insurance":return"Insurance";case"travel":return"Travel";case"lodging":return"Lodging";default:return"Other"}},T=o=>{switch(o){case"approved":return"bg-green-100 text-green-700";case"pending_approval":return"bg-amber-100 text-amber-700";case"suspended":return"bg-red-100 text-red-700";case"removed":return"bg-gray-100 text-gray-700";default:return"bg-gray-100 text-gray-700"}},I=o=>o>=95?"text-green-600":o>=90?"text-teal-600":o>=85?"text-blue-600":o>=80?"text-amber-600":"text-red-600",l=o=>{switch(o){case"improving":return"ri-arrow-up-line text-green-600";case"declining":return"ri-arrow-down-line text-red-600";default:return"ri-subtract-line text-gray-600"}},n=i.filter(o=>!(j!=="all"&&o.type!==j||y!=="all"&&o.status!==y)),S=o=>g.find(N=>N.vendorId===o);return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Vendor Management"}),e.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Approve, monitor, and manage third-party service vendors"})]}),e.jsxs("button",{onClick:()=>{c(null),v(!0)},className:"px-4 py-2 bg-teal-600 text-white text-sm font-medium rounded-lg hover:bg-teal-700 transition-colors whitespace-nowrap",children:[e.jsx("i",{className:"ri-add-line mr-2"}),"Add Vendor"]})]}),e.jsxs("div",{className:"grid grid-cols-4 gap-6",children:[e.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Total Vendors"}),e.jsx("p",{className:"text-3xl font-bold text-gray-900 mt-2",children:i.length})]}),e.jsx("div",{className:"w-12 h-12 bg-blue-100 rounded-lg flex items-center justify-center",children:e.jsx("i",{className:"ri-store-line text-2xl text-blue-600"})})]})}),e.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Approved"}),e.jsx("p",{className:"text-3xl font-bold text-green-600 mt-2",children:i.filter(o=>o.status==="approved").length})]}),e.jsx("div",{className:"w-12 h-12 bg-green-100 rounded-lg flex items-center justify-center",children:e.jsx("i",{className:"ri-checkbox-circle-line text-2xl text-green-600"})})]})}),e.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Pending Approval"}),e.jsx("p",{className:"text-3xl font-bold text-amber-600 mt-2",children:i.filter(o=>o.status==="pending_approval").length})]}),e.jsx("div",{className:"w-12 h-12 bg-amber-100 rounded-lg flex items-center justify-center",children:e.jsx("i",{className:"ri-time-line text-2xl text-amber-600"})})]})}),e.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Avg Response Time"}),e.jsxs("p",{className:"text-3xl font-bold text-teal-600 mt-2",children:[(i.reduce((o,N)=>o+N.averageResponseTime,0)/i.length).toFixed(1),"h"]})]}),e.jsx("div",{className:"w-12 h-12 bg-teal-100 rounded-lg flex items-center justify-center",children:e.jsx("i",{className:"ri-timer-line text-2xl text-teal-600"})})]})})]}),e.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-4",children:e.jsxs("div",{className:"flex gap-4",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-2",children:"Vendor Type"}),e.jsxs("select",{value:j,onChange:o=>p(o.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm focus:ring-2 focus:ring-teal-500 focus:border-transparent",children:[e.jsx("option",{value:"all",children:"All Types"}),e.jsx("option",{value:"insurance",children:"Insurance"}),e.jsx("option",{value:"travel",children:"Travel"}),e.jsx("option",{value:"lodging",children:"Lodging"}),e.jsx("option",{value:"other",children:"Other"})]})]}),e.jsxs("div",{className:"flex-1",children:[e.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-2",children:"Status"}),e.jsxs("select",{value:y,onChange:o=>k(o.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm focus:ring-2 focus:ring-teal-500 focus:border-transparent",children:[e.jsx("option",{value:"all",children:"All Statuses"}),e.jsx("option",{value:"approved",children:"Approved"}),e.jsx("option",{value:"pending_approval",children:"Pending Approval"}),e.jsx("option",{value:"suspended",children:"Suspended"}),e.jsx("option",{value:"removed",children:"Removed"})]})]})]})}),e.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200",children:e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-gray-50 border-b border-gray-200",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-700 uppercase tracking-wider",children:"Vendor"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-700 uppercase tracking-wider",children:"Type"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-700 uppercase tracking-wider",children:"Status"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-700 uppercase tracking-wider",children:"Reliability"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-700 uppercase tracking-wider",children:"Performance"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-700 uppercase tracking-wider",children:"Actions"})]})}),e.jsx("tbody",{className:"divide-y divide-gray-200",children:n.map(o=>{const N=S(o.id);return e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"px-6 py-4",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:`w-10 h-10 rounded-lg flex items-center justify-center flex-shrink-0 ${o.status==="approved"?"bg-teal-100":"bg-gray-100"}`,children:e.jsx("i",{className:`${F(o.type)} text-xl ${o.status==="approved"?"text-teal-600":"text-gray-400"}`})}),e.jsxs("div",{className:"ml-3",children:[e.jsx("p",{className:"text-sm font-semibold text-gray-900",children:o.name}),e.jsx("p",{className:"text-xs text-gray-600",children:o.email})]})]})}),e.jsx("td",{className:"px-6 py-4",children:e.jsx("span",{className:"text-sm text-gray-900",children:D(o.type)})}),e.jsx("td",{className:"px-6 py-4",children:e.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full whitespace-nowrap ${T(o.status)}`,children:o.status.replace("_"," ")})}),e.jsxs("td",{className:"px-6 py-4",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("span",{className:`text-lg font-bold ${I(o.reliabilityScore)}`,children:o.reliabilityScore}),e.jsx("span",{className:"text-xs text-gray-500 ml-1",children:"/100"})]}),e.jsx("div",{className:"flex items-center mt-1",children:e.jsx("div",{className:"w-24 h-1.5 bg-gray-200 rounded-full overflow-hidden",children:e.jsx("div",{className:`h-full ${o.reliabilityScore>=95?"bg-green-600":o.reliabilityScore>=90?"bg-teal-600":o.reliabilityScore>=85?"bg-blue-600":o.reliabilityScore>=80?"bg-amber-600":"bg-red-600"}`,style:{width:`${o.reliabilityScore}%`}})})})]}),e.jsx("td",{className:"px-6 py-4",children:N?e.jsxs("div",{className:"space-y-1",children:[e.jsxs("div",{className:"flex items-center text-xs",children:[e.jsx("span",{className:"text-gray-600 w-20",children:"Response:"}),e.jsxs("span",{className:"font-medium text-gray-900",children:[N.averageResponseTime.toFixed(1),"h"]})]}),e.jsxs("div",{className:"flex items-center text-xs",children:[e.jsx("span",{className:"text-gray-600 w-20",children:"Accept Rate:"}),e.jsxs("span",{className:"font-medium text-gray-900",children:[N.quoteAcceptanceRate.toFixed(1),"%"]})]}),e.jsxs("div",{className:"flex items-center text-xs",children:[e.jsx("span",{className:"text-gray-600 w-20",children:"Trend:"}),e.jsx("i",{className:`${l(N.reliabilityTrend)} text-sm`})]})]}):e.jsx("span",{className:"text-xs text-gray-500",children:"No data"})}),e.jsx("td",{className:"px-6 py-4",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("button",{onClick:()=>{c(o),v(!0)},className:"w-8 h-8 flex items-center justify-center text-gray-600 hover:text-teal-600 hover:bg-teal-50 rounded-lg transition-colors",title:"View Details",children:e.jsx("i",{className:"ri-eye-line text-lg"})}),o.status==="pending_approval"&&e.jsx("button",{onClick:()=>h(o.id),className:"w-8 h-8 flex items-center justify-center text-gray-600 hover:text-green-600 hover:bg-green-50 rounded-lg transition-colors",title:"Approve Vendor",children:e.jsx("i",{className:"ri-check-line text-lg"})}),o.status==="approved"&&e.jsx("button",{onClick:()=>C(o.id),className:"w-8 h-8 flex items-center justify-center text-gray-600 hover:text-amber-600 hover:bg-amber-50 rounded-lg transition-colors",title:"Suspend Vendor",children:e.jsx("i",{className:"ri-pause-circle-line text-lg"})}),e.jsx("button",{onClick:()=>u(o.id),className:"w-8 h-8 flex items-center justify-center text-gray-600 hover:text-red-600 hover:bg-red-50 rounded-lg transition-colors",title:"Remove Vendor",children:e.jsx("i",{className:"ri-delete-bin-line text-lg"})})]})})]},o.id)})})]})})}),w&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-lg max-w-4xl w-full max-h-[90vh] overflow-y-auto",children:[e.jsxs("div",{className:"p-6 border-b border-gray-200 flex items-center justify-between sticky top-0 bg-white z-10",children:[e.jsx("h3",{className:"text-xl font-semibold text-gray-900",children:r?"Vendor Details":"Add New Vendor"}),e.jsx("button",{onClick:()=>v(!1),className:"w-8 h-8 flex items-center justify-center text-gray-400 hover:text-gray-600 transition-colors",children:e.jsx("i",{className:"ri-close-line text-2xl"})})]}),r&&e.jsxs("div",{className:"p-6 space-y-6",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"text-sm font-semibold text-gray-900 mb-4",children:"Basic Information"}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Vendor Name"}),e.jsx("p",{className:"text-sm text-gray-900",children:r.name})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Type"}),e.jsx("p",{className:"text-sm text-gray-900",children:D(r.type)})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Email"}),e.jsx("p",{className:"text-sm text-gray-900",children:r.email})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Phone"}),e.jsx("p",{className:"text-sm text-gray-900",children:r.phone})]}),r.website&&e.jsxs("div",{className:"col-span-2",children:[e.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Website"}),e.jsx("a",{href:r.website,target:"_blank",rel:"noopener noreferrer",className:"text-sm text-teal-600 hover:underline",children:r.website})]}),e.jsxs("div",{className:"col-span-2",children:[e.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Description"}),e.jsx("p",{className:"text-sm text-gray-900",children:r.description})]})]})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-sm font-semibold text-gray-900 mb-3",children:"Services Offered"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:r.servicesOffered.map((o,N)=>e.jsx("span",{className:"px-3 py-1 bg-teal-100 text-teal-700 text-xs font-medium rounded-full",children:o},N))})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-sm font-semibold text-gray-900 mb-3",children:"Data Access Scope"}),e.jsx("div",{className:"bg-amber-50 border border-amber-200 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-start",children:[e.jsx("i",{className:"ri-shield-keyhole-line text-amber-600 mt-0.5 mr-3"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-xs font-medium text-amber-900 mb-2",children:"Authorized Data Access"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:r.dataAccessScope.map((o,N)=>e.jsx("span",{className:"px-2 py-1 bg-white border border-amber-300 text-amber-800 text-xs rounded",children:o.replace("_"," ")},N))}),e.jsxs("button",{onClick:()=>A(r.id),className:"mt-3 text-xs text-amber-700 hover:text-amber-900 font-medium",children:[e.jsx("i",{className:"ri-edit-line mr-1"}),"Update Access Scope"]})]})]})})]}),(()=>{const o=S(r.id);return o?e.jsxs("div",{children:[e.jsx("h4",{className:"text-sm font-semibold text-gray-900 mb-4",children:"Performance Metrics"}),e.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[e.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[e.jsx("p",{className:"text-xs text-gray-600 mb-1",children:"Avg Response Time"}),e.jsxs("p",{className:"text-2xl font-bold text-gray-900",children:[o.averageResponseTime.toFixed(1),"h"]})]}),e.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[e.jsx("p",{className:"text-xs text-gray-600 mb-1",children:"Quote Accept Rate"}),e.jsxs("p",{className:"text-2xl font-bold text-gray-900",children:[o.quoteAcceptanceRate.toFixed(1),"%"]})]}),e.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[e.jsx("p",{className:"text-xs text-gray-600 mb-1",children:"Completion Rate"}),e.jsxs("p",{className:"text-2xl font-bold text-gray-900",children:[o.serviceCompletionRate.toFixed(1),"%"]})]}),e.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[e.jsx("p",{className:"text-xs text-gray-600 mb-1",children:"Total Quotes"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:o.totalQuotesSubmitted})]}),e.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[e.jsx("p",{className:"text-xs text-gray-600 mb-1",children:"Revenue Generated"}),e.jsxs("p",{className:"text-2xl font-bold text-gray-900",children:["$",(o.revenueGenerated/1e3).toFixed(0),"K"]})]}),e.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[e.jsx("p",{className:"text-xs text-gray-600 mb-1",children:"Platform Fees"}),e.jsxs("p",{className:"text-2xl font-bold text-teal-600",children:["$",(o.platformFeesCollected/1e3).toFixed(0),"K"]})]})]})]}):null})(),r.approvedAt&&e.jsx("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-start",children:[e.jsx("i",{className:"ri-checkbox-circle-line text-green-600 mt-0.5 mr-3"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs font-medium text-green-900",children:"Approved Vendor"}),e.jsxs("p",{className:"text-xs text-green-700 mt-1",children:["Approved on ",new Date(r.approvedAt).toLocaleDateString()," by ",r.approvedBy]})]})]})})]}),e.jsxs("div",{className:"p-6 border-t border-gray-200 flex gap-3 sticky bottom-0 bg-white",children:[e.jsx("button",{onClick:()=>v(!1),className:"flex-1 px-6 py-2 bg-white border border-gray-300 text-gray-700 text-sm font-medium rounded-lg hover:bg-gray-50 transition-colors whitespace-nowrap",children:"Close"}),r&&r.status==="approved"&&e.jsx("button",{onClick:()=>{C(r.id),v(!1)},className:"flex-1 px-6 py-2 bg-amber-600 text-white text-sm font-medium rounded-lg hover:bg-amber-700 transition-colors whitespace-nowrap",children:"Suspend Vendor"})]})]})})]})}function re({session:i}){const[m,r]=x.useState("flagged"),[c,w]=x.useState(""),[v,j]=x.useState("all"),[p,y]=x.useState("all"),[k,g]=x.useState("all"),[h,C]=x.useState(null),[u,A]=x.useState(!1),[F,D]=x.useState(!1),[T,I]=x.useState("approve"),[l,n]=x.useState(""),[S]=x.useState([{id:"FLAG-001",type:"job_posting",contentId:"POST-1247",reportedBy:"Auto-Detection System",reportedAt:new Date(Date.now()-7200*1e3).toISOString(),reason:"Suspicious compensation rate - significantly above market average",severity:"high",status:"pending",details:{title:"Emergency Medicine Physician - Urgent Need",description:"Offering $15,000/day for 7-day assignment",facilityName:"Metro General Hospital",specialty:"Emergency Medicine",flagCount:1,autoFlagged:!0,fraudScore:78}},{id:"FLAG-002",type:"profile",contentId:"PHY-892",reportedBy:"Facility Admin (FAC-445)",reportedAt:new Date(Date.now()-300*60*1e3).toISOString(),reason:"Inconsistent credentials - license number does not match state records",severity:"critical",status:"under_review",details:{physicianName:"Dr. John Smith",specialty:"Cardiology",flagCount:3,autoFlagged:!1,fraudScore:92}},{id:"FLAG-003",type:"job_posting",contentId:"POST-1189",reportedBy:"Physician (PHY-334)",reportedAt:new Date(Date.now()-480*60*1e3).toISOString(),reason:"Misleading job description - actual duties differ from posting",severity:"medium",status:"pending",details:{title:"Hospitalist - Day Shift",description:"Standard hospitalist duties, 12-hour shifts",facilityName:"Riverside Medical Center",specialty:"Internal Medicine",flagCount:2,autoFlagged:!1}},{id:"FLAG-004",type:"profile",contentId:"FAC-223",reportedBy:"Auto-Detection System",reportedAt:new Date(Date.now()-720*60*1e3).toISOString(),reason:"Multiple failed payment attempts - potential fraud",severity:"critical",status:"under_review",details:{facilityName:"QuickCare Urgent Center",flagCount:5,autoFlagged:!0,fraudScore:95}},{id:"FLAG-005",type:"message",contentId:"MSG-5621",reportedBy:"Physician (PHY-778)",reportedAt:new Date(Date.now()-1440*60*1e3).toISOString(),reason:"Attempt to bypass platform - facility requesting direct contact",severity:"high",status:"pending",details:{facilityName:"Lakeside Hospital",physicianName:"Dr. Sarah Johnson",flagCount:1,autoFlagged:!1}},{id:"FLAG-006",type:"job_posting",contentId:"POST-1056",reportedBy:"Compliance System",reportedAt:new Date(Date.now()-2880*60*1e3).toISOString(),reason:"Missing required compliance documentation",severity:"low",status:"resolved",details:{title:"Anesthesiologist - Surgical Center",facilityName:"Precision Surgery Center",specialty:"Anesthesiology",flagCount:1,autoFlagged:!0},reviewedBy:"admin@platform.com",reviewedAt:new Date(Date.now()-2160*60*1e3).toISOString(),resolution:"Facility uploaded missing documentation. Issue resolved."}]),[o]=x.useState([{id:"FRAUD-001",type:"credential_mismatch",severity:"critical",score:95,entity:"Physician Profile",entityId:"PHY-892",name:"Dr. John Smith",details:"License number verification failed across 3 state databases",detectedAt:new Date(Date.now()-300*60*1e3).toISOString(),status:"active"},{id:"FRAUD-002",type:"payment_fraud",severity:"critical",score:95,entity:"Facility Account",entityId:"FAC-223",name:"QuickCare Urgent Center",details:"5 failed payment attempts with different cards in 24 hours",detectedAt:new Date(Date.now()-720*60*1e3).toISOString(),status:"active"},{id:"FRAUD-003",type:"suspicious_pricing",severity:"high",score:78,entity:"Job Posting",entityId:"POST-1247",name:"Emergency Medicine Physician - Urgent Need",details:"Compensation 300% above market average for specialty and location",detectedAt:new Date(Date.now()-7200*1e3).toISOString(),status:"active"},{id:"FRAUD-004",type:"duplicate_account",severity:"medium",score:65,entity:"Physician Profile",entityId:"PHY-1034",name:"Dr. Michael Chen",details:"Similar profile information to existing account PHY-445",detectedAt:new Date(Date.now()-1080*60*1e3).toISOString(),status:"investigating"},{id:"FRAUD-005",type:"platform_bypass",severity:"high",score:82,entity:"Message Thread",entityId:"MSG-5621",name:"Lakeside Hospital <> Dr. Sarah Johnson",details:"Detected exchange of personal contact information and direct payment discussion",detectedAt:new Date(Date.now()-1440*60*1e3).toISOString(),status:"active"}]),N=S.filter(s=>{const P=s.contentId.toLowerCase().includes(c.toLowerCase())||s.details.title?.toLowerCase().includes(c.toLowerCase())||s.details.facilityName?.toLowerCase().includes(c.toLowerCase())||s.details.physicianName?.toLowerCase().includes(c.toLowerCase()),L=v==="all"||s.type===v,d=p==="all"||s.severity===p,a=k==="all"||s.status===k;return P&&L&&d&&a}),b=(s,P)=>{C(s),I(P),D(!0),n("")},R=()=>{if(!h||!i||!l.trim())return;const s={approve:"CONTENT_APPROVED",remove:"CONTENT_REMOVED",suspend_user:"USER_SUSPENDED",dismiss:"FLAG_DISMISSED"};$.log(i.adminId,i.adminEmail,i.adminRole,s[T],"content_moderation",h.id,{contentType:h.type,contentId:h.contentId,action:T,reason:h.reason,severity:h.severity,justification:l,timestamp:new Date().toISOString()},i.sessionId),D(!1),C(null),n("")},t=s=>{switch(s){case"critical":return"red";case"high":return"orange";case"medium":return"amber";case"low":return"blue";default:return"slate"}},f=s=>{switch(s){case"resolved":return"green";case"under_review":return"blue";case"pending":return"amber";case"dismissed":return"slate";case"active":return"red";case"investigating":return"purple";default:return"slate"}},M=s=>{switch(s){case"job_posting":return"ri-file-list-3-line";case"profile":return"ri-user-line";case"message":return"ri-message-3-line";case"document":return"ri-file-text-line";default:return"ri-flag-line"}};return e.jsxs("div",{children:[e.jsx("div",{className:"bg-slate-800 border border-slate-700 rounded-xl p-2 mb-6",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("button",{onClick:()=>r("flagged"),className:`px-4 py-2 rounded-lg whitespace-nowrap transition-colors ${m==="flagged"?"bg-red-500 text-white":"text-slate-400 hover:text-white hover:bg-slate-700"}`,children:[e.jsx("i",{className:"ri-flag-line mr-2"}),"Flagged Content"]}),e.jsxs("button",{onClick:()=>r("fraud_detection"),className:`px-4 py-2 rounded-lg whitespace-nowrap transition-colors ${m==="fraud_detection"?"bg-red-500 text-white":"text-slate-400 hover:text-white hover:bg-slate-700"}`,children:[e.jsx("i",{className:"ri-shield-cross-line mr-2"}),"Fraud Detection"]})]})}),m==="flagged"&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-6",children:[e.jsxs("div",{className:"bg-slate-800 border border-slate-700 rounded-xl p-6",children:[e.jsx("div",{className:"flex items-center justify-between mb-4",children:e.jsx("div",{className:"w-12 h-12 bg-amber-500/20 rounded-lg flex items-center justify-center",children:e.jsx("i",{className:"ri-time-line text-2xl text-amber-400"})})}),e.jsx("h3",{className:"text-2xl font-bold text-white mb-1",children:S.filter(s=>s.status==="pending").length}),e.jsx("p",{className:"text-sm text-slate-400",children:"Pending Review"})]}),e.jsxs("div",{className:"bg-slate-800 border border-slate-700 rounded-xl p-6",children:[e.jsx("div",{className:"flex items-center justify-between mb-4",children:e.jsx("div",{className:"w-12 h-12 bg-blue-500/20 rounded-lg flex items-center justify-center",children:e.jsx("i",{className:"ri-search-eye-line text-2xl text-blue-400"})})}),e.jsx("h3",{className:"text-2xl font-bold text-white mb-1",children:S.filter(s=>s.status==="under_review").length}),e.jsx("p",{className:"text-sm text-slate-400",children:"Under Review"})]}),e.jsxs("div",{className:"bg-slate-800 border border-slate-700 rounded-xl p-6",children:[e.jsx("div",{className:"flex items-center justify-between mb-4",children:e.jsx("div",{className:"w-12 h-12 bg-red-500/20 rounded-lg flex items-center justify-center",children:e.jsx("i",{className:"ri-error-warning-line text-2xl text-red-400"})})}),e.jsx("h3",{className:"text-2xl font-bold text-white mb-1",children:S.filter(s=>s.severity==="critical"||s.severity==="high").length}),e.jsx("p",{className:"text-sm text-slate-400",children:"High Priority"})]}),e.jsxs("div",{className:"bg-slate-800 border border-slate-700 rounded-xl p-6",children:[e.jsx("div",{className:"flex items-center justify-between mb-4",children:e.jsx("div",{className:"w-12 h-12 bg-green-500/20 rounded-lg flex items-center justify-center",children:e.jsx("i",{className:"ri-checkbox-circle-line text-2xl text-green-400"})})}),e.jsx("h3",{className:"text-2xl font-bold text-white mb-1",children:S.filter(s=>s.status==="resolved").length}),e.jsx("p",{className:"text-sm text-slate-400",children:"Resolved"})]})]}),e.jsxs("div",{className:"bg-slate-800 border border-slate-700 rounded-xl p-6 mb-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Search Content"}),e.jsxs("div",{className:"relative",children:[e.jsx("i",{className:"ri-search-line absolute left-3 top-1/2 -translate-y-1/2 text-slate-500"}),e.jsx("input",{type:"text",value:c,onChange:s=>w(s.target.value),placeholder:"Search by ID, title, name...",className:"w-full pl-10 pr-4 py-2 bg-slate-900/50 border border-slate-600 rounded-lg text-white placeholder-slate-500 focus:outline-none focus:ring-2 focus:ring-red-500"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Content Type"}),e.jsxs("select",{value:v,onChange:s=>j(s.target.value),className:"w-full px-4 py-2 bg-slate-900/50 border border-slate-600 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-red-500",children:[e.jsx("option",{value:"all",children:"All Types"}),e.jsx("option",{value:"job_posting",children:"Job Postings"}),e.jsx("option",{value:"profile",children:"Profiles"}),e.jsx("option",{value:"message",children:"Messages"}),e.jsx("option",{value:"document",children:"Documents"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Severity"}),e.jsxs("select",{value:p,onChange:s=>y(s.target.value),className:"w-full px-4 py-2 bg-slate-900/50 border border-slate-600 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-red-500",children:[e.jsx("option",{value:"all",children:"All Severities"}),e.jsx("option",{value:"critical",children:"Critical"}),e.jsx("option",{value:"high",children:"High"}),e.jsx("option",{value:"medium",children:"Medium"}),e.jsx("option",{value:"low",children:"Low"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Status"}),e.jsxs("select",{value:k,onChange:s=>g(s.target.value),className:"w-full px-4 py-2 bg-slate-900/50 border border-slate-600 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-red-500",children:[e.jsx("option",{value:"all",children:"All Statuses"}),e.jsx("option",{value:"pending",children:"Pending"}),e.jsx("option",{value:"under_review",children:"Under Review"}),e.jsx("option",{value:"resolved",children:"Resolved"}),e.jsx("option",{value:"dismissed",children:"Dismissed"})]})]})]}),e.jsxs("p",{className:"text-sm text-slate-400 mt-4",children:["Showing ",N.length," of ",S.length," flagged items"]})]}),e.jsx("div",{className:"bg-slate-800 border border-slate-700 rounded-xl overflow-hidden",children:e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-slate-900/50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-slate-300 uppercase tracking-wider",children:"Content"}),e.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-slate-300 uppercase tracking-wider",children:"Type"}),e.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-slate-300 uppercase tracking-wider",children:"Reason"}),e.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-slate-300 uppercase tracking-wider",children:"Severity"}),e.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-slate-300 uppercase tracking-wider",children:"Status"}),e.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-slate-300 uppercase tracking-wider",children:"Reported"}),e.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-slate-300 uppercase tracking-wider",children:"Actions"})]})}),e.jsx("tbody",{className:"divide-y divide-slate-700",children:N.map(s=>e.jsxs("tr",{className:"hover:bg-slate-700/30 transition-colors",children:[e.jsx("td",{className:"px-6 py-4",children:e.jsxs("div",{children:[e.jsx("p",{className:"text-white font-medium",children:s.details.title||s.details.physicianName||s.details.facilityName||s.contentId}),e.jsx("p",{className:"text-sm text-slate-400",children:s.id}),s.details.autoFlagged&&e.jsxs("span",{className:"inline-flex items-center gap-1 text-xs text-purple-400 mt-1",children:[e.jsx("i",{className:"ri-robot-line"}),"Auto-detected"]})]})}),e.jsx("td",{className:"px-6 py-4",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("i",{className:`${M(s.type)} text-slate-400`}),e.jsx("span",{className:"text-slate-300 capitalize",children:s.type.replace("_"," ")})]})}),e.jsx("td",{className:"px-6 py-4",children:e.jsx("p",{className:"text-slate-300 text-sm max-w-xs truncate",children:s.reason})}),e.jsx("td",{className:"px-6 py-4",children:e.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-medium bg-${t(s.severity)}-500/20 text-${t(s.severity)}-300 whitespace-nowrap`,children:s.severity})}),e.jsx("td",{className:"px-6 py-4",children:e.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-medium bg-${f(s.status)}-500/20 text-${f(s.status)}-300 whitespace-nowrap`,children:s.status.replace("_"," ")})}),e.jsx("td",{className:"px-6 py-4",children:e.jsxs("div",{children:[e.jsx("p",{className:"text-slate-300 text-sm",children:s.reportedBy}),e.jsx("p",{className:"text-xs text-slate-500",children:new Date(s.reportedAt).toLocaleString()})]})}),e.jsx("td",{className:"px-6 py-4",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("button",{onClick:()=>{C(s),A(!0)},className:"px-3 py-1 bg-slate-700 hover:bg-slate-600 text-white rounded-lg text-sm transition-colors whitespace-nowrap",children:"View Details"}),s.status==="pending"&&e.jsxs(e.Fragment,{children:[e.jsx("button",{onClick:()=>b(s,"approve"),className:"px-3 py-1 bg-green-500/20 hover:bg-green-500/30 text-green-300 rounded-lg text-sm transition-colors whitespace-nowrap",children:"Approve"}),e.jsx("button",{onClick:()=>b(s,"remove"),className:"px-3 py-1 bg-red-500/20 hover:bg-red-500/30 text-red-300 rounded-lg text-sm transition-colors whitespace-nowrap",children:"Remove"})]})]})})]},s.id))})]})})})]}),m==="fraud_detection"&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-6",children:[e.jsxs("div",{className:"bg-slate-800 border border-slate-700 rounded-xl p-6",children:[e.jsx("div",{className:"flex items-center justify-between mb-4",children:e.jsx("div",{className:"w-12 h-12 bg-red-500/20 rounded-lg flex items-center justify-center",children:e.jsx("i",{className:"ri-shield-cross-line text-2xl text-red-400"})})}),e.jsx("h3",{className:"text-2xl font-bold text-white mb-1",children:o.filter(s=>s.status==="active").length}),e.jsx("p",{className:"text-sm text-slate-400",children:"Active Alerts"})]}),e.jsxs("div",{className:"bg-slate-800 border border-slate-700 rounded-xl p-6",children:[e.jsx("div",{className:"flex items-center justify-between mb-4",children:e.jsx("div",{className:"w-12 h-12 bg-red-500/20 rounded-lg flex items-center justify-center",children:e.jsx("i",{className:"ri-error-warning-line text-2xl text-red-400"})})}),e.jsx("h3",{className:"text-2xl font-bold text-white mb-1",children:o.filter(s=>s.severity==="critical").length}),e.jsx("p",{className:"text-sm text-slate-400",children:"Critical Threats"})]}),e.jsxs("div",{className:"bg-slate-800 border border-slate-700 rounded-xl p-6",children:[e.jsx("div",{className:"flex items-center justify-between mb-4",children:e.jsx("div",{className:"w-12 h-12 bg-purple-500/20 rounded-lg flex items-center justify-center",children:e.jsx("i",{className:"ri-search-eye-line text-2xl text-purple-400"})})}),e.jsx("h3",{className:"text-2xl font-bold text-white mb-1",children:o.filter(s=>s.status==="investigating").length}),e.jsx("p",{className:"text-sm text-slate-400",children:"Investigating"})]}),e.jsxs("div",{className:"bg-slate-800 border border-slate-700 rounded-xl p-6",children:[e.jsx("div",{className:"flex items-center justify-between mb-4",children:e.jsx("div",{className:"w-12 h-12 bg-amber-500/20 rounded-lg flex items-center justify-center",children:e.jsx("i",{className:"ri-percent-line text-2xl text-amber-400"})})}),e.jsx("h3",{className:"text-2xl font-bold text-white mb-1",children:Math.round(o.reduce((s,P)=>s+P.score,0)/o.length)}),e.jsx("p",{className:"text-sm text-slate-400",children:"Avg Fraud Score"})]})]}),e.jsx("div",{className:"bg-gradient-to-r from-red-500/10 to-orange-500/10 border border-red-500/30 rounded-xl p-6 mb-6",children:e.jsxs("div",{className:"flex items-start gap-4",children:[e.jsx("div",{className:"w-12 h-12 bg-red-500/20 rounded-lg flex items-center justify-center flex-shrink-0",children:e.jsx("i",{className:"ri-shield-cross-line text-2xl text-red-400"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-white mb-2",children:"Automated Fraud Detection System"}),e.jsx("p",{className:"text-slate-300 text-sm mb-3",children:"Our AI-powered fraud detection system continuously monitors platform activity for suspicious patterns, credential mismatches, payment anomalies, and policy violations. High-risk alerts are automatically flagged for immediate admin review."}),e.jsxs("div",{className:"flex flex-wrap gap-3",children:[e.jsxs("div",{className:"flex items-center gap-2 text-sm text-slate-300",children:[e.jsx("i",{className:"ri-checkbox-circle-line text-green-400"}),e.jsx("span",{children:"Real-time monitoring"})]}),e.jsxs("div",{className:"flex items-center gap-2 text-sm text-slate-300",children:[e.jsx("i",{className:"ri-checkbox-circle-line text-green-400"}),e.jsx("span",{children:"Multi-database verification"})]}),e.jsxs("div",{className:"flex items-center gap-2 text-sm text-slate-300",children:[e.jsx("i",{className:"ri-checkbox-circle-line text-green-400"}),e.jsx("span",{children:"Behavioral analysis"})]}),e.jsxs("div",{className:"flex items-center gap-2 text-sm text-slate-300",children:[e.jsx("i",{className:"ri-checkbox-circle-line text-green-400"}),e.jsx("span",{children:"Pattern recognition"})]})]})]})]})}),e.jsxs("div",{className:"bg-slate-800 border border-slate-700 rounded-xl overflow-hidden",children:[e.jsxs("div",{className:"p-6 border-b border-slate-700",children:[e.jsx("h3",{className:"text-lg font-semibold text-white",children:"Fraud Detection Alerts"}),e.jsx("p",{className:"text-sm text-slate-400 mt-1",children:"Automatically detected suspicious activity requiring review"})]}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-slate-900/50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-slate-300 uppercase tracking-wider",children:"Alert"}),e.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-slate-300 uppercase tracking-wider",children:"Entity"}),e.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-slate-300 uppercase tracking-wider",children:"Details"}),e.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-slate-300 uppercase tracking-wider",children:"Fraud Score"}),e.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-slate-300 uppercase tracking-wider",children:"Severity"}),e.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-slate-300 uppercase tracking-wider",children:"Status"}),e.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-slate-300 uppercase tracking-wider",children:"Actions"})]})}),e.jsx("tbody",{className:"divide-y divide-slate-700",children:o.map(s=>e.jsxs("tr",{className:"hover:bg-slate-700/30 transition-colors",children:[e.jsx("td",{className:"px-6 py-4",children:e.jsxs("div",{children:[e.jsx("p",{className:"text-white font-medium capitalize",children:s.type.replace("_"," ")}),e.jsx("p",{className:"text-sm text-slate-400",children:s.id})]})}),e.jsx("td",{className:"px-6 py-4",children:e.jsxs("div",{children:[e.jsx("p",{className:"text-white text-sm",children:s.name}),e.jsxs("p",{className:"text-xs text-slate-400",children:[s.entity," â€¢ ",s.entityId]})]})}),e.jsx("td",{className:"px-6 py-4",children:e.jsx("p",{className:"text-slate-300 text-sm max-w-xs",children:s.details})}),e.jsx("td",{className:"px-6 py-4",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"flex-1 bg-slate-700 rounded-full h-2 max-w-[100px]",children:e.jsx("div",{className:`h-2 rounded-full ${s.score>=90?"bg-red-500":s.score>=70?"bg-orange-500":"bg-amber-500"}`,style:{width:`${s.score}%`}})}),e.jsx("span",{className:"text-white text-sm font-medium",children:s.score})]})}),e.jsx("td",{className:"px-6 py-4",children:e.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-medium bg-${t(s.severity)}-500/20 text-${t(s.severity)}-300 whitespace-nowrap`,children:s.severity})}),e.jsx("td",{className:"px-6 py-4",children:e.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-medium bg-${f(s.status)}-500/20 text-${f(s.status)}-300 whitespace-nowrap`,children:s.status})}),e.jsx("td",{className:"px-6 py-4",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("button",{className:"px-3 py-1 bg-slate-700 hover:bg-slate-600 text-white rounded-lg text-sm transition-colors whitespace-nowrap",children:"Investigate"}),e.jsx("button",{className:"px-3 py-1 bg-red-500/20 hover:bg-red-500/30 text-red-300 rounded-lg text-sm transition-colors whitespace-nowrap",children:"Suspend"})]})})]},s.id))})]})})]})]}),u&&h&&e.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-slate-800 border border-slate-700 rounded-2xl max-w-3xl w-full max-h-[90vh] overflow-y-auto",children:[e.jsxs("div",{className:"p-6 border-b border-slate-700 flex items-center justify-between sticky top-0 bg-slate-800 z-10",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-xl font-bold text-white",children:"Flagged Content Details"}),e.jsx("p",{className:"text-sm text-slate-400",children:h.id})]}),e.jsx("button",{onClick:()=>A(!1),className:"w-8 h-8 flex items-center justify-center rounded-lg hover:bg-slate-700 text-slate-400 hover:text-white transition-colors",children:e.jsx("i",{className:"ri-close-line text-xl"})})]}),e.jsxs("div",{className:"p-6 space-y-6",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"text-sm font-semibold text-slate-300 mb-3",children:"Content Information"}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-slate-500 mb-1",children:"Content Type"}),e.jsx("p",{className:"text-white capitalize",children:h.type.replace("_"," ")})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-slate-500 mb-1",children:"Content ID"}),e.jsx("p",{className:"text-white",children:h.contentId})]}),h.details.title&&e.jsxs("div",{className:"col-span-2",children:[e.jsx("p",{className:"text-xs text-slate-500 mb-1",children:"Title"}),e.jsx("p",{className:"text-white",children:h.details.title})]}),h.details.facilityName&&e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-slate-500 mb-1",children:"Facility"}),e.jsx("p",{className:"text-white",children:h.details.facilityName})]}),h.details.physicianName&&e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-slate-500 mb-1",children:"Physician"}),e.jsx("p",{className:"text-white",children:h.details.physicianName})]})]})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-sm font-semibold text-slate-300 mb-3",children:"Flag Details"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-slate-500 mb-1",children:"Reason"}),e.jsx("p",{className:"text-white",children:h.reason})]}),e.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-slate-500 mb-1",children:"Severity"}),e.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-medium bg-${t(h.severity)}-500/20 text-${t(h.severity)}-300 whitespace-nowrap`,children:h.severity})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-slate-500 mb-1",children:"Status"}),e.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-medium bg-${f(h.status)}-500/20 text-${f(h.status)}-300 whitespace-nowrap`,children:h.status.replace("_"," ")})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-slate-500 mb-1",children:"Flag Count"}),e.jsx("p",{className:"text-white",children:h.details.flagCount})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-slate-500 mb-1",children:"Reported By"}),e.jsx("p",{className:"text-white",children:h.reportedBy})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-slate-500 mb-1",children:"Reported At"}),e.jsx("p",{className:"text-white",children:new Date(h.reportedAt).toLocaleString()})]})]}),h.details.autoFlagged&&e.jsxs("div",{className:"bg-purple-500/10 border border-purple-500/30 rounded-lg p-3",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("i",{className:"ri-robot-line text-purple-400"}),e.jsx("span",{className:"text-purple-300 text-sm font-medium",children:"Automatically Detected"})]}),h.details.fraudScore&&e.jsxs("p",{className:"text-sm text-purple-200 mt-1",children:["Fraud Score: ",h.details.fraudScore,"/100"]})]})]})]}),h.status==="resolved"&&h.resolution&&e.jsxs("div",{children:[e.jsx("h4",{className:"text-sm font-semibold text-slate-300 mb-3",children:"Resolution"}),e.jsxs("div",{className:"bg-green-500/10 border border-green-500/30 rounded-lg p-4",children:[e.jsx("p",{className:"text-green-300 mb-2",children:h.resolution}),e.jsxs("div",{className:"text-xs text-green-200/80",children:[e.jsxs("p",{children:["Reviewed by: ",h.reviewedBy]}),e.jsxs("p",{children:["Reviewed at: ",h.reviewedAt&&new Date(h.reviewedAt).toLocaleString()]})]})]})]}),h.status==="pending"&&e.jsxs("div",{className:"flex gap-3 pt-4 border-t border-slate-700",children:[e.jsxs("button",{onClick:()=>{A(!1),b(h,"approve")},className:"flex-1 px-4 py-2 bg-green-500 hover:bg-green-600 text-white rounded-lg transition-colors whitespace-nowrap",children:[e.jsx("i",{className:"ri-checkbox-circle-line mr-2"}),"Approve Content"]}),e.jsxs("button",{onClick:()=>{A(!1),b(h,"remove")},className:"flex-1 px-4 py-2 bg-red-500 hover:bg-red-600 text-white rounded-lg transition-colors whitespace-nowrap",children:[e.jsx("i",{className:"ri-delete-bin-line mr-2"}),"Remove Content"]}),e.jsxs("button",{onClick:()=>{A(!1),b(h,"dismiss")},className:"flex-1 px-4 py-2 bg-slate-700 hover:bg-slate-600 text-white rounded-lg transition-colors whitespace-nowrap",children:[e.jsx("i",{className:"ri-close-circle-line mr-2"}),"Dismiss Flag"]})]})]})]})}),F&&h&&e.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-slate-800 border border-slate-700 rounded-2xl max-w-lg w-full",children:[e.jsx("div",{className:"p-6 border-b border-slate-700",children:e.jsxs("h3",{className:"text-xl font-bold text-white",children:[T==="approve"&&"Approve Content",T==="remove"&&"Remove Content",T==="suspend_user"&&"Suspend User",T==="dismiss"&&"Dismiss Flag"]})}),e.jsxs("div",{className:"p-6 space-y-4",children:[e.jsx("div",{className:"bg-amber-500/10 border border-amber-500/30 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("i",{className:"ri-alert-line text-amber-400 text-xl mt-0.5"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-amber-300 font-medium mb-1",children:"Action Requires Justification"}),e.jsx("p",{className:"text-sm text-amber-200/80",children:"This action will be logged with your admin identity, timestamp, and IP address."})]})]})}),e.jsxs("div",{children:[e.jsxs("p",{className:"text-sm text-slate-400 mb-2",children:["Content: ",e.jsx("span",{className:"text-white font-medium",children:h.contentId})]}),e.jsxs("p",{className:"text-sm text-slate-400 mb-2",children:["Type: ",e.jsx("span",{className:"text-white font-medium capitalize",children:h.type.replace("_"," ")})]}),e.jsxs("p",{className:"text-sm text-slate-400 mb-2",children:["Severity: ",e.jsx("span",{className:"text-white font-medium capitalize",children:h.severity})]})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:["Justification ",e.jsx("span",{className:"text-red-400",children:"*"})]}),e.jsx("textarea",{value:l,onChange:s=>n(s.target.value),placeholder:"Provide detailed justification for this action...",rows:4,className:"w-full px-4 py-3 bg-slate-900/50 border border-slate-600 rounded-lg text-white placeholder-slate-500 focus:outline-none focus:ring-2 focus:ring-red-500 resize-none"})]}),e.jsxs("div",{className:"text-xs text-slate-500 space-y-1",children:[e.jsxs("p",{children:["Admin: ",i?.adminEmail]}),e.jsxs("p",{children:["Session ID: ",i?.sessionId.substring(0,20),"..."]}),e.jsxs("p",{children:["Timestamp: ",new Date().toISOString()]})]})]}),e.jsxs("div",{className:"p-6 border-t border-slate-700 flex gap-3",children:[e.jsx("button",{onClick:()=>{D(!1),n("")},className:"flex-1 px-4 py-2 bg-slate-700 hover:bg-slate-600 text-white rounded-lg transition-colors whitespace-nowrap",children:"Cancel"}),e.jsx("button",{onClick:R,disabled:!l.trim(),className:`flex-1 px-4 py-2 rounded-lg transition-colors whitespace-nowrap ${T==="approve"||T==="dismiss"?"bg-green-500 hover:bg-green-600":"bg-red-500 hover:bg-red-600"} text-white disabled:opacity-50 disabled:cursor-not-allowed`,children:"Confirm Action"})]})]})})]})}const ne=()=>{const[i,m]=x.useState("events"),[r,c]=x.useState("all"),[w,v]=x.useState("all"),[j,p]=x.useState(""),[y,k]=x.useState("today"),[g,h]=x.useState(null),[C,u]=x.useState(null),A=[{id:"evt_001",type:"job_posting",title:"New Job Posting Created",description:"Emergency Medicine position posted for Memorial Hospital",timestamp:new Date(Date.now()-5*6e4).toISOString(),userType:"Facility",userName:"Memorial Hospital",userId:"fac_123",assignmentId:"assign_789",status:"completed",priority:"medium",metadata:{specialty:"Emergency Medicine"}},{id:"evt_002",type:"application",title:"Physician Application Submitted",description:"Dr. Sarah Johnson applied to Cardiology position",timestamp:new Date(Date.now()-15*6e4).toISOString(),userType:"Physician",userName:"Dr. Sarah Johnson",userId:"phy_456",assignmentId:"assign_790",status:"completed",priority:"high",metadata:{specialty:"Cardiology"}},{id:"evt_003",type:"approval",title:"Application Approved",description:"City General Hospital approved Dr. Michael Chen",timestamp:new Date(Date.now()-30*6e4).toISOString(),userType:"Facility",userName:"City General Hospital",userId:"fac_124",assignmentId:"assign_791",status:"completed",priority:"high",metadata:{specialty:"Anesthesiology"}},{id:"evt_004",type:"contract_signature",title:"Contract Signed by Physician",description:"Dr. Emily Rodriguez signed facility contract",timestamp:new Date(Date.now()-45*6e4).toISOString(),userType:"Physician",userName:"Dr. Emily Rodriguez",userId:"phy_457",assignmentId:"assign_792",status:"completed",priority:"high",metadata:{specialty:"Radiology",documentType:"Facility Contract"}},{id:"evt_005",type:"escrow_funding",title:"Escrow Payment Funded",description:"Memorial Hospital funded escrow for assignment",timestamp:new Date(Date.now()-60*6e4).toISOString(),userType:"Facility",userName:"Memorial Hospital",userId:"fac_123",assignmentId:"assign_793",status:"completed",priority:"critical",metadata:{amount:15e3}},{id:"evt_006",type:"insurance_quote",title:"Insurance Quote Received",description:"Malpractice insurance quote submitted for Dr. Johnson",timestamp:new Date(Date.now()-90*6e4).toISOString(),userType:"Vendor",userName:"ProMed Insurance",userId:"ven_301",assignmentId:"assign_794",status:"completed",priority:"medium",metadata:{vendorType:"Insurance",amount:2500}},{id:"evt_007",type:"vendor_quote",title:"Travel Quote Submitted",description:"Flight and hotel quote for Dr. Chen assignment",timestamp:new Date(Date.now()-120*6e4).toISOString(),userType:"Vendor",userName:"MedTravel Solutions",userId:"ven_302",assignmentId:"assign_791",status:"completed",priority:"low",metadata:{vendorType:"Travel",amount:1800}},{id:"evt_008",type:"profile_update",title:"Physician Profile Updated",description:"Dr. Sarah Johnson updated license information",timestamp:new Date(Date.now()-150*6e4).toISOString(),userType:"Physician",userName:"Dr. Sarah Johnson",userId:"phy_456",status:"completed",priority:"low"},{id:"evt_009",type:"rejection",title:"Application Rejected",description:"Facility declined application due to scheduling conflict",timestamp:new Date(Date.now()-180*6e4).toISOString(),userType:"Facility",userName:"Regional Medical Center",userId:"fac_125",assignmentId:"assign_795",status:"completed",priority:"medium",metadata:{specialty:"Surgery"}},{id:"evt_010",type:"escrow_release",title:"Escrow Payment Released",description:"Payment released to Dr. Rodriguez after assignment completion",timestamp:new Date(Date.now()-240*6e4).toISOString(),userType:"System",userName:"Automated System",userId:"sys_001",assignmentId:"assign_796",status:"completed",priority:"critical",metadata:{amount:12e3}},{id:"evt_011",type:"communication",title:"Three-Way Communication",description:"Facility requested additional documents from physician via vendor",timestamp:new Date(Date.now()-300*6e4).toISOString(),userType:"Facility",userName:"City General Hospital",userId:"fac_124",assignmentId:"assign_797",status:"pending",priority:"medium"},{id:"evt_012",type:"expiration",title:"Application Expired",description:"No response from facility within 2 business days - dates unblocked",timestamp:new Date(Date.now()-360*6e4).toISOString(),userType:"System",userName:"Automated System",userId:"sys_001",assignmentId:"assign_798",status:"completed",priority:"low"}],F=[{id:"wf_001",assignmentId:"assign_789",facilityName:"Memorial Hospital",physicianName:"Dr. Sarah Johnson",specialty:"Emergency Medicine",dates:"Jan 15-22, 2025",currentStage:"posted",lastUpdate:new Date(Date.now()-5*6e4).toISOString(),stages:[{name:"Job Posted",status:"completed",timestamp:new Date(Date.now()-5*6e4).toISOString(),completedBy:"Memorial Hospital"},{name:"Application Received",status:"pending"},{name:"Facility Approval",status:"pending"},{name:"Contract Signed",status:"pending"},{name:"Escrow Funded",status:"pending"},{name:"Assignment Completed",status:"pending"}]},{id:"wf_002",assignmentId:"assign_791",facilityName:"City General Hospital",physicianName:"Dr. Michael Chen",specialty:"Anesthesiology",dates:"Jan 20-27, 2025",currentStage:"approved",lastUpdate:new Date(Date.now()-30*6e4).toISOString(),stages:[{name:"Job Posted",status:"completed",timestamp:new Date(Date.now()-120*6e4).toISOString(),completedBy:"City General Hospital"},{name:"Application Received",status:"completed",timestamp:new Date(Date.now()-90*6e4).toISOString(),completedBy:"Dr. Michael Chen"},{name:"Facility Approval",status:"completed",timestamp:new Date(Date.now()-30*6e4).toISOString(),completedBy:"City General Hospital"},{name:"Contract Signed",status:"current"},{name:"Escrow Funded",status:"pending"},{name:"Assignment Completed",status:"pending"}]},{id:"wf_003",assignmentId:"assign_792",facilityName:"Regional Medical Center",physicianName:"Dr. Emily Rodriguez",specialty:"Radiology",dates:"Jan 18-25, 2025",currentStage:"signed",lastUpdate:new Date(Date.now()-45*6e4).toISOString(),stages:[{name:"Job Posted",status:"completed",timestamp:new Date(Date.now()-180*6e4).toISOString(),completedBy:"Regional Medical Center"},{name:"Application Received",status:"completed",timestamp:new Date(Date.now()-150*6e4).toISOString(),completedBy:"Dr. Emily Rodriguez"},{name:"Facility Approval",status:"completed",timestamp:new Date(Date.now()-90*6e4).toISOString(),completedBy:"Regional Medical Center"},{name:"Contract Signed",status:"completed",timestamp:new Date(Date.now()-45*6e4).toISOString(),completedBy:"Dr. Emily Rodriguez"},{name:"Escrow Funded",status:"current"},{name:"Assignment Completed",status:"pending"}]},{id:"wf_004",assignmentId:"assign_793",facilityName:"Memorial Hospital",physicianName:"Dr. James Wilson",specialty:"Cardiology",dates:"Jan 12-19, 2025",currentStage:"escrowed",lastUpdate:new Date(Date.now()-60*6e4).toISOString(),stages:[{name:"Job Posted",status:"completed",timestamp:new Date(Date.now()-300*6e4).toISOString(),completedBy:"Memorial Hospital"},{name:"Application Received",status:"completed",timestamp:new Date(Date.now()-240*6e4).toISOString(),completedBy:"Dr. James Wilson"},{name:"Facility Approval",status:"completed",timestamp:new Date(Date.now()-180*6e4).toISOString(),completedBy:"Memorial Hospital"},{name:"Contract Signed",status:"completed",timestamp:new Date(Date.now()-120*6e4).toISOString(),completedBy:"Dr. James Wilson"},{name:"Escrow Funded",status:"completed",timestamp:new Date(Date.now()-60*6e4).toISOString(),completedBy:"Memorial Hospital"},{name:"Assignment Completed",status:"current"}]},{id:"wf_005",assignmentId:"assign_796",facilityName:"City General Hospital",physicianName:"Dr. Lisa Martinez",specialty:"Surgery",dates:"Jan 5-12, 2025",currentStage:"completed",lastUpdate:new Date(Date.now()-240*6e4).toISOString(),stages:[{name:"Job Posted",status:"completed",timestamp:new Date(Date.now()-600*6e4).toISOString(),completedBy:"City General Hospital"},{name:"Application Received",status:"completed",timestamp:new Date(Date.now()-540*6e4).toISOString(),completedBy:"Dr. Lisa Martinez"},{name:"Facility Approval",status:"completed",timestamp:new Date(Date.now()-480*6e4).toISOString(),completedBy:"City General Hospital"},{name:"Contract Signed",status:"completed",timestamp:new Date(Date.now()-420*6e4).toISOString(),completedBy:"Dr. Lisa Martinez"},{name:"Escrow Funded",status:"completed",timestamp:new Date(Date.now()-360*6e4).toISOString(),completedBy:"City General Hospital"},{name:"Assignment Completed",status:"completed",timestamp:new Date(Date.now()-240*6e4).toISOString(),completedBy:"Automated System"}]}],D=[{value:"all",label:"All Events"},{value:"job_posting",label:"Job Postings"},{value:"application",label:"Applications"},{value:"approval",label:"Approvals"},{value:"rejection",label:"Rejections"},{value:"expiration",label:"Expirations"},{value:"contract_signature",label:"Contract Signatures"},{value:"escrow_funding",label:"Escrow Funding"},{value:"escrow_release",label:"Escrow Releases"},{value:"profile_update",label:"Profile Updates"},{value:"insurance_quote",label:"Insurance Quotes"},{value:"vendor_quote",label:"Vendor Quotes"},{value:"communication",label:"Communications"}],T=[{value:"all",label:"All Users"},{value:"Physician",label:"Physicians"},{value:"Facility",label:"Facilities"},{value:"Vendor",label:"Vendors"},{value:"System",label:"System"}],I=[{value:"today",label:"Today"},{value:"yesterday",label:"Yesterday"},{value:"week",label:"Last 7 Days"},{value:"month",label:"Last 30 Days"},{value:"all",label:"All Time"}],l=A.filter(t=>{const f=r==="all"||t.type===r,M=w==="all"||t.userType===w,s=j===""||t.title.toLowerCase().includes(j.toLowerCase())||t.description.toLowerCase().includes(j.toLowerCase())||t.userName.toLowerCase().includes(j.toLowerCase());return f&&M&&s}),n=t=>({job_posting:"ri-briefcase-line",application:"ri-file-text-line",approval:"ri-checkbox-circle-line",rejection:"ri-close-circle-line",expiration:"ri-time-line",contract_signature:"ri-quill-pen-line",escrow_funding:"ri-bank-line",escrow_release:"ri-money-dollar-circle-line",profile_update:"ri-user-settings-line",insurance_quote:"ri-shield-check-line",vendor_quote:"ri-store-line",communication:"ri-message-3-line"})[t]||"ri-information-line",S=t=>({job_posting:"text-blue-600 bg-blue-50",application:"text-purple-600 bg-purple-50",approval:"text-green-600 bg-green-50",rejection:"text-red-600 bg-red-50",expiration:"text-gray-600 bg-gray-50",contract_signature:"text-indigo-600 bg-indigo-50",escrow_funding:"text-teal-600 bg-teal-50",escrow_release:"text-emerald-600 bg-emerald-50",profile_update:"text-amber-600 bg-amber-50",insurance_quote:"text-cyan-600 bg-cyan-50",vendor_quote:"text-pink-600 bg-pink-50",communication:"text-violet-600 bg-violet-50"})[t]||"text-gray-600 bg-gray-50",o=t=>{const f={critical:{color:"bg-red-100 text-red-800",label:"Critical"},high:{color:"bg-orange-100 text-orange-800",label:"High"},medium:{color:"bg-yellow-100 text-yellow-800",label:"Medium"},low:{color:"bg-gray-100 text-gray-800",label:"Low"}};return f[t]||f.low},N=t=>{const f={completed:{color:"bg-green-100 text-green-800",label:"Completed"},pending:{color:"bg-yellow-100 text-yellow-800",label:"Pending"},failed:{color:"bg-red-100 text-red-800",label:"Failed"},in_progress:{color:"bg-blue-100 text-blue-800",label:"In Progress"}};return f[t]||f.pending},b=t=>({posted:"bg-blue-100 text-blue-800",applied:"bg-purple-100 text-purple-800",approved:"bg-green-100 text-green-800",signed:"bg-indigo-100 text-indigo-800",escrowed:"bg-teal-100 text-teal-800",completed:"bg-emerald-100 text-emerald-800",disputed:"bg-red-100 text-red-800"})[t]||"bg-gray-100 text-gray-800",R=t=>{const f=new Date(t),s=new Date().getTime()-f.getTime(),P=Math.floor(s/6e4),L=Math.floor(s/36e5),d=Math.floor(s/864e5);return P<1?"Just now":P<60?`${P}m ago`:L<24?`${L}h ago`:d<7?`${d}d ago`:f.toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})};return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Workflow Monitoring"}),e.jsx("p",{className:"text-gray-600 mt-1",children:"Real-time visibility into all platform events and workflows"})]}),e.jsx("div",{className:"border-b border-gray-200",children:e.jsxs("div",{className:"flex space-x-8",children:[e.jsxs("button",{onClick:()=>m("events"),className:`pb-4 px-1 border-b-2 font-medium text-sm whitespace-nowrap transition-colors ${i==="events"?"border-teal-600 text-teal-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:[e.jsx("i",{className:"ri-notification-line mr-2"}),"Live Event Feed"]}),e.jsxs("button",{onClick:()=>m("workflows"),className:`pb-4 px-1 border-b-2 font-medium text-sm whitespace-nowrap transition-colors ${i==="workflows"?"border-teal-600 text-teal-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:[e.jsx("i",{className:"ri-flow-chart mr-2"}),"Workflow Status Tracking"]})]})}),i==="events"&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Search Events"}),e.jsxs("div",{className:"relative",children:[e.jsx("i",{className:"ri-search-line absolute left-3 top-1/2 -translate-y-1/2 text-gray-400"}),e.jsx("input",{type:"text",value:j,onChange:t=>p(t.target.value),placeholder:"Search by title, user...",className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-teal-500 focus:border-transparent text-sm"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Event Type"}),e.jsx("select",{value:r,onChange:t=>c(t.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-teal-500 focus:border-transparent text-sm",children:D.map(t=>e.jsx("option",{value:t.value,children:t.label},t.value))})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"User Type"}),e.jsx("select",{value:w,onChange:t=>v(t.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-teal-500 focus:border-transparent text-sm",children:T.map(t=>e.jsx("option",{value:t.value,children:t.label},t.value))})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Date Range"}),e.jsx("select",{value:y,onChange:t=>k(t.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-teal-500 focus:border-transparent text-sm",children:I.map(t=>e.jsx("option",{value:t.value,children:t.label},t.value))})]})]}),(r!=="all"||w!=="all"||j!=="")&&e.jsxs("div",{className:"mt-4 flex items-center gap-2 flex-wrap",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"Active filters:"}),r!=="all"&&e.jsxs("span",{className:"inline-flex items-center gap-1 px-3 py-1 bg-teal-50 text-teal-700 rounded-full text-sm",children:[D.find(t=>t.value===r)?.label,e.jsx("button",{onClick:()=>c("all"),className:"hover:text-teal-900",children:e.jsx("i",{className:"ri-close-line"})})]}),w!=="all"&&e.jsxs("span",{className:"inline-flex items-center gap-1 px-3 py-1 bg-teal-50 text-teal-700 rounded-full text-sm",children:[T.find(t=>t.value===w)?.label,e.jsx("button",{onClick:()=>v("all"),className:"hover:text-teal-900",children:e.jsx("i",{className:"ri-close-line"})})]}),j!==""&&e.jsxs("span",{className:"inline-flex items-center gap-1 px-3 py-1 bg-teal-50 text-teal-700 rounded-full text-sm",children:["Search: ",j,e.jsx("button",{onClick:()=>p(""),className:"hover:text-teal-900",children:e.jsx("i",{className:"ri-close-line"})})]}),e.jsx("button",{onClick:()=>{c("all"),v("all"),p("")},className:"text-sm text-teal-600 hover:text-teal-700 font-medium",children:"Clear all"})]})]}),e.jsxs("div",{className:"bg-white rounded-lg border border-gray-200",children:[e.jsx("div",{className:"p-6 border-b border-gray-200",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("h3",{className:"text-lg font-semibold text-gray-900",children:["Recent Events (",l.length,")"]}),e.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[e.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full animate-pulse"}),"Live"]})]})}),e.jsx("div",{className:"divide-y divide-gray-200",children:l.length===0?e.jsxs("div",{className:"p-12 text-center",children:[e.jsx("i",{className:"ri-inbox-line text-4xl text-gray-300 mb-3"}),e.jsx("p",{className:"text-gray-500",children:"No events found matching your filters"})]}):l.map(t=>e.jsx("div",{className:"p-6 hover:bg-gray-50 transition-colors cursor-pointer",onClick:()=>h(t),children:e.jsxs("div",{className:"flex items-start gap-4",children:[e.jsx("div",{className:`w-10 h-10 rounded-lg flex items-center justify-center flex-shrink-0 ${S(t.type)}`,children:e.jsx("i",{className:`${n(t.type)} text-lg`})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-start justify-between gap-4 mb-2",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("h4",{className:"text-sm font-semibold text-gray-900 mb-1",children:t.title}),e.jsx("p",{className:"text-sm text-gray-600",children:t.description})]}),e.jsx("span",{className:"text-xs text-gray-500 whitespace-nowrap",children:R(t.timestamp)})]}),e.jsxs("div",{className:"flex items-center gap-3 flex-wrap mt-3",children:[e.jsxs("span",{className:"inline-flex items-center gap-1 text-xs text-gray-600",children:[e.jsx("i",{className:"ri-user-line"}),t.userName]}),e.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${o(t.priority).color}`,children:o(t.priority).label}),e.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${N(t.status).color}`,children:N(t.status).label}),t.assignmentId&&e.jsxs("span",{className:"inline-flex items-center gap-1 text-xs text-gray-600",children:[e.jsx("i",{className:"ri-link"}),t.assignmentId]}),t.metadata?.specialty&&e.jsxs("span",{className:"inline-flex items-center gap-1 text-xs text-gray-600",children:[e.jsx("i",{className:"ri-stethoscope-line"}),t.metadata.specialty]}),t.metadata?.amount&&e.jsxs("span",{className:"inline-flex items-center gap-1 text-xs text-gray-600",children:[e.jsx("i",{className:"ri-money-dollar-circle-line"}),"$",t.metadata.amount.toLocaleString()]})]})]})]})},t.id))})]})]}),i==="workflows"&&e.jsx("div",{className:"space-y-6",children:e.jsx("div",{className:"grid grid-cols-1 gap-6",children:F.map(t=>e.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-6 hover:shadow-md transition-shadow cursor-pointer",onClick:()=>u(t),children:[e.jsxs("div",{className:"flex items-start justify-between mb-6",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:t.assignmentId}),e.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-medium ${b(t.currentStage)}`,children:t.currentStage.charAt(0).toUpperCase()+t.currentStage.slice(1)})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-500",children:"Facility:"}),e.jsx("span",{className:"ml-2 text-gray-900 font-medium",children:t.facilityName})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-500",children:"Physician:"}),e.jsx("span",{className:"ml-2 text-gray-900 font-medium",children:t.physicianName})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-500",children:"Specialty:"}),e.jsx("span",{className:"ml-2 text-gray-900 font-medium",children:t.specialty})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-500",children:"Dates:"}),e.jsx("span",{className:"ml-2 text-gray-900 font-medium",children:t.dates})]})]})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("div",{className:"text-xs text-gray-500",children:"Last Updated"}),e.jsx("div",{className:"text-sm text-gray-900 font-medium",children:R(t.lastUpdate)})]})]}),e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute top-5 left-0 right-0 h-0.5 bg-gray-200",children:e.jsx("div",{className:"h-full bg-teal-600 transition-all duration-500",style:{width:`${t.stages.filter(f=>f.status==="completed").length/t.stages.length*100}%`}})}),e.jsx("div",{className:"relative flex justify-between",children:t.stages.map((f,M)=>e.jsxs("div",{className:"flex flex-col items-center",style:{width:`${100/t.stages.length}%`},children:[e.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center border-2 transition-all ${f.status==="completed"?"bg-teal-600 border-teal-600 text-white":f.status==="current"?"bg-white border-teal-600 text-teal-600":f.status==="failed"?"bg-red-600 border-red-600 text-white":"bg-white border-gray-300 text-gray-400"}`,children:f.status==="completed"?e.jsx("i",{className:"ri-check-line text-lg"}):f.status==="current"?e.jsx("i",{className:"ri-time-line text-lg"}):f.status==="failed"?e.jsx("i",{className:"ri-close-line text-lg"}):e.jsx("i",{className:"ri-circle-line text-lg"})}),e.jsxs("div",{className:"mt-3 text-center",children:[e.jsx("div",{className:`text-xs font-medium ${f.status==="completed"||f.status==="current"?"text-gray-900":"text-gray-500"}`,children:f.name}),f.timestamp&&e.jsx("div",{className:"text-xs text-gray-500 mt-1",children:R(f.timestamp)}),f.completedBy&&e.jsxs("div",{className:"text-xs text-gray-400 mt-0.5",children:["by ",f.completedBy]})]})]},M))})]})]},t.id))})}),g&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-lg max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[e.jsx("div",{className:"p-6 border-b border-gray-200",children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex items-start gap-4",children:[e.jsx("div",{className:`w-12 h-12 rounded-lg flex items-center justify-center ${S(g.type)}`,children:e.jsx("i",{className:`${n(g.type)} text-xl`})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-1",children:g.title}),e.jsx("p",{className:"text-sm text-gray-600",children:g.description})]})]}),e.jsx("button",{onClick:()=>h(null),className:"text-gray-400 hover:text-gray-600 transition-colors",children:e.jsx("i",{className:"ri-close-line text-2xl"})})]})}),e.jsxs("div",{className:"p-6 space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-sm text-gray-500 mb-1",children:"Event ID"}),e.jsx("div",{className:"text-sm font-medium text-gray-900",children:g.id})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-sm text-gray-500 mb-1",children:"Timestamp"}),e.jsx("div",{className:"text-sm font-medium text-gray-900",children:new Date(g.timestamp).toLocaleString("en-US",{month:"short",day:"numeric",year:"numeric",hour:"2-digit",minute:"2-digit"})})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-sm text-gray-500 mb-1",children:"User Type"}),e.jsx("div",{className:"text-sm font-medium text-gray-900",children:g.userType})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-sm text-gray-500 mb-1",children:"User Name"}),e.jsx("div",{className:"text-sm font-medium text-gray-900",children:g.userName})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-sm text-gray-500 mb-1",children:"User ID"}),e.jsx("div",{className:"text-sm font-medium text-gray-900",children:g.userId})]}),g.assignmentId&&e.jsxs("div",{children:[e.jsx("div",{className:"text-sm text-gray-500 mb-1",children:"Assignment ID"}),e.jsx("div",{className:"text-sm font-medium text-gray-900",children:g.assignmentId})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-sm text-gray-500 mb-1",children:"Priority"}),e.jsx("span",{className:`inline-block px-2 py-1 rounded-full text-xs font-medium ${o(g.priority).color}`,children:o(g.priority).label})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-sm text-gray-500 mb-1",children:"Status"}),e.jsx("span",{className:`inline-block px-2 py-1 rounded-full text-xs font-medium ${N(g.status).color}`,children:N(g.status).label})]})]}),g.metadata&&Object.keys(g.metadata).length>0&&e.jsxs("div",{children:[e.jsx("h4",{className:"text-sm font-semibold text-gray-900 mb-3",children:"Additional Information"}),e.jsxs("div",{className:"bg-gray-50 rounded-lg p-4 space-y-2",children:[g.metadata.specialty&&e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"Specialty"}),e.jsx("span",{className:"text-sm font-medium text-gray-900",children:g.metadata.specialty})]}),g.metadata.amount&&e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"Amount"}),e.jsxs("span",{className:"text-sm font-medium text-gray-900",children:["$",g.metadata.amount.toLocaleString()]})]}),g.metadata.documentType&&e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"Document Type"}),e.jsx("span",{className:"text-sm font-medium text-gray-900",children:g.metadata.documentType})]}),g.metadata.vendorType&&e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"Vendor Type"}),e.jsx("span",{className:"text-sm font-medium text-gray-900",children:g.metadata.vendorType})]})]})]}),e.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("i",{className:"ri-information-line text-blue-600 text-lg mt-0.5"}),e.jsxs("div",{children:[e.jsx("div",{className:"text-sm font-medium text-blue-900 mb-1",children:"Observation Mode"}),e.jsx("div",{className:"text-sm text-blue-700",children:"This event was processed automatically. Manual intervention is available if needed through role-restricted admin actions."})]})]})})]})]})}),C&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-lg max-w-4xl w-full max-h-[90vh] overflow-y-auto",children:[e.jsx("div",{className:"p-6 border-b border-gray-200",children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[e.jsx("h3",{className:"text-xl font-bold text-gray-900",children:C.assignmentId}),e.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-medium ${b(C.currentStage)}`,children:C.currentStage.charAt(0).toUpperCase()+C.currentStage.slice(1)})]}),e.jsx("p",{className:"text-sm text-gray-600",children:"Complete workflow status and timeline"})]}),e.jsx("button",{onClick:()=>u(null),className:"text-gray-400 hover:text-gray-600 transition-colors",children:e.jsx("i",{className:"ri-close-line text-2xl"})})]})}),e.jsxs("div",{className:"p-6 space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-sm text-gray-500 mb-1",children:"Facility"}),e.jsx("div",{className:"text-sm font-medium text-gray-900",children:C.facilityName})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-sm text-gray-500 mb-1",children:"Physician"}),e.jsx("div",{className:"text-sm font-medium text-gray-900",children:C.physicianName})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-sm text-gray-500 mb-1",children:"Specialty"}),e.jsx("div",{className:"text-sm font-medium text-gray-900",children:C.specialty})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-sm text-gray-500 mb-1",children:"Assignment Dates"}),e.jsx("div",{className:"text-sm font-medium text-gray-900",children:C.dates})]})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-sm font-semibold text-gray-900 mb-4",children:"Workflow Timeline"}),e.jsx("div",{className:"space-y-4",children:C.stages.map((t,f)=>e.jsxs("div",{className:"flex items-start gap-4",children:[e.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center border-2 flex-shrink-0 ${t.status==="completed"?"bg-teal-600 border-teal-600 text-white":t.status==="current"?"bg-white border-teal-600 text-teal-600":t.status==="failed"?"bg-red-600 border-red-600 text-white":"bg-white border-gray-300 text-gray-400"}`,children:t.status==="completed"?e.jsx("i",{className:"ri-check-line text-lg"}):t.status==="current"?e.jsx("i",{className:"ri-time-line text-lg"}):t.status==="failed"?e.jsx("i",{className:"ri-close-line text-lg"}):e.jsx("i",{className:"ri-circle-line text-lg"})}),e.jsx("div",{className:"flex-1 pb-4 border-b border-gray-200 last:border-0",children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-sm font-semibold text-gray-900 mb-1",children:t.name}),t.completedBy&&e.jsxs("div",{className:"text-sm text-gray-600",children:["Completed by ",t.completedBy]})]}),t.timestamp&&e.jsx("div",{className:"text-sm text-gray-500",children:new Date(t.timestamp).toLocaleString("en-US",{month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"})})]})})]},f))})]}),e.jsx("div",{className:"bg-gray-50 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("i",{className:"ri-shield-check-line text-gray-600 text-lg mt-0.5"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("div",{className:"text-sm font-medium text-gray-900 mb-1",children:"Admin Oversight"}),e.jsx("div",{className:"text-sm text-gray-600 mb-3",children:"This workflow is progressing automatically. Manual intervention available if needed."}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs("button",{className:"px-4 py-2 bg-white border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors text-sm font-medium whitespace-nowrap",children:[e.jsx("i",{className:"ri-eye-line mr-2"}),"View Full Details"]}),e.jsxs("button",{className:"px-4 py-2 bg-white border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors text-sm font-medium whitespace-nowrap",children:[e.jsx("i",{className:"ri-message-3-line mr-2"}),"Contact Parties"]})]})]})]})})]})]})})]})};function ce(){const[i,m]=x.useState("overview"),[r,c]=x.useState("30"),[w,v]=x.useState("pdf"),j=[{label:"Active Listings",value:247,change:"+12.5%",trend:"up",icon:"ri-file-list-3-line",color:"blue"},{label:"Conversion Rate",value:"68.3%",change:"+5.2%",trend:"up",icon:"ri-line-chart-line",color:"green"},{label:"Total Revenue",value:"$2.4M",change:"+18.7%",trend:"up",icon:"ri-money-dollar-circle-line",color:"teal"},{label:"Platform Fees",value:"$360K",change:"+18.7%",trend:"up",icon:"ri-percent-line",color:"purple"},{label:"Active Disputes",value:8,change:"-25%",trend:"down",icon:"ri-alert-line",color:"amber"},{label:"Avg Resolution Time",value:"3.2 days",change:"-15%",trend:"down",icon:"ri-time-line",color:"indigo"}],p=[{specialty:"Emergency Medicine",posted:45,filled:38,rate:84.4},{specialty:"Anesthesiology",posted:32,filled:28,rate:87.5},{specialty:"Hospitalist",posted:58,filled:35,rate:60.3},{specialty:"Critical Care",posted:28,filled:22,rate:78.6},{specialty:"Radiology",posted:19,filled:17,rate:89.5},{specialty:"Surgery",posted:24,filled:18,rate:75},{specialty:"Cardiology",posted:15,filled:13,rate:86.7},{specialty:"Neurology",posted:12,filled:9,rate:75}],y=[{month:"Jan 2025",revenue:385e3,fees:57750,assignments:42},{month:"Feb 2025",revenue:412e3,fees:61800,assignments:48},{month:"Mar 2025",revenue:458e3,fees:68700,assignments:53},{month:"Apr 2025",revenue:495e3,fees:74250,assignments:58},{month:"May 2025",revenue:523e3,fees:78450,assignments:61},{month:"Jun 2025",revenue:547e3,fees:82050,assignments:64}],k=[{type:"Payment Dispute",count:3,avgResolutionDays:2.8,trend:"down"},{type:"Contract Violation",count:2,avgResolutionDays:4.5,trend:"neutral"},{type:"Quality Complaint",count:2,avgResolutionDays:3,trend:"down"},{type:"Cancellation Dispute",count:1,avgResolutionDays:2,trend:"down"}],g=[{userId:"P-1247",name:"Dr. Sarah Mitchell",type:"Physician",completionRate:98.5,cancellationRate:1.5,avgRating:4.9,totalAssignments:67,score:97},{userId:"F-0892",name:"Memorial Regional Hospital",type:"Facility",completionRate:96.2,cancellationRate:3.8,avgRating:4.7,totalAssignments:52,score:94},{userId:"P-2156",name:"Dr. James Chen",type:"Physician",completionRate:95.8,cancellationRate:4.2,avgRating:4.8,totalAssignments:48,score:93},{userId:"F-1034",name:"St. Mary's Medical Center",type:"Facility",completionRate:94.5,cancellationRate:5.5,avgRating:4.6,totalAssignments:73,score:91},{userId:"P-1893",name:"Dr. Emily Rodriguez",type:"Physician",completionRate:92.3,cancellationRate:7.7,avgRating:4.5,totalAssignments:39,score:88}],h=[{id:"A-1024",specialty:"Emergency Medicine",facility:"Riverside Medical Center",amount:12500,marketAvg:8200,deviation:52.4,date:"2025-06-15",flagged:!0},{id:"A-1025",specialty:"Anesthesiology",facility:"County General Hospital",amount:4200,marketAvg:7800,deviation:-46.2,date:"2025-06-14",flagged:!0},{id:"A-1026",specialty:"Critical Care",facility:"Metro Health System",amount:11200,marketAvg:8500,deviation:31.8,date:"2025-06-13",flagged:!1}],C=[{specialty:"Emergency Medicine",activeListings:45,fillRate:84.4,avgPayRate:8200,trend:"increasing"},{specialty:"Anesthesiology",activeListings:32,fillRate:87.5,avgPayRate:7800,trend:"stable"},{specialty:"Hospitalist",activeListings:58,fillRate:60.3,avgPayRate:6500,trend:"increasing"},{specialty:"Critical Care",activeListings:28,fillRate:78.6,avgPayRate:8500,trend:"stable"},{specialty:"Radiology",activeListings:19,fillRate:89.5,avgPayRate:7200,trend:"decreasing"}],u=[{state:"California",activeListings:62,avgPayRate:9200,fillRate:72.5,topSpecialty:"Emergency Medicine"},{state:"Texas",activeListings:48,avgPayRate:7800,fillRate:68.3,topSpecialty:"Hospitalist"},{state:"Florida",activeListings:41,avgPayRate:7500,fillRate:75.2,topSpecialty:"Anesthesiology"},{state:"New York",activeListings:35,avgPayRate:9800,fillRate:81.4,topSpecialty:"Critical Care"},{state:"Illinois",activeListings:28,avgPayRate:7200,fillRate:64.3,topSpecialty:"Emergency Medicine"}],A=()=>{console.log(`Exporting analytics report as ${w.toUpperCase()}...`),alert(`Analytics report exported as ${w.toUpperCase()}`)},F=l=>l==="up"?"ri-arrow-up-line":l==="down"?"ri-arrow-down-line":"ri-subtract-line",D=(l,n=!1)=>l==="neutral"?"text-gray-500":n?l==="up"?"text-red-600":"text-green-600":l==="up"?"text-green-600":"text-red-600",T=l=>{const n={blue:"bg-blue-100 text-blue-600",green:"bg-green-100 text-green-600",teal:"bg-teal-100 text-teal-600",purple:"bg-purple-100 text-purple-600",amber:"bg-amber-100 text-amber-600",indigo:"bg-indigo-100 text-indigo-600"};return n[l]||n.blue},I=l=>l>=95?"text-green-600 bg-green-50":l>=90?"text-teal-600 bg-teal-50":l>=85?"text-blue-600 bg-blue-50":l>=80?"text-amber-600 bg-amber-50":"text-red-600 bg-red-50";return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Analytics & Intelligence"}),e.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Automated insights and market intelligence"})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs("select",{value:r,onChange:l=>c(l.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-teal-500",children:[e.jsx("option",{value:"7",children:"Last 7 Days"}),e.jsx("option",{value:"30",children:"Last 30 Days"}),e.jsx("option",{value:"90",children:"Last 90 Days"}),e.jsx("option",{value:"365",children:"Last Year"})]}),e.jsxs("select",{value:w,onChange:l=>v(l.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-teal-500",children:[e.jsx("option",{value:"pdf",children:"Export as PDF"}),e.jsx("option",{value:"csv",children:"Export as CSV"})]}),e.jsxs("button",{onClick:A,className:"px-4 py-2 bg-teal-600 text-white rounded-lg hover:bg-teal-700 transition-colors text-sm font-medium whitespace-nowrap flex items-center gap-2",children:[e.jsx("i",{className:"ri-download-line"}),"Export Report"]})]})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-6 gap-4",children:j.map((l,n)=>e.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-4",children:[e.jsxs("div",{className:"flex items-start justify-between mb-3",children:[e.jsx("div",{className:`w-10 h-10 rounded-lg ${T(l.color)} flex items-center justify-center`,children:e.jsx("i",{className:`${l.icon} text-lg`})}),e.jsxs("div",{className:`flex items-center gap-1 text-xs font-medium ${D(l.trend,l.label.includes("Dispute")||l.label.includes("Resolution"))}`,children:[e.jsx("i",{className:F(l.trend)}),l.change]})]}),e.jsx("div",{className:"text-2xl font-bold text-gray-900 mb-1",children:l.value}),e.jsx("div",{className:"text-xs text-gray-600",children:l.label})]},n))}),e.jsxs("div",{className:"bg-white rounded-lg border border-gray-200",children:[e.jsx("div",{className:"border-b border-gray-200",children:e.jsx("div",{className:"flex overflow-x-auto",children:[{id:"overview",label:"Overview",icon:"ri-dashboard-line"},{id:"revenue",label:"Revenue Tracking",icon:"ri-money-dollar-circle-line"},{id:"disputes",label:"Dispute Metrics",icon:"ri-alert-line"},{id:"reliability",label:"User Reliability",icon:"ri-star-line"},{id:"market",label:"Market Insights",icon:"ri-line-chart-line"},{id:"geographic",label:"Geographic Analysis",icon:"ri-map-pin-line"}].map(l=>e.jsxs("button",{onClick:()=>m(l.id),className:`px-6 py-3 text-sm font-medium whitespace-nowrap border-b-2 transition-colors flex items-center gap-2 ${i===l.id?"border-teal-600 text-teal-600":"border-transparent text-gray-600 hover:text-gray-900"}`,children:[e.jsx("i",{className:l.icon}),l.label]},l.id))})}),e.jsxs("div",{className:"p-6",children:[i==="overview"&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Conversion Rates by Specialty"}),e.jsx("div",{className:"space-y-3",children:p.map((l,n)=>e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"w-48 text-sm font-medium text-gray-700",children:l.specialty}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[e.jsx("div",{className:"flex-1 bg-gray-100 rounded-full h-2 overflow-hidden",children:e.jsx("div",{className:`h-full rounded-full ${l.rate>=85?"bg-green-500":l.rate>=70?"bg-teal-500":"bg-amber-500"}`,style:{width:`${l.rate}%`}})}),e.jsxs("span",{className:"text-sm font-semibold text-gray-900 w-12 text-right",children:[l.rate,"%"]})]}),e.jsxs("div",{className:"text-xs text-gray-500",children:[l.filled," filled / ",l.posted," posted"]})]})]},n))})]}),e.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("i",{className:"ri-information-line text-blue-600 text-xl"}),e.jsxs("div",{children:[e.jsx("div",{className:"font-medium text-blue-900 mb-1",children:"Automated Analytics"}),e.jsx("div",{className:"text-sm text-blue-700",children:"All metrics update automatically in real-time. No manual data entry required. Export reports for detailed analysis."})]})]})})]}),i==="revenue"&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Revenue Trends (Last 6 Months)"}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"border-b border-gray-200",children:[e.jsx("th",{className:"text-left py-3 px-4 text-sm font-semibold text-gray-700",children:"Month"}),e.jsx("th",{className:"text-right py-3 px-4 text-sm font-semibold text-gray-700",children:"Total Revenue"}),e.jsx("th",{className:"text-right py-3 px-4 text-sm font-semibold text-gray-700",children:"Platform Fees (15%)"}),e.jsx("th",{className:"text-right py-3 px-4 text-sm font-semibold text-gray-700",children:"Assignments"}),e.jsx("th",{className:"text-right py-3 px-4 text-sm font-semibold text-gray-700",children:"Avg per Assignment"})]})}),e.jsx("tbody",{children:y.map((l,n)=>e.jsxs("tr",{className:"border-b border-gray-100 hover:bg-gray-50",children:[e.jsx("td",{className:"py-3 px-4 text-sm font-medium text-gray-900",children:l.month}),e.jsxs("td",{className:"py-3 px-4 text-sm text-right font-semibold text-gray-900",children:["$",l.revenue.toLocaleString()]}),e.jsxs("td",{className:"py-3 px-4 text-sm text-right text-teal-600 font-semibold",children:["$",l.fees.toLocaleString()]}),e.jsx("td",{className:"py-3 px-4 text-sm text-right text-gray-700",children:l.assignments}),e.jsxs("td",{className:"py-3 px-4 text-sm text-right text-gray-700",children:["$",Math.round(l.revenue/l.assignments).toLocaleString()]})]},n))}),e.jsx("tfoot",{children:e.jsxs("tr",{className:"bg-gray-50 font-semibold",children:[e.jsx("td",{className:"py-3 px-4 text-sm text-gray-900",children:"Total"}),e.jsxs("td",{className:"py-3 px-4 text-sm text-right text-gray-900",children:["$",y.reduce((l,n)=>l+n.revenue,0).toLocaleString()]}),e.jsxs("td",{className:"py-3 px-4 text-sm text-right text-teal-600",children:["$",y.reduce((l,n)=>l+n.fees,0).toLocaleString()]}),e.jsx("td",{className:"py-3 px-4 text-sm text-right text-gray-900",children:y.reduce((l,n)=>l+n.assignments,0)}),e.jsx("td",{className:"py-3 px-4 text-sm text-right text-gray-700",children:"â€”"})]})})]})})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{className:"bg-gradient-to-br from-teal-50 to-teal-100 rounded-lg p-4 border border-teal-200",children:[e.jsx("div",{className:"text-sm text-teal-700 mb-1",children:"Growth Rate"}),e.jsx("div",{className:"text-2xl font-bold text-teal-900",children:"+42.0%"}),e.jsx("div",{className:"text-xs text-teal-600 mt-1",children:"Jan to Jun 2025"})]}),e.jsxs("div",{className:"bg-gradient-to-br from-purple-50 to-purple-100 rounded-lg p-4 border border-purple-200",children:[e.jsx("div",{className:"text-sm text-purple-700 mb-1",children:"Avg Assignment Value"}),e.jsx("div",{className:"text-2xl font-bold text-purple-900",children:"$8,547"}),e.jsx("div",{className:"text-xs text-purple-600 mt-1",children:"Across all specialties"})]}),e.jsxs("div",{className:"bg-gradient-to-br from-blue-50 to-blue-100 rounded-lg p-4 border border-blue-200",children:[e.jsx("div",{className:"text-sm text-blue-700 mb-1",children:"Fee Collection Rate"}),e.jsx("div",{className:"text-2xl font-bold text-blue-900",children:"99.8%"}),e.jsx("div",{className:"text-xs text-blue-600 mt-1",children:"Automated collection"})]})]})]}),i==="disputes"&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Dispute Frequency & Resolution"}),e.jsx("div",{className:"space-y-3",children:k.map((l,n)=>e.jsxs("div",{className:"bg-gray-50 rounded-lg p-4 border border-gray-200",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"text-sm font-semibold text-gray-900",children:l.type}),e.jsxs("span",{className:"px-2 py-1 bg-amber-100 text-amber-700 text-xs font-medium rounded",children:[l.count," active"]})]}),e.jsxs("div",{className:`flex items-center gap-1 text-sm font-medium ${D(l.trend,!0)}`,children:[e.jsx("i",{className:F(l.trend)}),l.trend==="up"?"Increasing":l.trend==="down"?"Decreasing":"Stable"]})]}),e.jsx("div",{className:"flex items-center gap-6 text-sm text-gray-600",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("i",{className:"ri-time-line text-gray-400"}),"Avg resolution: ",e.jsxs("span",{className:"font-medium text-gray-900",children:[l.avgResolutionDays," days"]})]})})]},n))})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[e.jsx("i",{className:"ri-checkbox-circle-line text-green-600 text-xl"}),e.jsx("div",{className:"text-sm font-semibold text-green-900",children:"Resolution Success Rate"})]}),e.jsx("div",{className:"text-3xl font-bold text-green-900 mb-1",children:"94.2%"}),e.jsx("div",{className:"text-sm text-green-700",children:"Disputes resolved without escalation"})]}),e.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[e.jsx("i",{className:"ri-calendar-check-line text-blue-600 text-xl"}),e.jsx("div",{className:"text-sm font-semibold text-blue-900",children:"Avg Time to Resolution"})]}),e.jsx("div",{className:"text-3xl font-bold text-blue-900 mb-1",children:"3.1 days"}),e.jsx("div",{className:"text-sm text-blue-700",children:"15% improvement from last period"})]})]}),e.jsx("div",{className:"bg-amber-50 border border-amber-200 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("i",{className:"ri-lightbulb-line text-amber-600 text-xl"}),e.jsxs("div",{children:[e.jsx("div",{className:"font-medium text-amber-900 mb-1",children:"Insight"}),e.jsx("div",{className:"text-sm text-amber-700",children:"Dispute frequency has decreased 25% this period. Payment disputes resolve fastest (2.8 days avg). Contract violations require more time (4.5 days avg) due to documentation review."})]})]})})]}),i==="reliability"&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Top Reliability Scores"}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"border-b border-gray-200",children:[e.jsx("th",{className:"text-left py-3 px-4 text-sm font-semibold text-gray-700",children:"User"}),e.jsx("th",{className:"text-left py-3 px-4 text-sm font-semibold text-gray-700",children:"Type"}),e.jsx("th",{className:"text-center py-3 px-4 text-sm font-semibold text-gray-700",children:"Score"}),e.jsx("th",{className:"text-right py-3 px-4 text-sm font-semibold text-gray-700",children:"Completion Rate"}),e.jsx("th",{className:"text-right py-3 px-4 text-sm font-semibold text-gray-700",children:"Cancellation Rate"}),e.jsx("th",{className:"text-right py-3 px-4 text-sm font-semibold text-gray-700",children:"Avg Rating"}),e.jsx("th",{className:"text-right py-3 px-4 text-sm font-semibold text-gray-700",children:"Total Assignments"})]})}),e.jsx("tbody",{children:g.map((l,n)=>e.jsxs("tr",{className:"border-b border-gray-100 hover:bg-gray-50",children:[e.jsxs("td",{className:"py-3 px-4",children:[e.jsx("div",{className:"text-sm font-medium text-gray-900",children:l.name}),e.jsx("div",{className:"text-xs text-gray-500",children:l.userId})]}),e.jsx("td",{className:"py-3 px-4",children:e.jsx("span",{className:`px-2 py-1 rounded text-xs font-medium ${l.type==="Physician"?"bg-blue-100 text-blue-700":"bg-purple-100 text-purple-700"}`,children:l.type})}),e.jsx("td",{className:"py-3 px-4 text-center",children:e.jsx("span",{className:`px-3 py-1 rounded-full text-sm font-bold ${I(l.score)}`,children:l.score})}),e.jsxs("td",{className:"py-3 px-4 text-right text-sm text-gray-900",children:[l.completionRate,"%"]}),e.jsxs("td",{className:"py-3 px-4 text-right text-sm text-gray-900",children:[l.cancellationRate,"%"]}),e.jsx("td",{className:"py-3 px-4 text-right",children:e.jsxs("div",{className:"flex items-center justify-end gap-1",children:[e.jsx("i",{className:"ri-star-fill text-amber-400 text-sm"}),e.jsx("span",{className:"text-sm font-medium text-gray-900",children:l.avgRating})]})}),e.jsx("td",{className:"py-3 px-4 text-right text-sm text-gray-700",children:l.totalAssignments})]},n))})]})})]}),e.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("i",{className:"ri-information-line text-blue-600 text-xl"}),e.jsxs("div",{children:[e.jsx("div",{className:"font-medium text-blue-900 mb-1",children:"Reliability Score Calculation"}),e.jsx("div",{className:"text-sm text-blue-700",children:"Scores are calculated automatically based on completion rate (40%), cancellation rate (30%), average rating (20%), and total assignments (10%). Updated in real-time after each assignment."})]})]})})]}),i==="market"&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Specialty Demand Trends"}),e.jsx("div",{className:"space-y-3",children:C.map((l,n)=>e.jsxs("div",{className:"bg-gray-50 rounded-lg p-4 border border-gray-200",children:[e.jsx("div",{className:"flex items-center justify-between mb-3",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"text-sm font-semibold text-gray-900",children:l.specialty}),e.jsxs("span",{className:`px-2 py-1 rounded text-xs font-medium flex items-center gap-1 ${l.trend==="increasing"?"bg-green-100 text-green-700":l.trend==="decreasing"?"bg-red-100 text-red-700":"bg-gray-100 text-gray-700"}`,children:[e.jsx("i",{className:`${l.trend==="increasing"?"ri-arrow-up-line":l.trend==="decreasing"?"ri-arrow-down-line":"ri-subtract-line"}`}),l.trend]})]})}),e.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-xs text-gray-600 mb-1",children:"Active Listings"}),e.jsx("div",{className:"text-lg font-bold text-gray-900",children:l.activeListings})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-xs text-gray-600 mb-1",children:"Fill Rate"}),e.jsxs("div",{className:"text-lg font-bold text-gray-900",children:[l.fillRate,"%"]})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-xs text-gray-600 mb-1",children:"Avg Pay Rate"}),e.jsxs("div",{className:"text-lg font-bold text-gray-900",children:["$",l.avgPayRate.toLocaleString()]})]})]})]},n))})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Pricing Anomalies"}),e.jsx("div",{className:"space-y-3",children:h.map(l=>e.jsxs("div",{className:`rounded-lg p-4 border ${l.flagged?"bg-red-50 border-red-200":"bg-amber-50 border-amber-200"}`,children:[e.jsxs("div",{className:"flex items-start justify-between mb-2",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[e.jsx("span",{className:"text-sm font-semibold text-gray-900",children:l.specialty}),l.flagged&&e.jsx("span",{className:"px-2 py-1 bg-red-100 text-red-700 text-xs font-medium rounded",children:"Flagged"})]}),e.jsxs("div",{className:"text-xs text-gray-600",children:[l.facility," â€¢ ",l.date]})]}),e.jsxs("div",{className:"text-right",children:[e.jsxs("div",{className:"text-lg font-bold text-gray-900",children:["$",l.amount.toLocaleString()]}),e.jsxs("div",{className:`text-xs font-medium ${l.deviation>0?"text-red-600":"text-green-600"}`,children:[l.deviation>0?"+":"",l.deviation.toFixed(1),"% vs market"]})]})]}),e.jsxs("div",{className:"text-xs text-gray-600",children:["Market average: $",l.marketAvg.toLocaleString()]})]},l.id))})]}),e.jsx("div",{className:"bg-purple-50 border border-purple-200 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("i",{className:"ri-lightbulb-line text-purple-600 text-xl"}),e.jsxs("div",{children:[e.jsx("div",{className:"font-medium text-purple-900 mb-1",children:"Market Insight"}),e.jsx("div",{className:"text-sm text-purple-700",children:"Emergency Medicine and Hospitalist specialties show increasing demand. Pricing anomalies exceeding Â±40% are automatically flagged for review. Consider market benchmarking tools for facilities."})]})]})})]}),i==="geographic"&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"State-by-State Analysis"}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"border-b border-gray-200",children:[e.jsx("th",{className:"text-left py-3 px-4 text-sm font-semibold text-gray-700",children:"State"}),e.jsx("th",{className:"text-right py-3 px-4 text-sm font-semibold text-gray-700",children:"Active Listings"}),e.jsx("th",{className:"text-right py-3 px-4 text-sm font-semibold text-gray-700",children:"Avg Pay Rate"}),e.jsx("th",{className:"text-right py-3 px-4 text-sm font-semibold text-gray-700",children:"Fill Rate"}),e.jsx("th",{className:"text-left py-3 px-4 text-sm font-semibold text-gray-700",children:"Top Specialty"})]})}),e.jsx("tbody",{children:u.map((l,n)=>e.jsxs("tr",{className:"border-b border-gray-100 hover:bg-gray-50",children:[e.jsx("td",{className:"py-3 px-4 text-sm font-medium text-gray-900",children:l.state}),e.jsx("td",{className:"py-3 px-4 text-sm text-right text-gray-900",children:l.activeListings}),e.jsxs("td",{className:"py-3 px-4 text-sm text-right font-semibold text-gray-900",children:["$",l.avgPayRate.toLocaleString()]}),e.jsx("td",{className:"py-3 px-4 text-right",children:e.jsxs("div",{className:"flex items-center justify-end gap-2",children:[e.jsx("div",{className:"w-20 bg-gray-200 rounded-full h-2",children:e.jsx("div",{className:`h-full rounded-full ${l.fillRate>=75?"bg-green-500":l.fillRate>=65?"bg-teal-500":"bg-amber-500"}`,style:{width:`${l.fillRate}%`}})}),e.jsxs("span",{className:"text-sm font-medium text-gray-900 w-12",children:[l.fillRate,"%"]})]})}),e.jsx("td",{className:"py-3 px-4 text-sm text-gray-700",children:l.topSpecialty})]},n))})]})})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"bg-gradient-to-br from-blue-50 to-blue-100 rounded-lg p-4 border border-blue-200",children:[e.jsx("div",{className:"text-sm text-blue-700 mb-2",children:"Highest Pay Rates"}),e.jsx("div",{className:"text-2xl font-bold text-blue-900 mb-1",children:"New York"}),e.jsx("div",{className:"text-sm text-blue-700",children:"$9,800 average per assignment"})]}),e.jsxs("div",{className:"bg-gradient-to-br from-green-50 to-green-100 rounded-lg p-4 border border-green-200",children:[e.jsx("div",{className:"text-sm text-green-700 mb-2",children:"Highest Fill Rate"}),e.jsx("div",{className:"text-2xl font-bold text-green-900 mb-1",children:"New York"}),e.jsx("div",{className:"text-sm text-green-700",children:"81.4% of postings filled"})]})]}),e.jsx("div",{className:"bg-teal-50 border border-teal-200 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("i",{className:"ri-map-pin-line text-teal-600 text-xl"}),e.jsxs("div",{children:[e.jsx("div",{className:"font-medium text-teal-900 mb-1",children:"Geographic Insight"}),e.jsx("div",{className:"text-sm text-teal-700",children:"California leads in total listings (62) but has moderate fill rates (72.5%). New York shows highest pay rates and fill rates, indicating strong demand. Texas and Florida represent growing markets with competitive rates."})]})]})})]})]})]})]})}const de=()=>{const[i,m]=x.useState("current"),[r,c]=x.useState(!1),[w,v]=x.useState(!1),[j,p]=x.useState("15"),[y,k]=x.useState(""),[g,h]=x.useState(""),[C,u]=x.useState(""),[A,F]=x.useState(""),[D,T]=x.useState(""),[I,l]=x.useState(""),[n,S]=x.useState(""),[o,N]=x.useState(""),b={name:"John Smith",role:"Super Admin",id:"ADMIN-001"},R={feePercentage:15,effectiveDate:"2024-01-01T00:00:00Z",createdBy:"System Administrator",notes:"Standard platform fee for all transactions"},t=[{id:"FEE-2024-001",feePercentage:15,effectiveDate:"2024-01-01T00:00:00Z",createdAt:"2023-12-15T10:00:00Z",createdBy:"System Administrator",status:"active",notes:"Standard platform fee for all transactions"},{id:"FEE-2023-002",feePercentage:12,effectiveDate:"2023-06-01T00:00:00Z",createdAt:"2023-05-20T14:30:00Z",createdBy:"John Smith",status:"expired",notes:"Promotional rate for platform launch"},{id:"FEE-2023-001",feePercentage:10,effectiveDate:"2023-01-01T00:00:00Z",createdAt:"2022-12-10T09:00:00Z",createdBy:"System Administrator",status:"expired",notes:"Initial platform fee"}],f=[{id:"DISC-2024-001",facilityId:"FAC-001",facilityName:"Memorial Hospital",discountPercentage:20,effectiveFeePercentage:12,startDate:"2024-01-01T00:00:00Z",endDate:"2024-12-31T23:59:59Z",reason:"High-volume partner - 100+ assignments per year",approvedBy:"John Smith (Super Admin)",approvedAt:"2023-12-20T15:30:00Z",status:"active"},{id:"DISC-2024-002",facilityId:"FAC-002",facilityName:"City Medical Center",discountPercentage:10,effectiveFeePercentage:13.5,startDate:"2024-02-01T00:00:00Z",endDate:"2024-06-30T23:59:59Z",reason:"New partner promotional rate - first 6 months",approvedBy:"Sarah Johnson (Operations Manager)",approvedAt:"2024-01-25T11:00:00Z",status:"active"},{id:"DISC-2023-005",facilityId:"FAC-005",facilityName:"Regional Health System",discountPercentage:15,effectiveFeePercentage:12.75,startDate:"2023-09-01T00:00:00Z",endDate:"2023-12-31T23:59:59Z",reason:"Q4 promotional campaign",approvedBy:"John Smith (Super Admin)",approvedAt:"2023-08-28T16:45:00Z",status:"expired"}],M=a=>new Date(a).toLocaleString("en-US",{month:"short",day:"numeric",year:"numeric",hour:"2-digit",minute:"2-digit"}),s=a=>new Date(a).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"}),P=()=>{if(!j||!y){alert("Please fill in all required fields");return}const a=parseFloat(j);if(isNaN(a)||a<0||a>100){alert("Fee percentage must be between 0 and 100");return}const E={action:"CREATE_FEE_CONFIGURATION",adminName:b.name,adminRole:b.role,adminId:b.id,timestamp:new Date().toISOString(),previousFee:R.feePercentage,newFee:a,effectiveDate:y,notes:g};console.log("Fee Configuration Audit Log:",E),alert(`New platform fee of ${a}% scheduled for ${s(y)}

This action has been logged with your admin identity.`),c(!1),p("15"),k(""),h("")},L=()=>{if(!C||!A||!D||!I||!o){alert("Please fill in all required fields");return}const a=parseFloat(D);if(isNaN(a)||a<0||a>100){alert("Discount percentage must be between 0 and 100");return}const E=R.feePercentage*(1-a/100),_={action:"CREATE_DISCOUNT_OVERRIDE",adminName:b.name,adminRole:b.role,adminId:b.id,timestamp:new Date().toISOString(),facilityId:C,facilityName:A,discountPercentage:a,effectiveFeePercentage:E,startDate:I,endDate:n||"No end date",reason:o};console.log("Discount Override Audit Log:",_),alert(`Discount created for ${A}

Discount: ${a}%
Effective Fee: ${E.toFixed(2)}%

This action has been logged with your admin identity.`),v(!1),u(""),F(""),T(""),l(""),S(""),N("")},d=a=>{if(!confirm(`Are you sure you want to cancel the discount for ${a.facilityName}?`))return;const E={action:"CANCEL_DISCOUNT_OVERRIDE",adminName:b.name,adminRole:b.role,adminId:b.id,timestamp:new Date().toISOString(),discountId:a.id,facilityId:a.facilityId,facilityName:a.facilityName,reason:"Admin cancellation"};console.log("Discount Cancellation Audit Log:",E),alert(`Discount cancelled for ${a.facilityName}

This action has been logged with your admin identity.`)};return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold text-slate-900",children:"Platform Fee Management"}),e.jsx("p",{className:"text-slate-600 mt-1",children:"Configure platform fees and manage facility discounts"})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs("button",{onClick:()=>v(!0),className:"px-4 py-2 bg-white border border-slate-300 text-slate-700 rounded-lg hover:bg-slate-50 transition-colors whitespace-nowrap flex items-center gap-2",children:[e.jsx("i",{className:"ri-percent-line"}),"Create Discount"]}),e.jsxs("button",{onClick:()=>c(!0),className:"px-4 py-2 bg-teal-600 text-white rounded-lg hover:bg-teal-700 transition-colors whitespace-nowrap flex items-center gap-2",children:[e.jsx("i",{className:"ri-add-line"}),"Update Platform Fee"]})]})]}),e.jsx("div",{className:"border-b border-slate-200",children:e.jsxs("div",{className:"flex gap-6",children:[e.jsx("button",{onClick:()=>m("current"),className:`pb-3 px-1 border-b-2 transition-colors whitespace-nowrap ${i==="current"?"border-teal-600 text-teal-600 font-medium":"border-transparent text-slate-600 hover:text-slate-900"}`,children:"Current Configuration"}),e.jsx("button",{onClick:()=>m("history"),className:`pb-3 px-1 border-b-2 transition-colors whitespace-nowrap ${i==="history"?"border-teal-600 text-teal-600 font-medium":"border-transparent text-slate-600 hover:text-slate-900"}`,children:"Fee History"}),e.jsxs("button",{onClick:()=>m("discounts"),className:`pb-3 px-1 border-b-2 transition-colors whitespace-nowrap ${i==="discounts"?"border-teal-600 text-teal-600 font-medium":"border-transparent text-slate-600 hover:text-slate-900"}`,children:["Discount Overrides",f.filter(a=>a.status==="active").length>0&&e.jsx("span",{className:"ml-2 px-2 py-0.5 bg-teal-100 text-teal-800 text-xs rounded-full",children:f.filter(a=>a.status==="active").length})]})]})}),i==="current"&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-gradient-to-br from-teal-50 to-green-50 rounded-2xl p-8 border-2 border-teal-200",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-2xl font-bold text-slate-900 mb-2",children:"Current Platform Fee"}),e.jsx("p",{className:"text-slate-600",children:"Applied to all facility transactions"})]}),e.jsxs("div",{className:"text-right",children:[e.jsxs("div",{className:"text-6xl font-bold text-teal-600",children:[R.feePercentage,"%"]}),e.jsx("div",{className:"text-sm text-slate-600 mt-2",children:"Standard Rate"})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4 pt-6 border-t border-teal-200",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-sm text-slate-600 mb-1",children:"Effective Date"}),e.jsx("div",{className:"font-medium text-slate-900",children:s(R.effectiveDate)})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-sm text-slate-600 mb-1",children:"Created By"}),e.jsx("div",{className:"font-medium text-slate-900",children:R.createdBy})]}),e.jsxs("div",{className:"col-span-2",children:[e.jsx("div",{className:"text-sm text-slate-600 mb-1",children:"Notes"}),e.jsx("div",{className:"font-medium text-slate-900",children:R.notes})]})]})]}),e.jsxs("div",{className:"bg-white rounded-lg border border-slate-200 p-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-slate-900 mb-4",children:"Fee Calculation Examples"}),e.jsx("div",{className:"space-y-4",children:[5e3,8e3,1e4,15e3].map(a=>{const E=Math.round(a*(R.feePercentage/100)),_=a+E;return e.jsxs("div",{className:"flex items-center justify-between p-4 bg-slate-50 rounded-lg",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"font-medium text-slate-900",children:["Assignment Value: $",a.toLocaleString()]}),e.jsxs("div",{className:"text-sm text-slate-600 mt-1",children:["Platform Fee (",R.feePercentage,"%): $",E.toLocaleString()]})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("div",{className:"text-sm text-slate-600",children:"Total Facility Cost"}),e.jsxs("div",{className:"text-xl font-bold text-teal-600",children:["$",_.toLocaleString()]})]})]},a)})})]}),e.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-6",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("i",{className:"ri-information-line text-blue-600 text-xl mt-0.5"}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-blue-900 mb-2",children:"Platform Fee Information"}),e.jsxs("ul",{className:"text-sm text-blue-800 space-y-1 list-disc list-inside",children:[e.jsx("li",{children:"Platform fee is charged to facilities only"}),e.jsx("li",{children:"Physicians receive 100% of the displayed assignment pay"}),e.jsx("li",{children:"Fee is automatically calculated and collected during escrow funding"}),e.jsx("li",{children:"All fee changes are logged with admin identity and timestamp"}),e.jsx("li",{children:"Fee changes can be scheduled for future effective dates"}),e.jsx("li",{children:"Individual facility discounts can be applied as overrides"})]})]})]})})]}),i==="history"&&e.jsx("div",{className:"space-y-6",children:e.jsxs("div",{className:"bg-white rounded-lg border border-slate-200 overflow-hidden",children:[e.jsxs("div",{className:"p-6 border-b border-slate-200",children:[e.jsx("h3",{className:"text-lg font-semibold text-slate-900",children:"Platform Fee History"}),e.jsx("p",{className:"text-sm text-slate-600 mt-1",children:"Complete history of all platform fee configurations"})]}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-slate-50 border-b border-slate-200",children:e.jsxs("tr",{children:[e.jsx("th",{className:"text-left px-6 py-3 text-sm font-semibold text-slate-900 whitespace-nowrap",children:"Fee ID"}),e.jsx("th",{className:"text-left px-6 py-3 text-sm font-semibold text-slate-900 whitespace-nowrap",children:"Fee Percentage"}),e.jsx("th",{className:"text-left px-6 py-3 text-sm font-semibold text-slate-900 whitespace-nowrap",children:"Effective Date"}),e.jsx("th",{className:"text-left px-6 py-3 text-sm font-semibold text-slate-900 whitespace-nowrap",children:"Created By"}),e.jsx("th",{className:"text-left px-6 py-3 text-sm font-semibold text-slate-900 whitespace-nowrap",children:"Created At"}),e.jsx("th",{className:"text-left px-6 py-3 text-sm font-semibold text-slate-900 whitespace-nowrap",children:"Status"}),e.jsx("th",{className:"text-left px-6 py-3 text-sm font-semibold text-slate-900 whitespace-nowrap",children:"Notes"})]})}),e.jsx("tbody",{className:"divide-y divide-slate-200",children:t.map(a=>e.jsxs("tr",{className:"hover:bg-slate-50",children:[e.jsx("td",{className:"px-6 py-4",children:e.jsx("div",{className:"font-medium text-slate-900 whitespace-nowrap",children:a.id})}),e.jsx("td",{className:"px-6 py-4",children:e.jsxs("div",{className:"text-2xl font-bold text-teal-600 whitespace-nowrap",children:[a.feePercentage,"%"]})}),e.jsx("td",{className:"px-6 py-4",children:e.jsx("div",{className:"text-sm text-slate-900 whitespace-nowrap",children:s(a.effectiveDate)})}),e.jsx("td",{className:"px-6 py-4",children:e.jsx("div",{className:"text-sm text-slate-900 whitespace-nowrap",children:a.createdBy})}),e.jsx("td",{className:"px-6 py-4",children:e.jsx("div",{className:"text-sm text-slate-900 whitespace-nowrap",children:M(a.createdAt)})}),e.jsx("td",{className:"px-6 py-4",children:e.jsx("span",{className:`px-3 py-1 text-xs rounded-full whitespace-nowrap ${a.status==="active"?"bg-green-100 text-green-800":a.status==="scheduled"?"bg-blue-100 text-blue-800":"bg-slate-100 text-slate-800"}`,children:a.status.charAt(0).toUpperCase()+a.status.slice(1)})}),e.jsx("td",{className:"px-6 py-4",children:e.jsx("div",{className:"text-sm text-slate-600 max-w-xs",children:a.notes})})]},a.id))})]})})]})}),i==="discounts"&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-white rounded-lg border border-slate-200 overflow-hidden",children:[e.jsxs("div",{className:"p-6 border-b border-slate-200",children:[e.jsx("h3",{className:"text-lg font-semibold text-slate-900",children:"Active Discount Overrides"}),e.jsx("p",{className:"text-sm text-slate-600 mt-1",children:"Facility-specific fee discounts currently in effect"})]}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-slate-50 border-b border-slate-200",children:e.jsxs("tr",{children:[e.jsx("th",{className:"text-left px-6 py-3 text-sm font-semibold text-slate-900 whitespace-nowrap",children:"Facility"}),e.jsx("th",{className:"text-left px-6 py-3 text-sm font-semibold text-slate-900 whitespace-nowrap",children:"Discount"}),e.jsx("th",{className:"text-left px-6 py-3 text-sm font-semibold text-slate-900 whitespace-nowrap",children:"Effective Fee"}),e.jsx("th",{className:"text-left px-6 py-3 text-sm font-semibold text-slate-900 whitespace-nowrap",children:"Period"}),e.jsx("th",{className:"text-left px-6 py-3 text-sm font-semibold text-slate-900 whitespace-nowrap",children:"Reason"}),e.jsx("th",{className:"text-left px-6 py-3 text-sm font-semibold text-slate-900 whitespace-nowrap",children:"Approved By"}),e.jsx("th",{className:"text-left px-6 py-3 text-sm font-semibold text-slate-900 whitespace-nowrap",children:"Status"}),e.jsx("th",{className:"text-left px-6 py-3 text-sm font-semibold text-slate-900 whitespace-nowrap",children:"Actions"})]})}),e.jsx("tbody",{className:"divide-y divide-slate-200",children:f.map(a=>e.jsxs("tr",{className:"hover:bg-slate-50",children:[e.jsxs("td",{className:"px-6 py-4",children:[e.jsx("div",{className:"font-medium text-slate-900 whitespace-nowrap",children:a.facilityName}),e.jsx("div",{className:"text-sm text-slate-600 whitespace-nowrap",children:a.facilityId})]}),e.jsx("td",{className:"px-6 py-4",children:e.jsxs("div",{className:"text-xl font-bold text-teal-600 whitespace-nowrap",children:[a.discountPercentage,"%"]})}),e.jsxs("td",{className:"px-6 py-4",children:[e.jsxs("div",{className:"text-xl font-bold text-slate-900 whitespace-nowrap",children:[a.effectiveFeePercentage,"%"]}),e.jsxs("div",{className:"text-sm text-slate-600 whitespace-nowrap",children:["vs ",R.feePercentage,"% standard"]})]}),e.jsxs("td",{className:"px-6 py-4",children:[e.jsx("div",{className:"text-sm text-slate-900 whitespace-nowrap",children:s(a.startDate)}),e.jsxs("div",{className:"text-sm text-slate-600 whitespace-nowrap",children:["to ",a.endDate?s(a.endDate):"No end date"]})]}),e.jsx("td",{className:"px-6 py-4",children:e.jsx("div",{className:"text-sm text-slate-900 max-w-xs",children:a.reason})}),e.jsxs("td",{className:"px-6 py-4",children:[e.jsx("div",{className:"text-sm text-slate-900 whitespace-nowrap",children:a.approvedBy}),e.jsx("div",{className:"text-sm text-slate-600 whitespace-nowrap",children:M(a.approvedAt)})]}),e.jsx("td",{className:"px-6 py-4",children:e.jsx("span",{className:`px-3 py-1 text-xs rounded-full whitespace-nowrap ${a.status==="active"?"bg-green-100 text-green-800":a.status==="expired"?"bg-slate-100 text-slate-800":"bg-red-100 text-red-800"}`,children:a.status.charAt(0).toUpperCase()+a.status.slice(1)})}),e.jsx("td",{className:"px-6 py-4",children:a.status==="active"&&e.jsx("button",{onClick:()=>d(a),className:"px-3 py-1 text-sm text-red-600 hover:bg-red-50 rounded-lg transition-colors whitespace-nowrap",children:"Cancel"})})]},a.id))})]})})]}),e.jsx("div",{className:"bg-amber-50 border border-amber-200 rounded-lg p-6",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("i",{className:"ri-information-line text-amber-600 text-xl mt-0.5"}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-amber-900 mb-2",children:"Discount Override Guidelines"}),e.jsxs("ul",{className:"text-sm text-amber-800 space-y-1 list-disc list-inside",children:[e.jsx("li",{children:"Discounts are applied as a percentage reduction of the standard platform fee"}),e.jsx("li",{children:"All discounts require Super Admin or Operations Manager approval"}),e.jsx("li",{children:"Discounts can be time-limited or ongoing"}),e.jsx("li",{children:"Common reasons: high-volume partners, new facility promotions, strategic partnerships"}),e.jsx("li",{children:"All discount actions are logged with admin identity and timestamp"}),e.jsx("li",{children:"Discounts can be cancelled at any time by authorized admins"})]})]})]})})]}),r&&e.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-lg max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[e.jsx("div",{className:"p-6 border-b border-slate-200",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h3",{className:"text-xl font-bold text-slate-900",children:"Update Platform Fee"}),e.jsx("button",{onClick:()=>c(!1),className:"w-8 h-8 flex items-center justify-center text-slate-400 hover:text-slate-600 rounded-lg hover:bg-slate-100 transition-colors",children:e.jsx("i",{className:"ri-close-line text-xl"})})]})}),e.jsxs("div",{className:"p-6 space-y-6",children:[e.jsx("div",{className:"bg-amber-50 border border-amber-200 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("i",{className:"ri-alert-line text-amber-600 text-xl mt-0.5"}),e.jsxs("div",{children:[e.jsx("div",{className:"font-semibold text-amber-900 mb-1",children:"Important"}),e.jsx("p",{className:"text-sm text-amber-800",children:"Changing the platform fee will affect all future transactions. This action will be logged with your admin identity and timestamp."})]})]})}),e.jsxs("div",{className:"p-4 bg-slate-50 rounded-lg",children:[e.jsx("div",{className:"text-sm text-slate-600 mb-1",children:"Current Platform Fee"}),e.jsxs("div",{className:"text-3xl font-bold text-slate-900",children:[R.feePercentage,"%"]})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-slate-900 mb-2",children:["New Fee Percentage ",e.jsx("span",{className:"text-red-600",children:"*"})]}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:"number",value:j,onChange:a=>p(a.target.value),min:"0",max:"100",step:"0.1",className:"w-full px-4 py-2 pr-12 border border-slate-300 rounded-lg focus:ring-2 focus:ring-teal-500 focus:border-transparent",placeholder:"15"}),e.jsx("div",{className:"absolute right-4 top-1/2 -translate-y-1/2 text-slate-600 font-medium",children:"%"})]})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-slate-900 mb-2",children:["Effective Date ",e.jsx("span",{className:"text-red-600",children:"*"})]}),e.jsx("input",{type:"date",value:y,onChange:a=>k(a.target.value),className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-teal-500 focus:border-transparent"}),e.jsx("p",{className:"text-sm text-slate-600 mt-1",children:"The date when this fee will become active. Can be set to a future date."})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-slate-900 mb-2",children:"Notes"}),e.jsx("textarea",{value:g,onChange:a=>h(a.target.value),rows:3,className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-teal-500 focus:border-transparent resize-none",placeholder:"Reason for fee change, business justification, etc."})]}),e.jsx("div",{className:"p-4 bg-blue-50 border border-blue-200 rounded-lg",children:e.jsxs("div",{className:"text-sm text-blue-900",children:[e.jsx("div",{className:"font-semibold mb-1",children:"This action will be logged as:"}),e.jsxs("div",{children:["Admin: ",b.name]}),e.jsxs("div",{children:["Role: ",b.role]}),e.jsxs("div",{children:["Timestamp: ",new Date().toLocaleString()]})]})})]}),e.jsxs("div",{className:"p-6 border-t border-slate-200 flex justify-end gap-3",children:[e.jsx("button",{onClick:()=>c(!1),className:"px-4 py-2 text-slate-700 hover:bg-slate-100 rounded-lg transition-colors whitespace-nowrap",children:"Cancel"}),e.jsx("button",{onClick:P,className:"px-4 py-2 bg-teal-600 text-white rounded-lg hover:bg-teal-700 transition-colors whitespace-nowrap",children:"Update Platform Fee"})]})]})}),w&&e.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-lg max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[e.jsx("div",{className:"p-6 border-b border-slate-200",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h3",{className:"text-xl font-bold text-slate-900",children:"Create Discount Override"}),e.jsx("button",{onClick:()=>v(!1),className:"w-8 h-8 flex items-center justify-center text-slate-400 hover:text-slate-600 rounded-lg hover:bg-slate-100 transition-colors",children:e.jsx("i",{className:"ri-close-line text-xl"})})]})}),e.jsxs("div",{className:"p-6 space-y-6",children:[e.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("i",{className:"ri-information-line text-blue-600 text-xl mt-0.5"}),e.jsx("div",{children:e.jsxs("p",{className:"text-sm text-blue-800",children:["Create a custom discount for a specific facility. The discount will be applied as a percentage reduction of the standard ",R.feePercentage,"% platform fee."]})})]})}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-slate-900 mb-2",children:["Facility ID ",e.jsx("span",{className:"text-red-600",children:"*"})]}),e.jsx("input",{type:"text",value:C,onChange:a=>u(a.target.value),className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-teal-500 focus:border-transparent",placeholder:"FAC-001"})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-slate-900 mb-2",children:["Facility Name ",e.jsx("span",{className:"text-red-600",children:"*"})]}),e.jsx("input",{type:"text",value:A,onChange:a=>F(a.target.value),className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-teal-500 focus:border-transparent",placeholder:"Memorial Hospital"})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-slate-900 mb-2",children:["Discount Percentage ",e.jsx("span",{className:"text-red-600",children:"*"})]}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:"number",value:D,onChange:a=>T(a.target.value),min:"0",max:"100",step:"1",className:"w-full px-4 py-2 pr-12 border border-slate-300 rounded-lg focus:ring-2 focus:ring-teal-500 focus:border-transparent",placeholder:"20"}),e.jsx("div",{className:"absolute right-4 top-1/2 -translate-y-1/2 text-slate-600 font-medium",children:"%"})]}),D&&e.jsxs("p",{className:"text-sm text-slate-600 mt-1",children:["Effective fee will be: ",(R.feePercentage*(1-parseFloat(D)/100)).toFixed(2),"%"]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-slate-900 mb-2",children:["Start Date ",e.jsx("span",{className:"text-red-600",children:"*"})]}),e.jsx("input",{type:"date",value:I,onChange:a=>l(a.target.value),className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-teal-500 focus:border-transparent"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-slate-900 mb-2",children:"End Date (Optional)"}),e.jsx("input",{type:"date",value:n,onChange:a=>S(a.target.value),className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-teal-500 focus:border-transparent"})]})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-slate-900 mb-2",children:["Reason ",e.jsx("span",{className:"text-red-600",children:"*"})]}),e.jsx("textarea",{value:o,onChange:a=>N(a.target.value),rows:3,className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-teal-500 focus:border-transparent resize-none",placeholder:"High-volume partner, promotional campaign, strategic partnership, etc."})]}),e.jsx("div",{className:"p-4 bg-blue-50 border border-blue-200 rounded-lg",children:e.jsxs("div",{className:"text-sm text-blue-900",children:[e.jsx("div",{className:"font-semibold mb-1",children:"This action will be logged as:"}),e.jsxs("div",{children:["Admin: ",b.name]}),e.jsxs("div",{children:["Role: ",b.role]}),e.jsxs("div",{children:["Timestamp: ",new Date().toLocaleString()]})]})})]}),e.jsxs("div",{className:"p-6 border-t border-slate-200 flex justify-end gap-3",children:[e.jsx("button",{onClick:()=>v(!1),className:"px-4 py-2 text-slate-700 hover:bg-slate-100 rounded-lg transition-colors whitespace-nowrap",children:"Cancel"}),e.jsx("button",{onClick:L,className:"px-4 py-2 bg-teal-600 text-white rounded-lg hover:bg-teal-700 transition-colors whitespace-nowrap",children:"Create Discount"})]})]})})]})},oe=({session:i})=>{const[m,r]=x.useState("accounts"),[c,w]=x.useState(!1),[v,j]=x.useState(!1),[p,y]=x.useState(null),[k,g]=x.useState("Operating"),[h,C]=x.useState(""),[u,A]=x.useState(""),[F,D]=x.useState(""),[T,I]=x.useState(""),[l,n]=x.useState("USD"),S=[{id:"BANK-001",accountType:"Operating",bankName:"Chase Bank",accountNumber:"****1234",routingNumber:"021000021",accountHolderName:"LOCUM BNB LLC",currency:"USD",status:"Active",balance:487500,lastUpdated:"2024-03-21T10:30:00Z",addedBy:"John Smith (Super Admin)",addedAt:"2024-01-15T09:00:00Z",verifiedBy:"Sarah Johnson (Finance Manager)",verifiedAt:"2024-01-15T14:30:00Z"},{id:"BANK-002",accountType:"Fee Collection",bankName:"Bank of America",accountNumber:"****5678",routingNumber:"026009593",accountHolderName:"LOCUM BNB LLC",currency:"USD",status:"Active",balance:186750,lastUpdated:"2024-03-21T11:15:00Z",addedBy:"John Smith (Super Admin)",addedAt:"2024-01-20T10:00:00Z",verifiedBy:"Sarah Johnson (Finance Manager)",verifiedAt:"2024-01-20T15:00:00Z"},{id:"BANK-003",accountType:"Escrow Reserve",bankName:"Wells Fargo",accountNumber:"****9012",routingNumber:"121000248",accountHolderName:"LOCUM BNB ESCROW LLC",currency:"USD",status:"Active",balance:1245e3,lastUpdated:"2024-03-21T09:45:00Z",addedBy:"John Smith (Super Admin)",addedAt:"2024-01-10T11:30:00Z",verifiedBy:"John Smith (Super Admin)",verifiedAt:"2024-01-10T16:00:00Z"},{id:"BANK-004",accountType:"Payout",bankName:"Citibank",accountNumber:"****3456",routingNumber:"021000089",accountHolderName:"LOCUM BNB LLC",currency:"USD",status:"Pending Verification",lastUpdated:"2024-03-20T14:00:00Z",addedBy:"Sarah Johnson (Finance Manager)",addedAt:"2024-03-20T14:00:00Z"}],o=[{id:"PROV-001",providerName:"PayPal",accountEmail:"payments@locumbnb.com",apiKeyLast4:"****7890",status:"Connected",lastSync:"2024-03-21T11:30:00Z",totalTransactions:156,totalVolume:234e4},{id:"PROV-002",providerName:"Stripe",accountEmail:"billing@locumbnb.com",apiKeyLast4:"****4567",status:"Connected",lastSync:"2024-03-21T11:28:00Z",totalTransactions:89,totalVolume:1567e3},{id:"PROV-003",providerName:"Escrow.com",accountEmail:"escrow@locumbnb.com",apiKeyLast4:"****1234",status:"Connected",lastSync:"2024-03-21T11:25:00Z",totalTransactions:45,totalVolume:987e3}],N=d=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:0,maximumFractionDigits:0}).format(d),b=d=>new Date(d).toLocaleString("en-US",{month:"short",day:"numeric",year:"numeric",hour:"2-digit",minute:"2-digit"}),R=()=>{if(!h||!u||!F||!T){alert("Please fill in all required fields");return}const d={action:"ADD_BANK_ACCOUNT",adminName:i.fullName,adminRole:i.adminRole,adminId:i.adminId,sessionId:i.sessionId,timestamp:new Date().toISOString(),accountType:k,bankName:h,accountNumber:`****${u.slice(-4)}`,routingNumber:F,accountHolderName:T,currency:l};$.log(i.adminId,i.adminEmail,i.adminRole,"ADD_BANK_ACCOUNT","banking","new_account",d,i.sessionId),console.log("Bank Account Addition Audit Log:",d),alert(`Bank account added successfully!

Account Type: ${k}
Bank: ${h}

This action has been logged with your admin identity.`),w(!1),M()},t=(d,a)=>{const E={action:"UPDATE_BANK_ACCOUNT",adminName:i.fullName,adminRole:i.adminRole,adminId:i.adminId,sessionId:i.sessionId,timestamp:new Date().toISOString(),accountId:d.id,accountType:d.accountType,previousStatus:d.status,newStatus:a};$.log(i.adminId,i.adminEmail,i.adminRole,"UPDATE_BANK_ACCOUNT","banking",d.id,E,i.sessionId),console.log("Bank Account Update Audit Log:",E),alert(`Account ${d.id} status updated to ${a}

This action has been logged with your admin identity.`)},f=d=>{const a={action:"VERIFY_BANK_ACCOUNT",adminName:i.fullName,adminRole:i.adminRole,adminId:i.adminId,sessionId:i.sessionId,timestamp:new Date().toISOString(),accountId:d.id,accountType:d.accountType,bankName:d.bankName};$.log(i.adminId,i.adminEmail,i.adminRole,"VERIFY_BANK_ACCOUNT","banking",d.id,a,i.sessionId),console.log("Bank Account Verification Audit Log:",a),alert(`Account ${d.id} verified successfully!

Verified by: ${i.fullName}
Timestamp: ${new Date().toLocaleString()}

This action has been logged.`)},M=()=>{g("Operating"),C(""),A(""),D(""),I(""),n("USD")},s=d=>{switch(d){case"Active":case"Connected":return"bg-green-100 text-green-800";case"Inactive":case"Disconnected":return"bg-slate-100 text-slate-800";case"Pending Verification":return"bg-amber-100 text-amber-800";case"Error":return"bg-red-100 text-red-800";default:return"bg-slate-100 text-slate-800"}},P=d=>{switch(d){case"Operating":return"bg-blue-100 text-blue-800";case"Fee Collection":return"bg-teal-100 text-teal-800";case"Escrow Reserve":return"bg-purple-100 text-purple-800";case"Payout":return"bg-green-100 text-green-800";default:return"bg-slate-100 text-slate-800"}},L=S.filter(d=>d.status==="Active"&&d.balance).reduce((d,a)=>d+(a.balance||0),0);return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold text-white mb-2",children:"Platform Banking Information"}),e.jsx("p",{className:"text-slate-400",children:"Manage bank accounts and payment provider integrations"})]}),e.jsxs("button",{onClick:()=>w(!0),className:"px-4 py-2 bg-red-500 hover:bg-red-600 text-white rounded-lg transition-colors whitespace-nowrap flex items-center gap-2",children:[e.jsx("i",{className:"ri-add-line"}),"Add Bank Account"]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[e.jsxs("div",{className:"bg-slate-800 border border-slate-700 rounded-xl p-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("span",{className:"text-sm text-slate-400",children:"Total Balance"}),e.jsx("i",{className:"ri-money-dollar-circle-line text-green-400"})]}),e.jsx("p",{className:"text-2xl font-bold text-white",children:N(L)}),e.jsx("p",{className:"text-xs text-slate-500 mt-1",children:"Across all accounts"})]}),e.jsxs("div",{className:"bg-slate-800 border border-slate-700 rounded-xl p-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("span",{className:"text-sm text-slate-400",children:"Active Accounts"}),e.jsx("i",{className:"ri-bank-line text-blue-400"})]}),e.jsx("p",{className:"text-2xl font-bold text-white",children:S.filter(d=>d.status==="Active").length}),e.jsxs("p",{className:"text-xs text-slate-500 mt-1",children:["Of ",S.length," total"]})]}),e.jsxs("div",{className:"bg-slate-800 border border-slate-700 rounded-xl p-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("span",{className:"text-sm text-slate-400",children:"Payment Providers"}),e.jsx("i",{className:"ri-links-line text-purple-400"})]}),e.jsx("p",{className:"text-2xl font-bold text-white",children:o.filter(d=>d.status==="Connected").length}),e.jsx("p",{className:"text-xs text-slate-500 mt-1",children:"All connected"})]}),e.jsxs("div",{className:"bg-slate-800 border border-slate-700 rounded-xl p-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("span",{className:"text-sm text-slate-400",children:"Pending Verification"}),e.jsx("i",{className:"ri-time-line text-amber-400"})]}),e.jsx("p",{className:"text-2xl font-bold text-white",children:S.filter(d=>d.status==="Pending Verification").length}),e.jsx("p",{className:"text-xs text-slate-500 mt-1",children:"Requires action"})]})]}),e.jsx("div",{className:"bg-slate-800 border border-slate-700 rounded-xl p-2",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("button",{onClick:()=>r("accounts"),className:`px-4 py-2 rounded-lg whitespace-nowrap transition-colors ${m==="accounts"?"bg-red-500 text-white":"text-slate-400 hover:text-white hover:bg-slate-700"}`,children:[e.jsx("i",{className:"ri-bank-line mr-2"}),"Bank Accounts"]}),e.jsxs("button",{onClick:()=>r("providers"),className:`px-4 py-2 rounded-lg whitespace-nowrap transition-colors ${m==="providers"?"bg-red-500 text-white":"text-slate-400 hover:text-white hover:bg-slate-700"}`,children:[e.jsx("i",{className:"ri-links-line mr-2"}),"Payment Providers"]}),e.jsxs("button",{onClick:()=>r("transactions"),className:`px-4 py-2 rounded-lg whitespace-nowrap transition-colors ${m==="transactions"?"bg-red-500 text-white":"text-slate-400 hover:text-white hover:bg-slate-700"}`,children:[e.jsx("i",{className:"ri-exchange-line mr-2"}),"Recent Transactions"]})]})}),m==="accounts"&&e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{className:"bg-slate-800 border border-slate-700 rounded-xl overflow-hidden",children:e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-slate-900/50 border-b border-slate-700",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-left text-xs font-semibold text-slate-400 uppercase",children:"Account Type"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-semibold text-slate-400 uppercase",children:"Bank Name"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-semibold text-slate-400 uppercase",children:"Account Details"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-semibold text-slate-400 uppercase",children:"Balance"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-semibold text-slate-400 uppercase",children:"Status"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-semibold text-slate-400 uppercase",children:"Last Updated"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-semibold text-slate-400 uppercase",children:"Actions"})]})}),e.jsx("tbody",{className:"divide-y divide-slate-700",children:S.map(d=>e.jsxs("tr",{className:"hover:bg-slate-700/30 transition-colors",children:[e.jsx("td",{className:"px-6 py-4",children:e.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-medium ${P(d.accountType)}`,children:d.accountType})}),e.jsxs("td",{className:"px-6 py-4",children:[e.jsx("div",{className:"font-medium text-white",children:d.bankName}),e.jsx("div",{className:"text-sm text-slate-400",children:d.accountHolderName})]}),e.jsxs("td",{className:"px-6 py-4",children:[e.jsxs("div",{className:"text-sm text-white",children:["Account: ",d.accountNumber]}),e.jsxs("div",{className:"text-sm text-slate-400",children:["Routing: ",d.routingNumber]})]}),e.jsx("td",{className:"px-6 py-4",children:d.balance!==void 0?e.jsx("div",{className:"font-medium text-white",children:N(d.balance)}):e.jsx("div",{className:"text-sm text-slate-500",children:"N/A"})}),e.jsx("td",{className:"px-6 py-4",children:e.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-medium ${s(d.status)}`,children:d.status})}),e.jsx("td",{className:"px-6 py-4",children:e.jsx("div",{className:"text-sm text-slate-300",children:b(d.lastUpdated)})}),e.jsx("td",{className:"px-6 py-4",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("button",{onClick:()=>{y(d),j(!0)},className:"w-8 h-8 flex items-center justify-center bg-slate-700 hover:bg-slate-600 text-slate-300 rounded-lg transition-colors",title:"View Details",children:e.jsx("i",{className:"ri-eye-line"})}),d.status==="Pending Verification"&&e.jsx("button",{onClick:()=>f(d),className:"w-8 h-8 flex items-center justify-center bg-green-500/20 hover:bg-green-500/30 text-green-400 rounded-lg transition-colors",title:"Verify Account",children:e.jsx("i",{className:"ri-checkbox-circle-line"})}),d.status==="Active"&&e.jsx("button",{onClick:()=>t(d,"Inactive"),className:"w-8 h-8 flex items-center justify-center bg-red-500/20 hover:bg-red-500/30 text-red-400 rounded-lg transition-colors",title:"Deactivate",children:e.jsx("i",{className:"ri-close-circle-line"})}),d.status==="Inactive"&&e.jsx("button",{onClick:()=>t(d,"Active"),className:"w-8 h-8 flex items-center justify-center bg-green-500/20 hover:bg-green-500/30 text-green-400 rounded-lg transition-colors",title:"Activate",children:e.jsx("i",{className:"ri-check-line"})})]})})]},d.id))})]})})}),e.jsx("div",{className:"bg-blue-500/10 border border-blue-500/30 rounded-xl p-6",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("i",{className:"ri-information-line text-blue-400 text-xl mt-0.5"}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-blue-300 mb-2",children:"Bank Account Security"}),e.jsxs("ul",{className:"text-sm text-blue-400/80 space-y-1 list-disc list-inside",children:[e.jsx("li",{children:"All bank account additions and modifications are logged with admin identity"}),e.jsx("li",{children:"Account numbers are masked in the interface for security"}),e.jsx("li",{children:"Only Super Admin and Finance Manager roles can add or modify accounts"}),e.jsx("li",{children:"All accounts require verification before becoming active"}),e.jsx("li",{children:"Audit logs are immutable and searchable"})]})]})]})})]}),m==="providers"&&e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:o.map(d=>e.jsxs("div",{className:"bg-slate-800 border border-slate-700 rounded-xl p-6",children:[e.jsx("div",{className:"flex items-center justify-between mb-4",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:`w-12 h-12 rounded-lg flex items-center justify-center ${d.providerName==="PayPal"?"bg-blue-600":d.providerName==="Stripe"?"bg-purple-600":"bg-slate-600"}`,children:e.jsx("i",{className:`text-white text-2xl ${d.providerName==="PayPal"?"ri-paypal-line":d.providerName==="Stripe"?"ri-bank-card-line":"ri-shield-check-line"}`})}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-white",children:d.providerName}),e.jsx("span",{className:`text-xs px-2 py-1 rounded-full ${s(d.status)}`,children:d.status})]})]})}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-xs text-slate-500 mb-1",children:"Account Email"}),e.jsx("div",{className:"text-sm text-slate-300",children:d.accountEmail})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-xs text-slate-500 mb-1",children:"API Key"}),e.jsx("div",{className:"text-sm text-slate-300 font-mono",children:d.apiKeyLast4})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-xs text-slate-500 mb-1",children:"Last Sync"}),e.jsx("div",{className:"text-sm text-slate-300",children:b(d.lastSync)})]}),e.jsxs("div",{className:"pt-3 border-t border-slate-700",children:[e.jsxs("div",{className:"flex justify-between text-sm mb-2",children:[e.jsx("span",{className:"text-slate-400",children:"Total Transactions"}),e.jsx("span",{className:"text-white font-medium",children:d.totalTransactions})]}),e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{className:"text-slate-400",children:"Total Volume"}),e.jsx("span",{className:"text-white font-medium",children:N(d.totalVolume)})]})]})]}),e.jsxs("div",{className:"mt-4 flex gap-2",children:[e.jsxs("button",{className:"flex-1 px-3 py-2 bg-slate-700 hover:bg-slate-600 text-white rounded-lg transition-colors text-sm whitespace-nowrap",children:[e.jsx("i",{className:"ri-refresh-line mr-1"}),"Sync Now"]}),e.jsxs("button",{className:"flex-1 px-3 py-2 bg-slate-700 hover:bg-slate-600 text-white rounded-lg transition-colors text-sm whitespace-nowrap",children:[e.jsx("i",{className:"ri-settings-3-line mr-1"}),"Configure"]})]})]},d.id))}),e.jsx("div",{className:"bg-purple-500/10 border border-purple-500/30 rounded-xl p-6",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("i",{className:"ri-information-line text-purple-400 text-xl mt-0.5"}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-purple-300 mb-2",children:"Payment Provider Integration"}),e.jsxs("ul",{className:"text-sm text-purple-400/80 space-y-1 list-disc list-inside",children:[e.jsx("li",{children:"All payment providers are monitored in real-time"}),e.jsx("li",{children:"API connections are automatically tested every 5 minutes"}),e.jsx("li",{children:"Failed connections trigger immediate alerts to Finance Manager"}),e.jsx("li",{children:"All provider configuration changes are logged with admin identity"}),e.jsx("li",{children:"Transaction data is synced automatically every 15 minutes"})]})]})]})})]}),m==="transactions"&&e.jsx("div",{className:"space-y-6",children:e.jsxs("div",{className:"bg-slate-800 border border-slate-700 rounded-xl p-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-white mb-4",children:"Recent Banking Transactions"}),e.jsx("div",{className:"space-y-3",children:[{type:"Deposit",amount:15e3,account:"Fee Collection",date:"2024-03-21T10:30:00Z",status:"Completed"},{type:"Transfer",amount:12750,account:"Payout",date:"2024-03-21T09:15:00Z",status:"Completed"},{type:"Deposit",amount:18e3,account:"Escrow Reserve",date:"2024-03-20T16:45:00Z",status:"Completed"},{type:"Transfer",amount:15300,account:"Payout",date:"2024-03-20T14:20:00Z",status:"Completed"},{type:"Deposit",amount:22e3,account:"Fee Collection",date:"2024-03-20T11:00:00Z",status:"Completed"}].map((d,a)=>e.jsxs("div",{className:"flex items-center justify-between p-4 bg-slate-900/50 rounded-lg",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:`w-10 h-10 rounded-lg flex items-center justify-center ${d.type==="Deposit"?"bg-green-500/20":"bg-blue-500/20"}`,children:e.jsx("i",{className:`${d.type==="Deposit"?"ri-arrow-down-line text-green-400":"ri-arrow-right-line text-blue-400"}`})}),e.jsxs("div",{children:[e.jsx("div",{className:"font-medium text-white",children:d.type}),e.jsx("div",{className:"text-sm text-slate-400",children:d.account})]})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("div",{className:"font-medium text-white",children:N(d.amount)}),e.jsx("div",{className:"text-sm text-slate-400",children:b(d.date)})]})]},a))})]})}),c&&e.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center p-4 z-50",children:e.jsxs("div",{className:"bg-slate-800 border border-slate-700 rounded-2xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[e.jsxs("div",{className:"sticky top-0 bg-slate-800 border-b border-slate-700 px-6 py-4 flex items-center justify-between",children:[e.jsx("h3",{className:"text-xl font-bold text-white",children:"Add Bank Account"}),e.jsx("button",{onClick:()=>{w(!1),M()},className:"w-8 h-8 flex items-center justify-center hover:bg-slate-700 rounded-lg transition-colors text-slate-400",children:e.jsx("i",{className:"ri-close-line text-xl"})})]}),e.jsxs("div",{className:"p-6 space-y-6",children:[e.jsxs("div",{className:"bg-amber-500/10 border border-amber-500/30 rounded-lg p-4 flex items-start gap-3",children:[e.jsx("i",{className:"ri-alert-line text-amber-400 text-xl mt-0.5"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-amber-300 font-medium mb-1",children:"Important"}),e.jsx("p",{className:"text-sm text-amber-400/80",children:"Adding a bank account will be logged with your admin identity and timestamp. Ensure all information is accurate."})]})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:["Account Type ",e.jsx("span",{className:"text-red-400",children:"*"})]}),e.jsxs("select",{value:k,onChange:d=>g(d.target.value),className:"w-full px-4 py-2 bg-slate-900/50 border border-slate-600 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-red-500 focus:border-transparent",children:[e.jsx("option",{value:"Operating",children:"Operating"}),e.jsx("option",{value:"Fee Collection",children:"Fee Collection"}),e.jsx("option",{value:"Escrow Reserve",children:"Escrow Reserve"}),e.jsx("option",{value:"Payout",children:"Payout"})]})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:["Bank Name ",e.jsx("span",{className:"text-red-400",children:"*"})]}),e.jsx("input",{type:"text",value:h,onChange:d=>C(d.target.value),placeholder:"Chase Bank",className:"w-full px-4 py-2 bg-slate-900/50 border border-slate-600 rounded-lg text-white placeholder-slate-500 focus:outline-none focus:ring-2 focus:ring-red-500 focus:border-transparent"})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:["Account Holder Name ",e.jsx("span",{className:"text-red-400",children:"*"})]}),e.jsx("input",{type:"text",value:T,onChange:d=>I(d.target.value),placeholder:"LOCUM BNB LLC",className:"w-full px-4 py-2 bg-slate-900/50 border border-slate-600 rounded-lg text-white placeholder-slate-500 focus:outline-none focus:ring-2 focus:ring-red-500 focus:border-transparent"})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:["Account Number ",e.jsx("span",{className:"text-red-400",children:"*"})]}),e.jsx("input",{type:"text",value:u,onChange:d=>A(d.target.value),placeholder:"1234567890",className:"w-full px-4 py-2 bg-slate-900/50 border border-slate-600 rounded-lg text-white placeholder-slate-500 focus:outline-none focus:ring-2 focus:ring-red-500 focus:border-transparent"}),e.jsx("p",{className:"text-xs text-slate-500 mt-1",children:"Will be masked after saving"})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:["Routing Number ",e.jsx("span",{className:"text-red-400",children:"*"})]}),e.jsx("input",{type:"text",value:F,onChange:d=>D(d.target.value),placeholder:"021000021",className:"w-full px-4 py-2 bg-slate-900/50 border border-slate-600 rounded-lg text-white placeholder-slate-500 focus:outline-none focus:ring-2 focus:ring-red-500 focus:border-transparent"})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:["Currency ",e.jsx("span",{className:"text-red-400",children:"*"})]}),e.jsxs("select",{value:l,onChange:d=>n(d.target.value),className:"w-full px-4 py-2 bg-slate-900/50 border border-slate-600 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-red-500 focus:border-transparent",children:[e.jsx("option",{value:"USD",children:"USD - US Dollar"}),e.jsx("option",{value:"EUR",children:"EUR - Euro"}),e.jsx("option",{value:"GBP",children:"GBP - British Pound"}),e.jsx("option",{value:"CAD",children:"CAD - Canadian Dollar"})]})]}),e.jsx("div",{className:"p-4 bg-blue-500/10 border border-blue-500/30 rounded-lg",children:e.jsxs("div",{className:"text-sm text-blue-300",children:[e.jsx("div",{className:"font-semibold mb-1",children:"This action will be logged as:"}),e.jsxs("div",{children:["Admin: ",i.fullName]}),e.jsxs("div",{children:["Role: ",i.adminRole]}),e.jsxs("div",{children:["Timestamp: ",new Date().toLocaleString()]})]})})]}),e.jsxs("div",{className:"p-6 border-t border-slate-700 flex justify-end gap-3",children:[e.jsx("button",{onClick:()=>{w(!1),M()},className:"px-4 py-2 bg-slate-700 hover:bg-slate-600 text-white rounded-lg transition-colors whitespace-nowrap",children:"Cancel"}),e.jsx("button",{onClick:R,className:"px-4 py-2 bg-red-500 hover:bg-red-600 text-white rounded-lg transition-colors whitespace-nowrap",children:"Add Bank Account"})]})]})}),v&&p&&e.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center p-4 z-50",children:e.jsxs("div",{className:"bg-slate-800 border border-slate-700 rounded-2xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[e.jsxs("div",{className:"sticky top-0 bg-slate-800 border-b border-slate-700 px-6 py-4 flex items-center justify-between",children:[e.jsx("h3",{className:"text-xl font-bold text-white",children:"Account Details"}),e.jsx("button",{onClick:()=>{j(!1),y(null)},className:"w-8 h-8 flex items-center justify-center hover:bg-slate-700 rounded-lg transition-colors text-slate-400",children:e.jsx("i",{className:"ri-close-line text-xl"})})]}),e.jsxs("div",{className:"p-6 space-y-6",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"text-sm font-semibold text-slate-400 mb-3",children:"Account Information"}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-slate-500 mb-1",children:"Account ID"}),e.jsx("p",{className:"text-white font-mono text-sm",children:p.id})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-slate-500 mb-1",children:"Account Type"}),e.jsx("span",{className:`inline-flex px-3 py-1 rounded-full text-xs font-medium ${P(p.accountType)}`,children:p.accountType})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-slate-500 mb-1",children:"Bank Name"}),e.jsx("p",{className:"text-white",children:p.bankName})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-slate-500 mb-1",children:"Account Holder"}),e.jsx("p",{className:"text-white",children:p.accountHolderName})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-slate-500 mb-1",children:"Account Number"}),e.jsx("p",{className:"text-white font-mono",children:p.accountNumber})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-slate-500 mb-1",children:"Routing Number"}),e.jsx("p",{className:"text-white font-mono",children:p.routingNumber})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-slate-500 mb-1",children:"Currency"}),e.jsx("p",{className:"text-white",children:p.currency})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-slate-500 mb-1",children:"Status"}),e.jsx("span",{className:`inline-flex px-3 py-1 rounded-full text-xs font-medium ${s(p.status)}`,children:p.status})]}),p.balance!==void 0&&e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-slate-500 mb-1",children:"Current Balance"}),e.jsx("p",{className:"text-white font-semibold",children:N(p.balance)})]})]})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-sm font-semibold text-slate-400 mb-3",children:"Audit Trail"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"p-4 bg-slate-900/50 rounded-lg",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx("i",{className:"ri-add-circle-line text-green-400"}),e.jsx("span",{className:"text-sm font-medium text-white",children:"Account Added"})]}),e.jsxs("div",{className:"text-sm text-slate-400",children:["By: ",p.addedBy]}),e.jsx("div",{className:"text-sm text-slate-500",children:b(p.addedAt)})]}),p.verifiedBy&&e.jsxs("div",{className:"p-4 bg-slate-900/50 rounded-lg",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx("i",{className:"ri-checkbox-circle-line text-blue-400"}),e.jsx("span",{className:"text-sm font-medium text-white",children:"Account Verified"})]}),e.jsxs("div",{className:"text-sm text-slate-400",children:["By: ",p.verifiedBy]}),e.jsx("div",{className:"text-sm text-slate-500",children:b(p.verifiedAt)})]}),e.jsxs("div",{className:"p-4 bg-slate-900/50 rounded-lg",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx("i",{className:"ri-refresh-line text-purple-400"}),e.jsx("span",{className:"text-sm font-medium text-white",children:"Last Updated"})]}),e.jsx("div",{className:"text-sm text-slate-500",children:b(p.lastUpdated)})]})]})]})]}),e.jsx("div",{className:"p-6 border-t border-slate-700 flex justify-end gap-3",children:e.jsx("button",{onClick:()=>{j(!1),y(null)},className:"px-4 py-2 bg-slate-700 hover:bg-slate-600 text-white rounded-lg transition-colors whitespace-nowrap",children:"Close"})})]})})]})};function ue(){const i=Z(),[m,r]=x.useState(null),[c,w]=x.useState(!0),[v,j]=x.useState(!1),[p,y]=x.useState("users");x.useEffect(()=>{const g=localStorage.getItem("admin_session");if(!g){i("/admin/login");return}try{const h=JSON.parse(g);if(new Date(h.expiresAt)<new Date){localStorage.removeItem("admin_session"),i("/admin/login");return}r(h),w(!1),$.log(h.adminId,h.adminEmail,h.adminRole,"DASHBOARD_ACCESS","admin_dashboard","main",{page:"dashboard"},h.sessionId)}catch{i("/admin/login")}},[i]);const k=()=>{m&&$.log(m.adminId,m.adminEmail,m.adminRole,"ADMIN_LOGOUT","session",m.sessionId,{logoutTime:new Date().toISOString()},m.sessionId),localStorage.removeItem("admin_session"),i("/admin/login")};return c?e.jsx("div",{className:"min-h-screen bg-slate-900 flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("i",{className:"ri-loader-4-line text-4xl text-red-400 animate-spin"}),e.jsx("p",{className:"text-slate-400 mt-4",children:"Loading admin panel..."})]})}):m?(m.permissions.canViewUsers,m.permissions.canViewFinancials,m.permissions.canViewDisputes,m.permissions.canViewContracts,m.permissions.canManageVendors,m.permissions.canViewAnalytics,e.jsxs("div",{className:"min-h-screen bg-slate-900",children:[e.jsx("nav",{className:"bg-slate-800 border-b border-slate-700 sticky top-0 z-50",children:e.jsx("div",{className:"px-6 py-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("button",{onClick:()=>i("/"),className:"flex items-center gap-4 cursor-pointer hover:opacity-80 transition-opacity",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 bg-red-500/20 rounded-lg flex items-center justify-center",children:e.jsx("i",{className:"ri-shield-keyhole-line text-xl text-red-400"})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-lg font-bold text-white",children:"Admin Panel"}),e.jsx("p",{className:"text-xs text-slate-400",children:"Platform Management"})]})]})}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs("button",{onClick:()=>j(!v),className:"w-10 h-10 flex items-center justify-center text-slate-400 hover:text-white hover:bg-slate-700 rounded-lg transition-colors relative",children:[e.jsx("i",{className:"ri-notification-3-line text-xl"}),e.jsx("span",{className:"absolute top-1 right-1 w-2 h-2 bg-red-500 rounded-full"})]}),e.jsxs("div",{className:"hidden md:flex items-center gap-3 px-4 py-2 bg-slate-700/50 rounded-lg",children:[e.jsx("div",{className:"w-8 h-8 bg-red-500/20 rounded-full flex items-center justify-center",children:e.jsx("i",{className:"ri-user-line text-red-400"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-white",children:m.fullName}),e.jsx("p",{className:"text-xs text-slate-400",children:H[m.adminRole]})]})]}),e.jsxs("button",{onClick:k,className:"px-4 py-2 bg-slate-700 hover:bg-slate-600 text-white rounded-lg transition-colors flex items-center gap-2 whitespace-nowrap",children:[e.jsx("i",{className:"ri-logout-box-line"}),e.jsx("span",{className:"hidden sm:inline",children:"Logout"})]})]})]})})}),e.jsxs("div",{className:"p-6 max-w-7xl mx-auto",children:[e.jsxs("div",{className:"mb-8",children:[e.jsxs("h2",{className:"text-2xl font-bold text-white mb-2",children:["Welcome back, ",m.fullName]}),e.jsx("p",{className:"text-slate-400",children:J[m.adminRole]})]}),e.jsxs("div",{className:"mb-8 inline-flex items-center gap-2 px-4 py-2 bg-red-500/10 border border-red-500/30 rounded-lg",children:[e.jsx("i",{className:"ri-shield-star-line text-red-400"}),e.jsxs("span",{className:"text-sm font-medium text-red-300",children:["Role: ",H[m.adminRole]]})]}),e.jsx("div",{className:"bg-slate-800 border border-slate-700 rounded-xl p-2 mb-8",children:e.jsxs("div",{className:"flex items-center gap-2 overflow-x-auto",children:[e.jsxs("button",{onClick:()=>y("users"),className:`px-4 py-2 rounded-lg whitespace-nowrap transition-colors ${p==="users"?"bg-red-500 text-white":"text-slate-400 hover:text-white hover:bg-slate-700"}`,children:[e.jsx("i",{className:"ri-user-settings-line mr-2"}),"User Management"]}),e.jsxs("button",{onClick:()=>y("vendors"),className:`px-4 py-2 rounded-lg whitespace-nowrap transition-colors ${p==="vendors"?"bg-red-500 text-white":"text-slate-400 hover:text-white hover:bg-slate-700"}`,children:[e.jsx("i",{className:"ri-store-line mr-2"}),"Vendors"]}),e.jsxs("button",{onClick:()=>y("analytics"),className:`px-4 py-2 rounded-lg whitespace-nowrap transition-colors ${p==="analytics"?"bg-red-500 text-white":"text-slate-400 hover:text-white hover:bg-slate-700"}`,children:[e.jsx("i",{className:"ri-bar-chart-box-line mr-2"}),"Analytics"]}),e.jsxs("button",{onClick:()=>y("financial"),className:`px-4 py-2 rounded-lg whitespace-nowrap transition-colors ${p==="financial"?"bg-red-500 text-white":"text-slate-400 hover:text-white hover:bg-slate-700"}`,children:[e.jsx("i",{className:"ri-money-dollar-circle-line mr-2"}),"Financial"]}),e.jsxs("button",{onClick:()=>y("fees"),className:`px-4 py-2 rounded-lg whitespace-nowrap transition-colors ${p==="fees"?"bg-red-500 text-white":"text-slate-400 hover:text-white hover:bg-slate-700"}`,children:[e.jsx("i",{className:"ri-percent-line mr-2"}),"Platform Fees"]}),e.jsxs("button",{onClick:()=>y("banking"),className:`px-4 py-2 rounded-lg whitespace-nowrap transition-colors ${p==="banking"?"bg-red-500 text-white":"text-slate-400 hover:text-white hover:bg-slate-700"}`,children:[e.jsx("i",{className:"ri-bank-line mr-2"}),"Banking"]}),e.jsxs("button",{onClick:()=>y("disputes"),className:`px-4 py-2 rounded-lg whitespace-nowrap transition-colors ${p==="disputes"?"bg-red-500 text-white":"text-slate-400 hover:text-white hover:bg-slate-700"}`,children:[e.jsx("i",{className:"ri-scales-line mr-2"}),"Disputes"]}),e.jsxs("button",{onClick:()=>y("contracts"),className:`px-4 py-2 rounded-lg whitespace-nowrap transition-colors ${p==="contracts"?"bg-red-500 text-white":"text-slate-400 hover:text-white hover:bg-slate-700"}`,children:[e.jsx("i",{className:"ri-file-shield-line mr-2"}),"Contracts"]}),e.jsxs("button",{onClick:()=>y("moderation"),className:`px-4 py-2 rounded-lg whitespace-nowrap transition-colors ${p==="moderation"?"bg-red-500 text-white":"text-slate-400 hover:text-white hover:bg-slate-700"}`,children:[e.jsx("i",{className:"ri-shield-check-line mr-2"}),"Moderation"]}),e.jsxs("button",{onClick:()=>y("workflows"),className:`px-4 py-2 rounded-lg whitespace-nowrap transition-colors ${p==="workflows"?"bg-red-500 text-white":"text-slate-400 hover:text-white hover:bg-slate-700"}`,children:[e.jsx("i",{className:"ri-flow-chart mr-2"}),"Workflows"]})]})}),p==="users"&&e.jsx(K,{session:m}),p==="contracts"&&e.jsx(te,{session:m}),p==="disputes"&&e.jsx(se,{session:m}),p==="financial"&&e.jsx(le,{session:m}),p==="vendors"&&e.jsx(ie,{session:m}),p==="moderation"&&e.jsx(re,{session:m}),p==="workflows"&&e.jsx(ne,{}),p==="analytics"&&e.jsx(ce,{}),p==="fees"&&e.jsx(de,{}),p==="banking"&&e.jsx(oe,{session:m}),e.jsxs("div",{className:"mt-8 bg-slate-800/50 border border-slate-700 rounded-xl p-6",children:[e.jsx("h3",{className:"text-sm font-semibold text-slate-300 mb-4",children:"Session Information"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 text-sm",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-slate-500 mb-1",children:"Session ID"}),e.jsxs("p",{className:"text-slate-300 font-mono text-xs",children:[m.sessionId.substring(0,20),"..."]})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-slate-500 mb-1",children:"Login Time"}),e.jsx("p",{className:"text-slate-300",children:new Date(m.loginTime).toLocaleString()})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-slate-500 mb-1",children:"Session Expires"}),e.jsx("p",{className:"text-slate-300",children:new Date(m.expiresAt).toLocaleString()})]})]})]})]}),e.jsx(z,{isOpen:v,onClose:()=>j(!1)})]})):null}export{ue as default};
//# sourceMappingURL=page-CdO9pF6P.js.map
